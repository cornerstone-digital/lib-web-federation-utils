(function(h,m){typeof exports=="object"&&typeof module!="undefined"?m(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],m):(h=typeof globalThis!="undefined"?globalThis:h||self,m(h.ReactFederatedJourney={},h.React,h.ReactDOM))})(this,function(h,m,T){"use strict";var Ri=Object.defineProperty,Ti=Object.defineProperties;var Si=Object.getOwnPropertyDescriptors;var Vt=Object.getOwnPropertySymbols;var wi=Object.prototype.hasOwnProperty,Li=Object.prototype.propertyIsEnumerable;var nt=(h,m,T)=>m in h?Ri(h,m,{enumerable:!0,configurable:!0,writable:!0,value:T}):h[m]=T,Ue=(h,m)=>{for(var T in m||(m={}))wi.call(m,T)&&nt(h,T,m[T]);if(Vt)for(var T of Vt(m))Li.call(m,T)&&nt(h,T,m[T]);return h},Wt=(h,m)=>Ti(h,Si(m));var R=(h,m,T)=>(nt(h,typeof m!="symbol"?m+"":m,T),T);function ot(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function Yt(e){if(e&&e.__esModule)return e;var t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var it=ot(m),Ae=Yt(m),Jt=ot(T),S={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},b=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.prototype.hasOwnProperty.call(S,e)||(e=S.log),b[e].apply(b,t)};b.debug=console.debug.bind(console),b.log=console.log.bind(console),b.info=console.info.bind(console),b.warn=console.warn.bind(console),b.error=console.error.bind(console);var zt=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},de,st=!1;function Xt(e){de=e}function qt(e){st=e}function Qt(e,t,r){var n=r.value;r.value=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=de?E(n):n;return s.apply(this,o)}}function E(e){return function(){return j(e,this,arguments)}}function j(e,t,r){try{return e.apply(t,r)}catch(n){if(Ne(S.error,n),de)try{de(n)}catch(o){Ne(S.error,o)}}}function Ne(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];st&&b.apply(void 0,zt([e,"[MONITOR]"],t,!1))}var X=1e3,q=60*X,Zt=60*q,pe=1024;function er(e,t,r){var n=r&&r.leading!==void 0?r.leading:!0,o=r&&r.trailing!==void 0?r.trailing:!0,i=!1,s,a;return{throttled:function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];if(i){s=c;return}n?e.apply(void 0,c):s=c,i=!0,a=setTimeout(function(){o&&s&&e.apply(void 0,s),i=!1,s=void 0},t)},cancel:function(){clearTimeout(a),i=!1,s=void 0}}}function U(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}),e}function tr(e){return U({},e)}function G(e){return e?(parseInt(e,10)^Math.random()*16>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,G)}function at(e){return e!==0&&Math.random()*100<=e}function ve(){}function he(e,t,r){if(e==null)return JSON.stringify(e);var n=[!1,void 0];ct(e)&&(n=[!0,e.toJSON],delete e.toJSON);var o=[!1,void 0],i;typeof e=="object"&&(i=Object.getPrototypeOf(e),ct(i)&&(o=[!0,i.toJSON],delete i.toJSON));var s;try{s=JSON.stringify(e,t,r)}catch{s="<error: unable to serialize object>"}finally{n[0]&&(e.toJSON=n[1]),o[0]&&(i.toJSON=o[1])}return s}function ct(e){return typeof e=="object"&&e!==null&&Object.prototype.hasOwnProperty.call(e,"toJSON")}function Q(e,t){return e.indexOf(t)!==-1}function rr(e,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(t(n,r,e))return n}}function ut(e){return nr(e)&&e>=0&&e<=100}function nr(e){return typeof e=="number"}function Z(e){return Object.keys(e).map(function(t){return e[t]})}function or(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function ir(e){return Object.keys(e).length===0}function sr(e,t){return e.slice(0,t.length)===t}function Ce(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof e!="object"&&(typeof self=="object"?e=self:typeof window=="object"?e=window:e={}),e}function ar(){return cr(window.location)}function cr(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}function ur(e,t){var r=new RegExp("(?:^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)")),n=r.exec(e);return n?n[1]:void 0}function lr(e,t,r){r===void 0&&(r="");var n=e.charCodeAt(t-1),o=n>=55296&&n<=56319,i=o?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(r)}function ee(e,t,r,n){return lt(e,[t],r,n)}function lt(e,t,r,n){var o=n===void 0?{}:n,i=o.once,s=o.capture,a=o.passive,c=E(i?function(l){d(),r(l)}:r),f=a?{capture:s,passive:a}:s;t.forEach(function(l){return e.addEventListener(l,c,f)});var d=function(){return t.forEach(function(l){return e.removeEventListener(l,c,f)})};return{stop:d}}function fr(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function dr(){if(typeof WeakSet!="undefined"){var e=new WeakSet;return{hasAlreadyBeenSeen:function(r){var n=e.has(r);return n||e.add(r),n}}}var t=[];return{hasAlreadyBeenSeen:function(r){var n=t.indexOf(r)>=0;return n||t.push(r),n}}}function me(e,t,r){if(r===void 0&&(r=dr()),t===void 0)return e;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var n=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,n)}if(!r.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],i=0;i<t.length;++i)o[i]=me(o[i],t[i],r);return o}var s=fr(e)==="object"?e:{};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=me(s[a],t[a],r));return s}}function Ie(e){return me(void 0,e)}function Ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n=0,o=e;n<o.length;n++){var i=o[n];i!=null&&(r=me(r,i))}return r}function pr(e){var t=[];return e.forEach(function(r){return t.push(r)}),t}function vr(e){var t=new Set;return e.forEach(function(r){return t.add(r)}),pr(t)}var ft=X;function te(e,t,r,n){var o=new Date;o.setTime(o.getTime()+r);var i="expires=".concat(o.toUTCString()),s=n&&n.crossSite?"none":"strict",a=n&&n.domain?";domain=".concat(n.domain):"",c=n&&n.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/;samesite=").concat(s).concat(a).concat(c)}function K(e){return ur(document.cookie,e)}function dt(e,t){te(e,"",0,t)}function hr(e){if(document.cookie===void 0||document.cookie===null)return!1;try{var t="dd_cookie_test_".concat(G()),r="test";te(t,r,X,e);var n=K(t)===r;return dt(t,e),n}catch(o){return b.error(o),!1}}var Be;function mr(){if(Be===void 0){for(var e="dd_site_test_".concat(G()),t="test",r=window.location.hostname.split("."),n=r.pop();r.length&&!K(e);)n="".concat(r.pop(),".").concat(n),te(e,t,X,{domain:n});dt(e,{domain:n}),Be=n}return Be}function pt(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return e.apply(void 0,r)}catch(o){b.error(t,o)}}}var re;function Er(e){!Array.isArray(e)||(re||(re=new Set(e)),e.filter(function(t){return typeof t=="string"}).forEach(function(t){re.add(t)}))}function vt(e){return!!re&&re.has(e)}function ne(){return new Date().getTime()}function B(){return ne()}function oe(){return performance.now()}function ye(){return{relative:oe(),timeStamp:B()}}function yr(){return{relative:0,timeStamp:mt()}}function ht(e,t){return t-e}function gr(e){return e-mt()}var Pe;function mt(){return Pe===void 0&&(Pe=performance.timing.navigationStart),Pe}function xe(e){return Or(e,ar()).href}function Or(e,t){if(br())return t!==void 0?new URL(e,t):new URL(e);if(t===void 0&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var r=document,n=r.createElement("a");if(t!==void 0){r=document.implementation.createHTMLDocument("");var o=r.createElement("base");o.href=t,r.head.appendChild(o),r.body.appendChild(n)}return n.href=e,n}var V;function br(){if(V!==void 0)return V;try{var e=new URL("http://test/path");return V=e.href==="http://test/path",V}catch{V=!1}return V}var _r="datad0g.com",ke="datadoghq.com",Rr="ddog-gov.com",Tr={logs:"logs",rum:"rum",sessionReplay:"session-replay"},Sr={logs:"logs",rum:"rum",sessionReplay:"replay"};function ie(e,t,r){var n=e.site,o=n===void 0?ke:n,i=e.clientToken,s=o.split("."),a=s.pop(),c="".concat(Tr[t],".browser-intake-").concat(s.join("-"),".").concat(a),f="https://".concat(c,"/api/v2/").concat(Sr[t]),d=e.proxyUrl&&xe(e.proxyUrl);return{build:function(){var l="ddsource=browser"+"&ddtags=".concat(encodeURIComponent(["sdk_version:".concat("4.14.0")].concat(r).join(",")))+"&dd-api-key=".concat(i)+"&dd-evp-origin-version=".concat(encodeURIComponent("4.14.0"))+"&dd-evp-origin=browser"+"&dd-request-id=".concat(G());t==="rum"&&(l+="&batch_time=".concat(B()));var v="".concat(f,"?").concat(l);return d?"".concat(d,"?ddforward=").concat(encodeURIComponent(v)):v},buildIntakeUrl:function(){return d?"".concat(d,"?ddforward"):f},endpointType:t}}var wr=200;function Lr(e){var t=e.env,r=e.service,n=e.version,o=e.datacenter,i=[];return t&&i.push(ge("env",t)),r&&i.push(ge("service",r)),n&&i.push(ge("version",n)),o&&i.push(ge("datacenter",o)),i}var Dr=/[^a-z0-9_:./-]/;function ge(e,t){var r=wr-e.length-1;(t.length>r||Dr.test(t))&&b.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var n=t.replace(/,/g,"_");return"".concat(e,":").concat(n)}function Mr(e){var t=Lr(e),r=Ur(e,t),n=Z(r).map(function(i){return i.buildIntakeUrl()}),o=Ar(e,n,t);return U({isIntakeUrl:function(i){return n.some(function(s){return i.indexOf(s)===0})},replica:o,site:e.site||ke},r)}function Ur(e,t){return{logsEndpointBuilder:ie(e,"logs",t),rumEndpointBuilder:ie(e,"rum",t),sessionReplayEndpointBuilder:ie(e,"sessionReplay",t)}}function Ar(e,t,r){if(!!e.replica){var n=U({},e,{site:ke,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:ie(n,"logs",r),rumEndpointBuilder:ie(n,"rum",r)};return t.push.apply(t,Z(o).map(function(i){return i.buildIntakeUrl()})),U({applicationId:e.replica.applicationId},o)}}function Nr(e){var t,r;if(!e||!e.clientToken){b.error("Client Token is not configured, we will not send any data.");return}if(e.sampleRate!==void 0&&!ut(e.sampleRate)){b.error("Sample Rate should be a number between 0 and 100");return}if(e.telemetrySampleRate!==void 0&&!ut(e.telemetrySampleRate)){b.error("Telemetry Sample Rate should be a number between 0 and 100");return}return Er(e.enableExperimentalFeatures),U({beforeSend:e.beforeSend&&pt(e.beforeSend,"beforeSend threw an error:"),cookieOptions:Cr(e),sampleRate:(t=e.sampleRate)!==null&&t!==void 0?t:100,telemetrySampleRate:(r=e.telemetrySampleRate)!==null&&r!==void 0?r:20,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:vt("lower-batch-size")?10*pe:16*pe,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*X,batchMessagesLimit:50,messageBytesLimit:256*pe},Mr(e))}function Cr(e){var t={};return t.secure=Ir(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=mr()),t}function Ir(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}var Oe="?";function H(e){var t=[],r=je(e,"stack");return r&&r.split(`
`).forEach(function(n){var o=xr(n)||jr(n)||Hr(n);o&&(!o.func&&o.line&&(o.func=Oe),t.push(o))}),{message:je(e,"message"),name:je(e,"name"),stack:t}}var Br=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Pr=/\((\S*)(?::(\d+))(?::(\d+))\)/;function xr(e){var t=Br.exec(e);if(!!t){var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,o=Pr.exec(t[2]);return n&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Oe,line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}}var kr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function jr(e){var t=kr.exec(e);if(!!t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Oe,line:+t[3],url:t[2]}}var Gr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Kr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Hr(e){var t=Gr.exec(e);if(!!t){var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Kr.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||Oe,line:t[4]?+t[4]:void 0,url:t[3]}}}function je(e,t){if(!(typeof e!="object"||!e||!(t in e))){var r=e[t];return typeof r=="string"?r:void 0}}function Et(e,t,r){var n=e[t],o=r(n),i=function(){return o.apply(this,arguments)};return e[t]=i,{stop:function(){e[t]===i?e[t]=n:o=n}}}function W(e,t,r){var n=r.before,o=r.after;return Et(e,t,function(i){return function(){var s=arguments,a;return n&&j(n,this,s),typeof i=="function"&&(a=i.apply(this,s)),o&&j(o,this,s),a}})}var Fr=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function $r(e){var t=Vr(e).stop,r=Wr(e).stop;return{stop:function(){t(),r()}}}function Vr(e){return W(window,"onerror",{before:function(t,r,n,o,i){var s;if(i)s=H(i),e(s,i);else{var a={url:r,column:o,line:n},c,f=t;if({}.toString.call(t)==="[object String]"){var d=Fr.exec(f);d&&(c=d[1],f=d[2])}s={name:c,message:typeof f=="string"?f:void 0,stack:[a]},e(s,t)}}})}function Wr(e){return W(window,"onunhandledrejection",{before:function(t){var r=t.reason||"Empty reason",n=H(r);e(n,r)}})}var w={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Yr(e,t,r,n){return!e||e.message===void 0&&!(t instanceof Error)?{message:"".concat(r," ").concat(he(t)),stack:"No stack, consider using an instance of Error",handlingStack:n,type:e&&e.name}:{message:e.message||"Empty message",stack:Y(e),handlingStack:n,type:e.name}}function Y(e){var t=yt(e);return e.stack.forEach(function(r){var n=r.func==="?"?"<anonymous>":r.func,o=r.args&&r.args.length>0?"(".concat(r.args.join(", "),")"):"",i=r.line?":".concat(r.line):"",s=r.line&&r.column?":".concat(r.column):"";t+=`
  at `.concat(n).concat(o," @ ").concat(r.url).concat(i).concat(s)}),t}function Jr(e){var t;return(t=/@ (.+)/.exec(e))===null||t===void 0?void 0:t[1]}function yt(e){return"".concat(e.name||"Error",": ").concat(e.message)}function zr(){var e=2,t=new Error,r;if(!t.stack)try{throw t}catch{}return j(function(){var n=H(t);n.stack=n.stack.slice(e),r=Y(n)}),r}function Xr(e){return $r(function(t,r){var n=Yr(t,r,"Uncaught"),o=n.stack,i=n.message,s=n.type;e.notify({message:i,stack:o,type:s,source:w.SOURCE,startClocks:ye(),originalError:r,handling:"unhandled"})})}function qr(e){var t=U({version:"4.14.0",onReady:function(r){r()}},e);return Object.defineProperty(t,"_setDebug",{get:function(){return qt},enumerable:!1}),t}function Qr(e,t,r){var n=e[t];e[t]=r,n&&n.q&&n.q.forEach(function(o){return pt(o,"onReady callback threw an error:")()})}var I=function(){function e(t){this.onFirstSubscribe=t,this.observers=[]}return e.prototype.subscribe=function(t){var r=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(t),{unsubscribe:function(){r.observers=r.observers.filter(function(n){return t!==n}),!r.observers.length&&r.onLastUnsubscribe&&r.onLastUnsubscribe()}}},e.prototype.notify=function(t){this.observers.forEach(function(r){return r(t)})},e}();function gt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=new I(function(){var n=e.map(function(o){return o.subscribe(function(i){return r.notify(i)})});return function(){return n.forEach(function(o){return o.unsubscribe()})}});return r}var x={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Zr(e){var t=[];Q(e,x.cspViolation)&&t.push(tn());var r=e.filter(function(n){return n!==x.cspViolation});return r.length&&t.push(en(r)),gt.apply(void 0,t)}function en(e){var t=new I(function(){if(!!window.ReportingObserver){var r=E(function(o){return o.forEach(function(i){t.notify(rn(i))})}),n=new window.ReportingObserver(r,{types:e,buffered:!0});return n.observe(),function(){n.disconnect()}}});return t}function tn(){var e=new I(function(){var t=E(function(n){e.notify(nn(n))}),r=ee(document,"securitypolicyviolation",t).stop;return r});return e}function rn(e){var t=e.type,r=e.body;return{type:t,subtype:r.id,message:"".concat(t,": ").concat(r.message),stack:Ot(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)}}function nn(e){var t=x.cspViolation,r="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:x.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(r),stack:Ot(e.effectiveDirective,"".concat(r,' of the policy "').concat(lr(e.originalPolicy,100,"..."),'"'),e.sourceFile,e.lineNumber,e.columnNumber)}}function Ot(e,t,r,n,o){return r&&Y({name:e,message:t,stack:[{func:"?",url:r,line:n,column:o}]})}var on=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],sn=[Rr],J={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1},Ge;function an(e){var t,r=new I;J.telemetryEnabled=at(e.telemetrySampleRate),Ge=function(o){!Q(sn,e.site)&&J.telemetryEnabled&&r.notify(n(o))},Xt(bt),U(J,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function n(o){return Ee({type:"telemetry",date:B(),service:"browser-sdk",version:"4.14.0",source:"browser",_dd:{format_version:2},telemetry:o},t!==void 0?t():{})}return{setContextProvider:function(o){t=o},observable:r}}function cn(e){return e.site===_r}function un(e,t){Ne(S.debug,e,t),_t(U({message:e,status:"debug"},t))}function bt(e){_t(U({status:"error"},ln(e)))}function _t(e){Ge&&J.sentEventCount<J.maxEventsPerPage&&(J.sentEventCount+=1,Ge(e))}function ln(e){if(e instanceof Error){var t=H(e);return{error:{kind:t.name,stack:Y(fn(t))},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(he(e))}}function fn(e){return e.stack=e.stack.filter(function(t){return!t.url||on.some(function(r){return sr(t.url,r)})}),e}var be=1/0,dn=q,pn=function(){function e(t){var r=this;this.expireDelay=t,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return r.clearOldContexts()},dn)}return e.prototype.add=function(t,r){var n=this,o={context:t,startTime:r,endTime:be,remove:function(){var i=n.entries.indexOf(o);i>=0&&n.entries.splice(i,1)},close:function(i){o.endTime=i}};return this.entries.unshift(o),o},e.prototype.find=function(t){t===void 0&&(t=be);for(var r=0,n=this.entries;r<n.length;r++){var o=n[r];if(o.startTime<=t){if(t<=o.endTime)return o.context;break}}},e.prototype.closeActive=function(t){var r=this.entries[0];r&&r.endTime===be&&r.close(t)},e.prototype.findAll=function(t){return t===void 0&&(t=be),this.entries.filter(function(r){return r.startTime<=t&&t<=r.endTime}).map(function(r){return r.context})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var t=oe()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<t;)this.entries.pop()},e}();function vn(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var Rt=4*Zt,Tt=15*q,St=/^([a-z]+)=([a-z0-9-]+)$/,Ke="&",_e="_dd_s",hn=10,mn=100,wt=[],Re;function se(e,t){var r;if(t===void 0&&(t=0),Re||(Re=e),e!==Re){wt.push(e);return}if(t>=mn){Lt();return}var n,o=ae();if(He()){if(o.lock){Te(e,t);return}if(n=G(),o.lock=n,Fe(o,e.options),o=ae(),o.lock!==n){Te(e,t);return}}var i=e.process(o);if(He()&&(o=ae(),o.lock!==n)){Te(e,t);return}if(i&&Dt(i,e.options),He()&&!(i&&Mt(i))){if(o=ae(),o.lock!==n){Te(e,t);return}delete o.lock,Fe(o,e.options),i=o}(r=e.after)===null||r===void 0||r.call(e,i||o),Lt()}function He(){return vn()}function Te(e,t){setTimeout(E(function(){se(e,t+1)}),hn)}function Lt(){Re=void 0;var e=wt.shift();e&&se(e)}function Dt(e,t){if(Mt(e)){gn(t);return}e.expire=String(ne()+Tt),Fe(e,t)}function Fe(e,t){te(_e,En(e),Tt,t)}function En(e){return or(e).map(function(t){var r=t[0],n=t[1];return"".concat(r,"=").concat(n)}).join(Ke)}function ae(){var e=K(_e),t={};return yn(e)&&e.split(Ke).forEach(function(r){var n=St.exec(r);if(n!==null){var o=n[1],i=n[2];t[o]=i}}),t}function yn(e){return e!==void 0&&(e.indexOf(Ke)!==-1||St.test(e))}function Mt(e){return ir(e)}function gn(e){te(_e,"",0,e)}var On="_dd",bn="_dd_r",_n="_dd_l",Rn="rum",Tn="logs";function Sn(e){var t=K(_e),r=K(On),n=K(bn),o=K(_n);if(!t){var i={};r&&(i.id=r),o&&/^[01]$/.test(o)&&(i[Tn]=o),n&&/^[012]$/.test(n)&&(i[Rn]=n),Dt(i,e)}}function wn(e,t,r){var n=new I,o=new I,i=setInterval(E(f),ft),s=L();function a(){var p;se({options:e,process:function(A){var P=d(A);return p=l(P),P},after:function(A){p&&!v()&&k(A),s=A}})}function c(){se({options:e,process:function(p){return v()?d(p):void 0}})}function f(){se({options:e,process:function(p){return N(p)?void 0:{}},after:d})}function d(p){return N(p)||(p={}),v()&&(_(p)?O():s=p),p}function l(p){var A=r(p[t]),P=A.trackingType,C=A.isTracked;return p[t]=P,C&&!p.id&&(p.id=G(),p.created=String(ne())),C}function v(){return s[t]!==void 0}function _(p){return s.id!==p.id||s[t]!==p[t]}function O(){s={},o.notify()}function k(p){s=p,n.notify()}function L(){var p=ae();return N(p)?p:{}}function N(p){return(p.created===void 0||ne()-Number(p.created)<Rt)&&(p.expire===void 0||ne()<Number(p.expire))}return{expandOrRenewSession:er(E(a),ft).throttled,expandSession:c,getSession:function(){return s},renewObservable:n,expireObservable:o,stop:function(){clearInterval(i)}}}var Ln=q,Dn=Rt;function Mn(e,t,r){Sn(e);var n=wn(e,t,r),o=new pn(Dn);n.renewObservable.subscribe(function(){o.add(i(),oe())}),n.expireObservable.subscribe(function(){o.closeActive(oe())}),n.expandOrRenewSession(),o.add(i(),yr().relative),Un(function(){return n.expandOrRenewSession()}),An(function(){return n.expandSession()});function i(){return{id:n.getSession().id,trackingType:n.getSession()[t]}}return{findActiveSession:function(s){return o.find(s)},renewObservable:n.renewObservable,expireObservable:n.expireObservable}}function Un(e){lt(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop}function An(e){var t=E(function(){document.visibilityState==="visible"&&e()});ee(document,"visibilitychange",t).stop,setInterval(t,Ln)}var Nn="datadog-browser-sdk-failed-send-beacon";function Cn(e,t,r){if(!!vt("failed-sendbeacon")){var n={reason:r,endpointType:e,version:"4.14.0",connection:navigator.connection?navigator.connection.effectiveType:void 0,onLine:navigator.onLine,size:t};r==="before_unload"||r==="visibility_hidden"?window.localStorage.setItem("".concat(Nn,"-").concat(G()),JSON.stringify(n)):un("failed sendBeacon",n)}}var In=function(){function e(t,r){this.endpointBuilder=t,this.bytesLimit=r}return e.prototype.send=function(t,r,n){var o=this.endpointBuilder.build(),i=!!navigator.sendBeacon&&r<this.bytesLimit;if(i)try{var s=navigator.sendBeacon(o,t);if(s)return;Cn(this.endpointBuilder.endpointType,r,n)}catch(c){Bn(c)}var a=new XMLHttpRequest;a.open("POST",o,!0),a.send(t)},e}(),Ut=!1;function Bn(e){Ut||(Ut=!0,bt(e))}var Pn=/[^\u0000-\u007F]/,xn=function(){function e(t,r,n,o,i,s){s===void 0&&(s=ve),this.request=t,this.batchMessagesLimit=r,this.batchBytesLimit=n,this.messageBytesLimit=o,this.flushTimeout=i,this.beforeUnloadCallback=s,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(t){this.addOrUpdate(t)},e.prototype.upsert=function(t,r){this.addOrUpdate(t,r)},e.prototype.flush=function(t){if(this.bufferMessagesCount!==0){var r=this.pushOnlyBuffer.concat(Z(this.upsertBuffer)),n=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,this.request.send(r.join(`
`),n,t)}},e.prototype.computeBytesCount=function(t){return Pn.test(t)?window.TextEncoder!==void 0?new TextEncoder().encode(t).length:new Blob([t]).size:t.length},e.prototype.addOrUpdate=function(t,r){var n=this.process(t),o=n.processedMessage,i=n.messageBytesCount;if(i>=this.messageBytesLimit){b.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(r)&&this.remove(r),this.willReachedBytesLimitWith(i)&&this.flush("batch_bytes_limit"),this.push(o,i,r),this.isFull()&&this.flush("batch_messages_limit")},e.prototype.process=function(t){var r=he(t),n=this.computeBytesCount(r);return{processedMessage:r,messageBytesCount:n}},e.prototype.push=function(t,r,n){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),n!==void 0?this.upsertBuffer[n]=t:this.pushOnlyBuffer.push(t),this.bufferBytesCount+=r,this.bufferMessagesCount+=1},e.prototype.remove=function(t){var r=this.upsertBuffer[t];delete this.upsertBuffer[t];var n=this.computeBytesCount(r);this.bufferBytesCount-=n,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},e.prototype.hasMessageFor=function(t){return t!==void 0&&this.upsertBuffer[t]!==void 0},e.prototype.willReachedBytesLimitWith=function(t){return this.bufferBytesCount+t+1>=this.batchBytesLimit},e.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},e.prototype.flushPeriodically=function(){var t=this;setTimeout(E(function(){t.flush("batch_flush_timeout"),t.flushPeriodically()}),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var t=this;navigator.sendBeacon&&(ee(window,"beforeunload",this.beforeUnloadCallback),ee(document,"visibilitychange",function(){document.visibilityState==="hidden"&&t.flush("visibility_hidden")}),ee(window,"beforeunload",function(){return t.flush("before_unload")}))},e}();function $e(){var e=kn();if(!!e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,r){e.send(JSON.stringify({eventType:t,event:r}))}}}function Se(e){var t;e===void 0&&(e=(t=Ce().location)===null||t===void 0?void 0:t.hostname);var r=$e();return!!r&&r.getAllowedWebViewHosts().some(function(n){var o=n.replace(/\./g,"\\."),i=new RegExp("^(.+\\.)*".concat(o,"$"));return i.test(e)})}function kn(){return Ce().DatadogEventBridge}function At(e,t,r){var n=i(t),o;r&&(o=i(r));function i(s){return new xn(new In(s,e.batchBytesLimit),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout)}return{add:function(s,a){a===void 0&&(a=!0),n.add(s),o&&a&&o.add(s)}}}function jn(e,t,r){var n=0,o=!1;return{isLimitReached:function(){if(n===0&&setTimeout(function(){n=0},q),n+=1,n<=t||o)return o=!1,!1;if(n===t+1){o=!0;try{r({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:w.AGENT,startClocks:ye()})}finally{o=!1}}return!0}}}var Ve,We=new WeakMap;function Gn(){return Ve||(Ve=Kn()),Ve}function Kn(){var e=new I(function(){var t=W(XMLHttpRequest.prototype,"open",{before:Hn}).stop,r=W(XMLHttpRequest.prototype,"send",{before:function(){Fn.call(this,e)}}).stop,n=W(XMLHttpRequest.prototype,"abort",{before:$n}).stop;return function(){t(),r(),n()}});return e}function Hn(e,t){We.set(this,{state:"open",method:e,url:xe(t.toString())})}function Fn(e){var t=this,r=We.get(this);if(!!r){var n=r;n.state="start",n.startTime=oe(),n.startClocks=ye(),n.isAborted=!1,n.xhr=this;var o=!1,i=W(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&s()}}).stop,s=E(function(){if(t.removeEventListener("loadend",s),i(),!o){o=!0;var a=r;a.state="complete",a.duration=ht(n.startClocks.timeStamp,B()),a.status=t.status,e.notify(tr(a))}});this.addEventListener("loadend",s),e.notify(n)}}function $n(){var e=We.get(this);e&&(e.isAborted=!0)}var Ye;function Vn(){return Ye||(Ye=Wn()),Ye}function Wn(){var e=new I(function(){if(!!window.fetch){var t=Et(window,"fetch",function(r){return function(n,o){var i,s=j(Yn,null,[e,n,o]);return s?(i=r.call(this,s.input,s.init),j(Jn,null,[e,i,s])):i=r.call(this,n,o),i}}).stop;return t}});return e}function Yn(e,t,r){var n=r&&r.method||typeof t=="object"&&t.method||"GET",o=xe(typeof t=="object"&&t.url||t),i=ye(),s={state:"start",init:r,input:t,method:n,startClocks:i,url:o};return e.notify(s),s}function Jn(e,t,r){var n=function(o){var i=r;i.state="complete",i.duration=ht(i.startClocks.timeStamp,B()),"stack"in o||o instanceof Error?(i.status=0,i.isAborted=o instanceof DOMException&&o.code===DOMException.ABORT_ERR,i.error=o,e.notify(i)):"status"in o&&(i.response=o,i.responseType=o.type,i.status=o.status,i.isAborted=!1,e.notify(i))};t.then(E(n),E(n))}var Je={};function zn(e){var t=e.map(function(r){return Je[r]||(Je[r]=Xn(r)),Je[r]});return gt.apply(void 0,t)}function Xn(e){var t=new I(function(){var r=console[e];return console[e]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];r.apply(console,n);var i=zr();j(function(){t.notify(qn(n,e,i))})},function(){console[e]=r}});return t}function qn(e,t,r){var n=e.map(function(s){return Qn(s)}).join(" "),o;if(t===S.error){var i=rr(e,function(s){return s instanceof Error});o=i?Y(H(i)):void 0,n="console error: ".concat(n)}return{api:t,message:n,stack:o,handlingStack:r}}function Qn(e){return typeof e=="string"?e:e instanceof Error?yt(H(e)):he(e,void 0,2)}var Zn=500,eo=function(){function e(){this.buffer=[]}return e.prototype.add=function(t){var r=this.buffer.push(t);r>Zn&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach(function(t){return t()}),this.buffer.length=0},e}();function Nt(){var e={};return{get:function(){return e},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},set:function(t){e=t}}}var to=32*pe;function ro(e){var t=Nr(e),r=Ct(e.forwardConsoleLogs,Z(S),"Forward Console Logs"),n=Ct(e.forwardReports,Z(x),"Forward Reports");if(!(!t||!r||!n))return e.forwardErrorsToLogs&&!Q(r,S.error)&&r.push(S.error),U({forwardErrorsToLogs:e.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:to},t)}function Ct(e,t,r){if(e===void 0)return[];if(!(e==="all"||Array.isArray(e)&&e.every(function(n){return Q(t,n)}))){b.error("".concat(r,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'));return}return e==="all"?t:vr(e)}var no=globalThis&&globalThis.__decorate||function(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},y={debug:"debug",error:"error",info:"info",warn:"warn"},ze={console:"console",http:"http",silent:"silent"},oo=Object.keys(y),It=function(){function e(t,r,n,o,i){n===void 0&&(n=ze.http),o===void 0&&(o=y.debug),i===void 0&&(i={}),this.handleLogStrategy=t,this.handlerType=n,this.level=o,this.contextManager=Nt(),this.contextManager.set(U({},i,r?{logger:{name:r}}:void 0))}return e.prototype.log=function(t,r,n){n===void 0&&(n=y.info),this.handleLogStrategy({message:t,context:Ie(r),status:n},this)},e.prototype.debug=function(t,r){this.log(t,r,y.debug)},e.prototype.info=function(t,r){this.log(t,r,y.info)},e.prototype.warn=function(t,r){this.log(t,r,y.warn)},e.prototype.error=function(t,r){var n={error:{origin:w.LOGGER}};this.log(t,Ee(n,r),y.error)},e.prototype.setContext=function(t){this.contextManager.set(t)},e.prototype.getContext=function(){return this.contextManager.get()},e.prototype.addContext=function(t,r){this.contextManager.add(t,r)},e.prototype.removeContext=function(t){this.contextManager.remove(t)},e.prototype.setHandler=function(t){this.handlerType=t},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(t){this.level=t},e.prototype.getLevel=function(){return this.level},no([Qt],e.prototype,"log",null),e}();function io(e){var t=!1,r=Nt(),n={},o=new eo,i=function(l,v,_,O){_===void 0&&(_=Ie(c())),O===void 0&&(O=B()),o.add(function(){return i(l,v,_,O)})},s=function(){},a=new It(function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];return i.apply(void 0,l)});function c(){return{view:{referrer:document.referrer,url:window.location.href},context:r.get()}}return qr({logger:a,init:E(function(l){if(Se()&&(l=f(l)),!!d(l)){var v=ro(l);!v||(i=e(v,c,a).handleLog,s=function(){return Ie(l)},o.drain(),t=!0)}}),getLoggerGlobalContext:E(r.get),setLoggerGlobalContext:E(r.set),addLoggerGlobalContext:E(r.add),removeLoggerGlobalContext:E(r.remove),createLogger:E(function(l,v){return v===void 0&&(v={}),n[l]=new It(function(){for(var _=[],O=0;O<arguments.length;O++)_[O]=arguments[O];return i.apply(void 0,_)},l,v.handler,v.level,v.context),n[l]}),getLogger:E(function(l){return n[l]}),getInitConfiguration:E(function(){return s()})});function f(l){return U({},l,{clientToken:"empty"})}function d(l){return t?(l.silentMultipleInit||b.error("DD_LOGS is already initialized."),!1):!0}}var so="logs";function ao(e){var t=Mn(e.cookieOptions,so,function(r){return uo(e,r)});return{findTrackedSession:function(r){var n=t.findActiveSession(r);return n&&n.trackingType==="1"?{id:n.id}:void 0}}}function co(e){var t=Bt(e)==="1",r=t?{}:void 0;return{findTrackedSession:function(){return r}}}function Bt(e){return at(e.sampleRate)?"1":"0"}function uo(e,t){var r=lo(t)?t:Bt(e);return{trackingType:r,isTracked:r==="1"}}function lo(e){return e==="0"||e==="1"}var z,Pt=(z={},z[y.debug]=0,z[y.info]=1,z[y.warn]=2,z[y.error]=3,z);function fo(e){function t(r,n,o,i){var s=r.context;xt(r.status,ze.console,n)&&b(r.status,r.message,Ee(n.getContext(),s)),e.notify(0,{rawLogsEvent:{date:i||B(),message:r.message,status:r.status,origin:w.LOGGER},messageContext:s,savedCommonContext:o,logger:n})}return{handleLog:t}}function xt(e,t,r){var n=r.getHandler(),o=Array.isArray(n)?n:[n];return Pt[e]>=Pt[r.getLevel()]&&Q(o,t)}function po(e,t){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{origin:w.AGENT},origin:w.AGENT,status:y.error}})}function vo(e,t,r,n,o){var i=oo.concat(["custom"]),s={};i.forEach(function(a){s[a]=jn(a,t.eventRateLimiterThreshold,function(c){return po(c,r)})}),r.subscribe(0,function(a){var c,f,d,l=a.rawLogsEvent,v=a.messageContext,_=v===void 0?void 0:v,O=a.savedCommonContext,k=O===void 0?void 0:O,L=a.logger,N=L===void 0?o:L,p=gr(l.date),A=e.findTrackedSession(p);if(!!A){var P=k||n(),C=Ee({service:t.service,session_id:A.id,view:P.view},P.context,we(p),l,N.getContext(),_);!xt(l.status,ze.http,N)||((c=t.beforeSend)===null||c===void 0?void 0:c.call(t,C))===!1||((f=C.error)===null||f===void 0?void 0:f.origin)!==w.AGENT&&((d=s[C.status])!==null&&d!==void 0?d:s.custom).isLimitReached()||r.notify(1,C)}})}function we(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}var F,ho=(F={},F[S.log]=y.info,F[S.debug]=y.debug,F[S.info]=y.info,F[S.warn]=y.warn,F[S.error]=y.error,F);function mo(e,t){var r=zn(e.forwardConsoleLogs).subscribe(function(n){t.notify(0,{rawLogsEvent:{date:B(),message:n.message,origin:w.CONSOLE,error:n.api===S.error?{origin:w.CONSOLE,stack:n.stack}:void 0,status:ho[n.api]}})});return{stop:function(){r.unsubscribe()}}}var ce,Eo=(ce={},ce[x.cspViolation]=y.error,ce[x.intervention]=y.error,ce[x.deprecation]=y.warn,ce);function yo(e,t){var r=Zr(e.forwardReports).subscribe(function(n){var o=n.message,i=Eo[n.type],s;i===y.error?s={kind:n.subtype,origin:w.REPORT,stack:n.stack}:n.stack&&(o+=" Found in ".concat(Jr(n.stack))),t.notify(0,{rawLogsEvent:{date:B(),message:o,origin:w.REPORT,error:s,status:i}})});return{stop:function(){r.unsubscribe()}}}function go(e,t){if(!e.forwardErrorsToLogs)return{stop:ve};var r=Gn().subscribe(function(i){i.state==="complete"&&o("xhr",i)}),n=Vn().subscribe(function(i){i.state==="complete"&&o("fetch",i)});function o(i,s){!e.isIntakeUrl(s.url)&&(Ro(s)||To(s))&&("xhr"in s?Oo(s.xhr,e,a):s.response?_o(s.response,e,a):s.error&&bo(s.error,e,a));function a(c){t.notify(0,{rawLogsEvent:{message:"".concat(So(i)," error ").concat(s.method," ").concat(s.url),date:s.startClocks.timeStamp,error:{origin:w.NETWORK,stack:c||"Failed to load"},http:{method:s.method,status_code:s.status,url:s.url},status:y.error,origin:w.NETWORK}})}}return{stop:function(){r.unsubscribe(),n.unsubscribe()}}}function Oo(e,t,r){typeof e.response=="string"?r(Xe(e.response,t)):r(e.response)}function bo(e,t,r){r(Xe(Y(H(e)),t))}function _o(e,t,r){window.TextDecoder?e.body?wo(e.clone().body,t.requestErrorResponseLengthLimit,function(n,o){r(n?"Unable to retrieve response: ".concat(n):o)}):r():e.clone().text().then(E(function(n){return r(Xe(n,t))}),E(function(n){return r("Unable to retrieve response: ".concat(n))}))}function Ro(e){return e.status===0&&e.responseType!=="opaque"}function To(e){return e.status>=500}function Xe(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}function So(e){return e==="xhr"?"XHR":"Fetch"}function wo(e,t,r){Lo(e,t,function(n,o,i){if(n)r(n);else{var s=new TextDecoder().decode(o);i&&(s+="..."),r(void 0,s)}})}function Lo(e,t,r){var n=e.getReader(),o=[],i=0;s();function s(){n.read().then(E(function(c){if(c.done){a();return}o.push(c.value),i+=c.value.length,i>t?a():s()}),E(function(c){return r(c)}))}function a(){n.cancel().catch(ve);var c;if(o.length===1)c=o[0];else{c=new Uint8Array(i);var f=0;o.forEach(function(d){c.set(d,f),f+=d.length})}r(void 0,c.slice(0,t),c.length>t)}}function Do(e,t){if(!e.forwardErrorsToLogs)return{stop:ve};var r=new I,n=Xr(r).stop,o=r.subscribe(function(i){t.notify(0,{rawLogsEvent:{message:i.message,date:i.startClocks.timeStamp,error:{kind:i.type,origin:w.SOURCE,stack:i.stack},origin:w.SOURCE,status:y.error}})});return{stop:function(){n(),o.unsubscribe()}}}var Mo=function(){function e(){this.callbacks={}}return e.prototype.notify=function(t,r){var n=this.callbacks[t];n&&n.forEach(function(o){return o(r)})},e.prototype.subscribe=function(t,r){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter(function(o){return r!==o})}}},e}();function Uo(e,t){var r,n=At(e,e.logsEndpointBuilder,(r=e.replica)===null||r===void 0?void 0:r.logsEndpointBuilder);t.subscribe(1,function(o){n.add(o)})}function Ao(e){var t=$e();e.subscribe(1,function(r){t.send("log",r)})}function No(e,t,r){var n=new Mo,o=Co(e);o.setContextProvider(function(){var a,c,f,d,l,v;return{application:{id:(a=we())===null||a===void 0?void 0:a.application_id},session:{id:(c=s.findTrackedSession())===null||c===void 0?void 0:c.id},view:{id:(d=(f=we())===null||f===void 0?void 0:f.view)===null||d===void 0?void 0:d.id},action:{id:(v=(l=we())===null||l===void 0?void 0:l.user_action)===null||v===void 0?void 0:v.id}}}),go(e,n),Do(e,n),mo(e,n),yo(e,n);var i=fo(n).handleLog,s=hr(e.cookieOptions)&&!Se()?ao(e):co(e);return vo(s,e,n,t,r),Se()?Ao(n):Uo(e,n),{handleLog:i}}function Co(e){var t,r=an(e);if(Se()){var n=$e();r.observable.subscribe(function(i){return n.send("internal_telemetry",i)})}else{var o=At(e,e.rumEndpointBuilder,(t=e.replica)===null||t===void 0?void 0:t.rumEndpointBuilder);r.observable.subscribe(function(i){return o.add(i,cn(e))})}return r}var Le=io(No);Qr(Ce(),"DD_LOGS",Le);class Io{constructor(t,r,n){R(this,"logLevels",{debug:4,error:1,info:3,off:0,warn:2});R(this,"instance");R(this,"logLevel","info");R(this,"service","federated-core");R(this,"options");R(this,"namespace","browser");Le.init(Wt(Ue({},n.config),{service:t})),Le.logger.setLevel(r),this.options=n,this.service=t,this.logLevel=r,this.instance=Le.logger}log(t,r,n="unknown",o={}){var a;if(this.logLevel==="off"||(a=this.options.filteredLogs)!=null&&a.includes(r))return;const s=typeof r=="object"?JSON.stringify({data:r}):r;this.isLevelEnabled(t)&&this.instance[t](`[${this.namespace}] - ${s}`,{logContext:Ue({componentName:n},o)})}isLevelEnabled(t){return this.logLevels[this.logLevel]>=this.logLevels[t]}debug(t,r,n){this.log("debug",t,r,n)}error(t,r,n){this.log("error",t,r,n)}info(t,r,n){this.log("info",t,r,n)}warn(t,r,n){this.log("warn",t,r,n)}get level(){return this.logLevel}set level(t){this.logLevel=t}get serviceName(){return this.service}get loggerInstance(){return this.instance}}const qe=()=>typeof window!="undefined",Bo=e=>e.replace(/\s/g,"-").split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join("");var g;(function(e){e.NOT_LOADED="NOT_LOADED",e.LOADED="LOADED",e.BOOTSTRAPPING="BOOTSTRAPPING",e.BOOTSTRAPPED="BOOTSTRAPPED",e.NOT_MOUNTED="NOT_MOUNTED",e.MOUNTING="MOUNTING",e.MOUNTED="MOUNTED",e.UPDATING="UPDATING",e.UNMOUNTING="UNMOUNTING",e.UNMOUNT_ERROR="UNMOUNT_ERROR",e.UNMOUNTED="UNMOUNTED",e.UNLOADING="UNLOADING",e.LOAD_ERROR="LOAD_ERROR",e.UPDATE_ERROR="UPDATE_ERROR"})(g||(g={}));var u;(function(e){e.RUNTIME_BEFORE_BOOTSTRAP="federated-core:runtime:before-bootstrap",e.RUNTIME_BOOTSTRAPPED="federated-core:runtime:bootstrapped",e.RUNTIME_BOOTSTRAP_ERROR="federated-core:runtime:bootstrap:error",e.RUNTIME_BEFORE_START="federated-core:runtime:before-start",e.RUNTIME_STARTED="federated-core:runtime:started",e.RUNTIME_START_ERROR="federated-core:runtime:start:error",e.RUNTIME_MODULES_PREFETCH_START="federated-core:runtime:modules:pre-fetch:start",e.RUNTIME_BEFORE_MODULE_PREFETCH="federated-core:runtime:module:before-prefetch",e.RUNTIME_MODULE_PREFETCHED="federated-core:runtime:module:prefetched",e.RUNTIME_MODULE_PREFETCH_ERROR="federated-core:runtime:module:prefetch:error",e.RUNTIME_MODULES_PREFETCHED="federated-core:runtime:modules:pre-fetched",e.RUNTIME_ROUTES_PREFETCH_START="federated-core:runtime:routes:pre-fetch:start",e.RUNTIME_BEFORE_ROUTE_PREFETCH="federated-core:runtime:route:before-prefetch",e.RUNTIME_ROUTE_PREFETCHED="federated-core:runtime:route:prefetched",e.RUNTIME_ROUTES_PREFETCH_ERROR="federated-core:runtime:routes:prefetch:error",e.RUNTIME_ROUTES_PREFETCHED="federated-core:runtime:routes:pre-fetched",e.IMPORT_MAP_OVERRIDES_LOADED="federated-core:import-map-overrides:loaded",e.IMPORT_MAP_OVERRIDES_LOAD_ERROR="federated-core:import-map-overrides:load-error",e.ROUTE_CHANGED="federated-core:route:changed",e.ROUTE_ERROR="federated-core:route:error",e.ROUTE_ALREADY_ACTIVE="federated-core:route:already-active",e.ROUTE_NAVIGATE_TO="federated-core:route:navigate-to",e.POPSTATE_EVENT_FIRED="federated-core:popstate:event-fired",e.POPSTATE_EVENT_ERROR="federated-core:popstate:event-error",e.NATIVE_MODULE_LOADING="federated-core:native-module:loading",e.NATIVE_MODULE_LOADED="federated-core:native-module:loaded",e.NATIVE_MODULE_LOAD_ERROR="federated-core:native-module:load-error",e.SYSTEMJS_LOADED="federated-core:systemjs:loaded",e.SYSTEMJS_LOAD_ERROR="federated-core:systemjs:load-error",e.SYSTEMJS_MODULE_LOADING="federated-core:systemjs:module:loading",e.SYSTEMJS_MODULE_LOADED="federated-core:systemjs:module:loaded",e.MODULE_BEFORE_REGISTER="federated-core:module:%moduleKey%:before-register",e.MODULE_REGISTERED="federated-core:module:%moduleKey%:registered",e.MODULE_ALREADY_REGISTERED="federated-core:module:%moduleKey%:already-registered",e.MODULE_REGISTER_ERROR="federated-core:module:%moduleKey%:register:error",e.MODULE_BEFORE_LOAD="federated-core:module:%moduleKey%:before-load",e.MODULE_LOADED="federated-core:module:%moduleKey%:loaded",e.MODULE_ALREADY_LOADED="federated-core:module:%moduleKey%:already-loaded",e.MODULE_LOAD_ERROR="federated-core:module:%moduleKey%:load:error",e.MODULE_VALIDATE_PROPS="federated-core:module:%moduleKey%:validate-props",e.MODULE_STATE_CHANGED="federated-core:module:%moduleKey%:state-changed",e.MODULE_BEFORE_BOOTSTRAP="federated-core:module:%moduleKey%:before-bootstrap",e.MODULE_BOOTSTRAPPED="federated-core:module:%moduleKey%:bootstrapped",e.MODULE_BOOTSTRAP_ERROR="federated-core:module:%moduleKey%:bootstrap:error",e.MODULE_BEFORE_MOUNT="federated-core:module:%moduleKey%:before-mount",e.MODULE_MOUNTED="federated-core:module:%moduleKey%:mounted",e.MODULE_MOUNT_ERROR="federated-core:module:%moduleKey%:mount:error",e.MODULE_ALREADY_MOUNTED="federated-core:module:%moduleKey%:already-mounted",e.MODULE_BEFORE_UNMOUNT="federated-core:module:%moduleKey%:before-unmount",e.MODULE_UNMOUNTED="federated-core:module:%moduleKey%:unmounted",e.MODULE_UNMOUNT_ERROR="federated-core:module:%moduleKey%:unmount:error",e.MODULE_NOT_MOUNTED="federated-core:module:%moduleKey%:not-mounted",e.MODULE_BEFORE_UPDATE="federated-core:module:%moduleKey%:before-update",e.MODULE_UPDATED="federated-core:module:%moduleKey%:updated",e.MODULE_UPDATE_ERROR="federated-core:module:%moduleKey%:update:error"})(u||(u={}));const Po=(e,t,r)=>{const n=document.createElement(t);n.id=e,Object.keys(r).forEach(o=>{n.setAttribute(o,r[o])}),document.body.appendChild(n)},xo=(e,t,r)=>{const n=document.createElement("link");n.id=e,n.rel=t,n.href=r,document.head.appendChild(n)},ko=(e,t,r)=>{if(document.getElementById(e))return;const n=document.createElement("meta");n.id=e,n.content=r,n.name=t,document.head.appendChild(n)},ue=(e,t,r)=>{if(document.getElementById(e))return;const n=document.createElement("script");n.id=e,n.src=t,n.crossOrigin="anonymous",r&&(n.onload=r),document.body.appendChild(n)},M=(e,t)=>`${e}:${t}`,jo=e=>`^${e.replace(/\*/g,".*")}$`,kt=(e,t)=>!!t.find(n=>new RegExp(jo(n)).test(e)),jt=(e,t)=>t.activeWhenPaths?kt(e,t.activeWhenPaths)&&!kt(e,t.exceptWhenPaths||[]):!1,$=new Map,Qe=e=>{const t=$.has(e)?$.get(e):null;if(t){const{type:r,fn:n}=t;window.removeEventListener(r,n),$.delete(e)}},Go=(e,t,r)=>{const n=`${e}__${Date.now()}__${Math.floor(Math.random()*1e3)}`;let o=e;return r&&(o=Ze(o,r)),$.set(n,{type:o,fn:t}),window.addEventListener(o,t),()=>Qe(n)},Ze=(e,t)=>e.replace("%moduleKey%",M(t.scope,t.name)),D={register:Go,unregister:Qe,unregisterAll:()=>{$.forEach((e,t)=>{Qe(t)})},emit:(e,t)=>{let r=e.type;t!=null&&t.name&&(r=Ze(r,t)),window.dispatchEvent(new CustomEvent(r,e.payload)),window.__FEDERATED_CORE__.federatedRuntime.debugEnabled&&console.log(`[EventService] Emitted event: ${r}`,e.payload)},clear:()=>{$.clear()},replaceModuleKey:Ze,eventStore:$},De=new Map,et=e=>De.has(e),Ko={event:D,logger:{hasLogger:et,getLogger:(e,t,r,n=!1)=>{const o=`${e}-logger`;if(et(o)&&!n)return De.get(o);const i=new Io(e,t,r);return De.set(o,i),i},deleteLogger:e=>{et(e)&&De.delete(e)}}};class tt{constructor(){R(this,"_bootstrapped",!1);R(this,"_started",!1);R(this,"_useNativeModules",!1);R(this,"_importMapOverridesEnabled",!1);R(this,"_debugEnabled",!1);R(this,"_sharedDependencyBaseUrl","");R(this,"_cdnUrl","");R(this,"_modules",new Map);R(this,"_services",Ko)}set bootstrapped(t){this._bootstrapped=t}get bootstrapped(){return this._bootstrapped}set started(t){this._started=t}get started(){return this._started}set debugEnabled(t){this._debugEnabled=t}get debugEnabled(){return this._debugEnabled}set sharedDependencyBaseUrl(t){this._sharedDependencyBaseUrl=t}get sharedDependencyBaseUrl(){return this._sharedDependencyBaseUrl}set useNativeModules(t){this._useNativeModules=t}get useNativeModules(){return this._useNativeModules}set importMapOverridesEnabled(t){this._importMapOverridesEnabled=t}get importMapOverridesEnabled(){return this._importMapOverridesEnabled}set cdnUrl(t){this._cdnUrl=t}get cdnUrl(){return this._cdnUrl}set modules(t){this._modules=t}get modules(){return this._modules}get services(){return this._services}addImportMapOverridesUi(){const t="import-map-overrides";this.importMapOverridesEnabled&&(Po("import-map-overrides-ui","import-map-overrides-full",{"show-when-local-storage":t}),localStorage.setItem(t,"true"),ue(t,"https://cdn.jsdelivr.net/npm/import-map-overrides/dist/import-map-overrides.js"),this.services.event.emit({type:u.IMPORT_MAP_OVERRIDES_LOADED,payload:{loadedTime:Date.now()}}))}ensureSystemJs(){this.useNativeModules||(ko("importmap-type","importmap-type","systemjs-importmap"),ue("systemjs",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/system.min.js`),ue("systemjs-named-exports",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/named-exports.min.js`),ue("systemjs-amd",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/amd.min.js`),ue("systemjs-dynamic-import-maps",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/dynamic-import-maps.min.js`),this.services.event.emit({type:u.SYSTEMJS_LOADED,payload:{loadedTime:Date.now()}}))}async fetchImportMapContent(t){const r=`${t}/entries-import-map.json`;return(await fetch(r)).json()}addBaseUrl(t,r){return window.__FEDERATED_CORE__.moduleBaseUrls[t]=r,this}setModuleState(t,r){const{scope:n,name:o}=t,i=M(n,o);Array.from(this.modules.entries()).forEach(([s,a])=>{s===i&&(a.status=r,this.modules.set(i,a),this.services.event.emit({type:u.MODULE_STATE_CHANGED,payload:{module:a}},t))})}setModuleRootComponent(t,r){const{scope:n,name:o}=t,i=M(n,o),s=this.modules.get(i);s&&(s.rootComponent=r,this.modules.set(i,s))}getModuleRootComponent(t){const{scope:r,name:n}=t,o=M(r,n),i=this.modules.get(o);if(i)return i.rootComponent}async registerModule(t){var i,s;const{scope:r,name:n}=t,o=M(r,n);return this.modules.has(o)&&((i=this.modules.get(o))==null?void 0:i.status)===g.LOADED?this.services.event.emit({type:u.MODULE_ALREADY_REGISTERED,payload:{module:t}},t):this.modules.has(o)&&((s=this.modules.get(o))==null?void 0:s.status)===g.MOUNTED?this.services.event.emit({type:u.MODULE_ALREADY_MOUNTED,payload:{module:t}},t):(this.services.event.emit({type:u.MODULE_BEFORE_REGISTER,payload:{module:t}},t),this.setModuleState({scope:t.scope,name:t.name},g.NOT_LOADED),this.modules.set(o,t),this.services.event.emit({type:u.MODULE_REGISTERED,payload:{module:t}},t)),this}async getModuleUrl(t){const{scope:r,name:n}=t,o=window.__FEDERATED_CORE__.moduleBaseUrls[r],i=await this.fetchImportMapContent(o),s=M(r,n);return i.imports[s]}getModulesByPath(t){const r=[];return this.modules.forEach(n=>{jt(t,n)&&r.push(n)}),r}async loadModule(t){var o,i;const{scope:r,name:n}=t;try{const s=M(r,n);if(this.modules.has(s)){const c=this.modules.get(s);if(c&&["journey-module","component"].includes(c.type)&&((o=this.modules.get(s))==null?void 0:o.status)===g.MOUNTED)return this.services.event.emit({type:u.MODULE_ALREADY_MOUNTED,payload:{module:t}},t),this.modules.get(s);if(c&&((i=this.modules.get(s))==null?void 0:i.status)===g.LOADED)return this.services.event.emit({type:u.MODULE_ALREADY_LOADED,payload:{module:t}},t),this.modules.get(s)}this.services.event.emit({type:u.MODULE_BEFORE_LOAD,payload:{module:t}},t);let a;if(qe()){const c=window.__FEDERATED_CORE__.moduleBaseUrls[r],d=(await this.fetchImportMapContent(c)).imports[`${n}.css`];d&&xo(`${n}.css`,"stylesheet",d)}return this.useNativeModules?(this.services.event.emit({type:u.NATIVE_MODULE_LOADING,payload:{module:t}},t),a=await import(await this.getModuleUrl({scope:r,name:n})),this.services.event.emit({type:u.NATIVE_MODULE_LOADED,payload:{loadedTime:new Date().getTime(),module:a}},t)):(this.services.event.emit({type:u.SYSTEMJS_MODULE_LOADING,payload:{module:t}},t),a=await System.import(n),this.services.event.emit({type:u.SYSTEMJS_MODULE_LOADED,payload:{module:a}},t)),!this.modules.has(s)&&!a.status&&await this.registerModule(a),(!a.status||a.status===g.NOT_LOADED)&&this.setModuleState({scope:r,name:n},g.LOADED),a}catch(s){this.services.event.emit({type:u.MODULE_LOAD_ERROR,payload:{module:t,error:s}},t);return}}async mountModule(t,r,n){const{scope:o,name:i}=t,s=await this.loadModule({scope:o,name:i});s!=null&&s.mount&&await s.mount(r,n)}async unmountModule(t){const{scope:r,name:n}=t,o=await this.modules.get(M(r,n));o!=null&&o.unmount&&await o.unmount()}validateProps(t,r){const{scope:n,name:o}=t,i=M(n,o);this.services.event.emit({type:u.MODULE_VALIDATE_PROPS,payload:{module:t,props:r}},t);const s=this.modules.get(i);return s!=null&&s.validateProps?s.validateProps(r):!0}async preFetchModules(t){this.services.event.emit({type:u.RUNTIME_MODULES_PREFETCH_START,payload:{modules:t}});for(const r of t){const{name:n,scope:o}=r,i=M(o,n);this.modules.has(i)||(this.services.event.emit({type:u.RUNTIME_BEFORE_MODULE_PREFETCH,payload:{module:r}}),await this.loadModule({scope:o,name:n}),this.services.event.emit({type:u.RUNTIME_MODULE_PREFETCHED,payload:{module:r}}))}return this.services.event.emit({type:u.RUNTIME_MODULES_PREFETCHED,payload:{modules:t}}),this}async applyModules(){const t=[],r=[];this.modules.forEach(n=>{jt(window.location.pathname,n)?t.push(n):r.push(n)});for(const n of r){const o=M(n.scope,n.name),i=this.modules.get(o);i!=null&&i.unmount?(this.services.event.emit({type:u.MODULE_BEFORE_UNMOUNT,payload:{module:n}},n),await i.unmount(),this.services.event.emit({type:u.MODULE_UNMOUNTED,payload:{module:i}},n)):((i==null?void 0:i.type)==="journey-module"||(i==null?void 0:i.type)==="component")&&this.setModuleState({scope:n.scope,name:n.name},g.NOT_LOADED)}for(const n of t)try{const{scope:o,name:i}=n,s=await this.loadModule({scope:o,name:i});s!=null&&s.mount&&(this.services.event.emit({type:u.MODULE_BEFORE_MOUNT,payload:{module:s}},n),await s.mount(),this.services.event.emit({type:u.MODULE_MOUNTED,payload:{module:s}},n))}catch(o){this.services.event.emit({type:u.MODULE_MOUNT_ERROR,payload:{module:n,error:o}},n)}}navigateTo(t){if(window.location.pathname===t){this.services.event.emit({type:u.ROUTE_ALREADY_ACTIVE,payload:{path:t}});return}this.services.event.emit({type:u.ROUTE_NAVIGATE_TO,payload:{previousPath:window.location.pathname,path:t}}),window.history.pushState(null,"",t),window.dispatchEvent(new PopStateEvent("popstate"))}async reroute(){this.services.event.emit({type:u.ROUTE_CHANGED,payload:{path:window.location.pathname}}),await this.applyModules()}async preFetchRoutes(t){try{this.services.event.emit({type:u.RUNTIME_ROUTES_PREFETCH_START,payload:{routes:t}}),t.forEach(r=>{this.services.event.emit({type:u.RUNTIME_BEFORE_ROUTE_PREFETCH,payload:{path:r}}),this.getModulesByPath(r).forEach(async o=>{const{name:i,scope:s}=o;(o==null?void 0:o.status)!==g.LOADED&&await this.loadModule({scope:s,name:i})}),this.services.event.emit({type:u.RUNTIME_ROUTE_PREFETCHED,payload:{path:r}})}),this.services.event.emit({type:u.RUNTIME_ROUTES_PREFETCHED,payload:{routes:t}})}catch(r){this.services.event.emit({type:u.RUNTIME_ROUTES_PREFETCH_ERROR,payload:{routes:t,error:r}})}return this}async bootstrap(){this.bootstrapped=!1;const t=Date.now();this.services.event.emit({type:u.RUNTIME_BEFORE_BOOTSTRAP,payload:{bootstrapTime:new Date().toDateString(),modules:this.modules,modulesBaseUrls:window.__FEDERATED_CORE__.moduleBaseUrls,useNativeModules:this.useNativeModules,importMapOverridesEnabled:this.importMapOverridesEnabled}}),window.addEventListener("popstate",async o=>{this.services.event.emit({type:u.POPSTATE_EVENT_FIRED,payload:{popstateEvent:o}}),await this.reroute()}),this.ensureSystemJs(),this.addImportMapOverridesUi();for(const o of this.modules){const i=o[1];try{i.bootstrap&&(this.services.event.emit({type:u.MODULE_BEFORE_BOOTSTRAP,payload:{module:i}},i),await i.bootstrap(),this.services.event.emit({type:u.MODULE_BOOTSTRAPPED,payload:{module:i}},i))}catch(s){this.services.event.emit({type:u.MODULE_BOOTSTRAP_ERROR,payload:{module:i,error:s}},i)}}const r=Date.now(),n=r-t;this.bootstrapped=!0,this.services.event.emit({type:u.RUNTIME_BOOTSTRAPPED,payload:{bootstrapEndTime:r,bootstrapDuration:n}})}async start(){try{const t=Date.now();this.started=!1,this.services.event.emit({type:u.RUNTIME_BEFORE_START,payload:{startTime:new Date(t).toDateString(),modules:this.modules}}),await this.bootstrap(),await this.reroute();const r=Date.now(),n=r-t;this.services.event.emit({type:u.RUNTIME_STARTED,payload:{startTime:t,startEndTime:r,startDuration:n}}),this.started=!0}catch(t){this.services.event.emit({type:u.RUNTIME_START_ERROR,payload:{error:t}})}}}const Ho=()=>qe()?(window.__FEDERATED_CORE__.federatedRuntime||(window.__FEDERATED_CORE__.federatedRuntime=new tt),window.__FEDERATED_CORE__.federatedRuntime):new tt;qe()&&!window.__FEDERATED_CORE__&&(window.__FEDERATED_CORE__={moduleBaseUrls:{},federatedRuntime:new tt});var Me={exports:{}},le={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Gt=Object.getOwnPropertySymbols,Fo=Object.prototype.hasOwnProperty,$o=Object.prototype.propertyIsEnumerable;function Vo(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Wo(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Wo();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=it.default,Kt=60103;if(le.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var Ht=Symbol.for;Kt=Ht("react.element"),le.Fragment=Ht("react.fragment")}var Jo=Yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zo=Object.prototype.hasOwnProperty,Xo={key:!0,ref:!0,__self:!0,__source:!0};function Ft(e,t,r){var n,o={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)zo.call(t,n)&&!Xo.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Kt,type:e,key:i,ref:s,props:o,_owner:Jo.current}}le.jsx=Ft,le.jsxs=Ft,Me.exports=le;const fe=Me.exports.jsx,qo=Me.exports.jsxs,Qo=Me.exports.Fragment,Zo=async(e,t)=>{try{D.emit({type:u.MODULE_BEFORE_BOOTSTRAP,payload:{module:e}},e),t==null||t.setModuleState(e,g.BOOTSTRAPPING),D.emit({type:u.MODULE_BOOTSTRAPPED,payload:{module:e}},e),t==null||t.setModuleState(e,g.BOOTSTRAPPED)}catch(r){D.emit({type:u.MODULE_BOOTSTRAP_ERROR,payload:{module:e,error:r}},e)}};function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},rt(e,t)}function ei(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rt(e,t)}var ti=function(t,r){return t===void 0&&(t=[]),r===void 0&&(r=[]),t.length!==r.length||t.some(function(n,o){return!Object.is(n,r[o])})},$t={error:null},ri=function(e){ei(t,e);function t(){for(var n,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,n.state=$t,n.resetErrorBoundary=function(){for(var a,c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];n.props.onReset==null||(a=n.props).onReset.apply(a,f),n.reset()},n}t.getDerivedStateFromError=function(o){return{error:o}};var r=t.prototype;return r.reset=function(){this.setState($t)},r.componentDidCatch=function(o,i){var s,a;(s=(a=this.props).onError)==null||s.call(a,o,i)},r.componentDidUpdate=function(o,i){var s=this.state.error,a=this.props.resetKeys;if(s!==null&&i.error!==null&&ti(o.resetKeys,a)){var c,f;(c=(f=this.props).onResetKeysChange)==null||c.call(f,o.resetKeys,a),this.reset()}},r.render=function(){var o=this.state.error,i=this.props,s=i.fallbackRender,a=i.FallbackComponent,c=i.fallback;if(o!==null){var f={error:o,resetErrorBoundary:this.resetErrorBoundary};if(Ae.isValidElement(c))return c;if(typeof s=="function")return s(f);if(a)return Ae.createElement(a,f);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(Ae.Component);function ni(e){const t=r=>fe(ri,{fallbackRender:({error:n})=>e.config.errorBoundary?e.config.errorBoundary(n):qo("div",{children:[fe("h1",{children:"Something went wrong"}),fe("p",{children:n.message})]}),children:r.children});return t.displayName=`WithErrorBoundary${Bo(e.config.name)}`,t}const oi=(e,t,r)=>{const n=typeof e.renderType=="function"?e.renderType():e.renderType||"render",o=r.innerHTML!=="";return n==="hydrate"||o?e.ReactDOM.hydrate(t,r):e.ReactDOM.render(t,r),null},ii=(e,t,r,n)=>{const o=`${e.scope}-${e.name}`;return async(i=n,s)=>{const{React:a,config:{scope:c,name:f,domElementId:d}}=r;let{rootComponent:l}=r.config;const v=M(c,f),_=t.modules.get(v),O=s||d||o,k=document.getElementById(O);k||D.emit({type:u.MODULE_MOUNT_ERROR,payload:{module:e,error:new Error(`Could not find dom container with id ${d}`)}},e),_!=null&&_.bootstrap&&await _.bootstrap(),l=l||t.getModuleRootComponent(e);try{t==null||t.setModuleState(e,g.MOUNTING);const L=i||n;t==null||t.validateProps(e,L);let N,p=!1;if(r.config.loadRootComponent&&(N=await r.config.loadRootComponent(),l=N,t.setModuleRootComponent(e,l),p=!0),l){const A=a.createElement(l,L),P=ni(r);let C=a.createElement(P,{},A);p&&(C=a.createElement(m.Suspense,{fallback:a.createElement("div",null,"Loading...")},C)),D.emit({type:u.MODULE_BEFORE_MOUNT,payload:{module:e}},e),k&&oi(r,C,k),D.emit({type:u.MODULE_MOUNTED,payload:{module:e}},e),t==null||t.setModuleState({scope:c,name:f},g.MOUNTED)}}catch(L){D.emit({type:u.MODULE_MOUNT_ERROR,payload:{module:e,error:L}},e),t==null||t.setModuleState({scope:c,name:f},g.LOAD_ERROR)}}},si=(e,t,r)=>{try{const{ReactDOM:n}=r;t==null||t.setModuleState(e,g.UNMOUNTING);const o=r.config.domElementId||`${e.scope}-${e.name}`,i=document.getElementById(o);i&&(n.unmountComponentAtNode(i),D.emit({type:u.MODULE_UNMOUNTED,payload:{module:e}},e),t==null||t.setModuleState(e,g.UNMOUNTED))}catch(n){D.emit({type:u.MODULE_UNMOUNT_ERROR,payload:{module:e,error:n}},e),t==null||t.setModuleState(e,g.UNMOUNT_ERROR)}},ai=(e,t,r)=>async n=>{try{t==null||t.setModuleState(e,g.UPDATING);const o=n||r.config.defaultProps,i=M(e.scope,e.name),s=t.modules.get(i);if(D.emit({type:u.MODULE_BEFORE_UPDATE,payload:{module:e}},e),!s){D.emit({type:u.MODULE_UPDATE_ERROR,payload:{module:e,error:new Error(`Could not find module with key ${i}`)}},e);return}s!=null&&s.unmount&&await s.unmount(),s!=null&&s.mount&&await s.mount(o),D.emit({type:u.MODULE_UPDATED,payload:{module:e}},e)}catch(o){D.emit({type:u.MODULE_UPDATE_ERROR,payload:{module:e,error:o}},e),t==null||t.setModuleState(e,g.UPDATE_ERROR)}};function ci(e){if(!e.config)throw new Error("Missing config");if(!e.React)throw new Error("Missing React");if(!e.ReactDOM)throw new Error("Missing ReactDOM");if(!e.config.name)throw new Error("Missing name");if(!e.config.scope)throw new Error("Missing scope");if(!e.config.rootComponent&&!e.config.loadRootComponent)throw new Error("Missing rootComponent or loadRootComponent");if(e.config.rootComponent&&e.config.loadRootComponent)throw new Error("Cannot have both rootComponent and loadRootComponent")}function ui(e){ci(e);const{federatedRuntime:t,config:r}=e,{rootComponent:n}=r,{domElementId:o=`${r.scope}-${r.name}`,loadRootComponent:i,defaultProps:s,name:a,scope:c,type:f,description:d,propValidationFunction:l,activeWhenPaths:v,exceptWhenPaths:_}=r,O={scope:c,name:a};return Ue({domElementId:o,rootComponent:n,loadRootComponent:i,activeWhenPaths:v||[],exceptWhenPaths:_||[],description:d,name:a,scope:c,type:f,validateProps:L=>l?l(L):!0},{bootstrap:()=>Zo(O,t),mount:(L,N)=>ii(O,t,e,s)(L,N),unmount:async()=>si(O,t,e),update:async L=>ai(O,t,e)(L)})}const li=()=>fe(Qo,{children:fe("h1",{children:"Hello"})});var{name:fi,scope:di,mount:pi,unmount:vi,bootstrap:hi,update:mi,exceptWhenPaths:Ei,activeWhenPaths:yi,type:gi,domElementId:Oi,status:bi,rootComponent:_i}=ui({React:it.default,ReactDOM:Jt.default,federatedRuntime:Ho(),config:{scope:"vfuk-federated-journey-example",name:"ReactFederatedJourney",type:"journey-module",activeWhenPaths:["/","/mixed"],exceptWhenPaths:["/asasd"],domElementId:"root",rootComponent:li}});h.activeWhenPaths=yi,h.bootstrap=hi,h.domElementId=Oi,h.exceptWhenPaths=Ei,h.mount=pi,h.name=fi,h.rootComponent=_i,h.scope=di,h.status=bi,h.type=gi,h.unmount=vi,h.update=mi,Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});

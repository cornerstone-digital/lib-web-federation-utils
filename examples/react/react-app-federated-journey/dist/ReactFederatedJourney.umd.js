(function(L,we){typeof exports=="object"&&typeof module!="undefined"?we(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],we):(L=typeof globalThis!="undefined"?globalThis:L||self,we(L.ReactFederatedJourney={},L.require$$0,L.ReactDOM))})(this,function(L,we,Bo){"use strict";function Hr(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Kr=Hr(we),Po=Hr(Bo),N={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},M=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.prototype.hasOwnProperty.call(N,e)||(e=N.log),M[e].apply(M,t)};M.debug=console.debug.bind(console),M.log=console.log.bind(console),M.info=console.info.bind(console),M.warn=console.warn.bind(console),M.error=console.error.bind(console);var ko=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},st,Vr=!1;function jo(e){st=e}function Go(e){Vr=e}function Ho(e,t,r){var n=r.value;r.value=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=st?O(n):n;return s.apply(this,o)}}function O(e){return function(){return Z(e,this,arguments)}}function Z(e,t,r){try{return e.apply(t,r)}catch(n){if(Gt(N.error,n),st)try{st(n)}catch(o){Gt(N.error,o)}}}function Gt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Vr&&M.apply(void 0,ko([e,"[MONITOR]"],t,!1))}var Le=1e3,De=60*Le,Ko=60*De,Ht=1024;function Vo(e,t,r){var n=r&&r.leading!==void 0?r.leading:!0,o=r&&r.trailing!==void 0?r.trailing:!0,i=!1,s,a;return{throttled:function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];if(i){s=u;return}n?e.apply(void 0,u):s=u,i=!0,a=setTimeout(function(){o&&s&&e.apply(void 0,s),i=!1,s=void 0},t)},cancel:function(){clearTimeout(a),i=!1,s=void 0}}}function P(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}),e}function Yo(e){return P({},e)}function ae(e){return e?(parseInt(e,10)^Math.random()*16>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,ae)}function Yr(e){return e!==0&&Math.random()*100<=e}function Me(){}function at(e,t,r){if(typeof e!="object"||e===null)return JSON.stringify(e);var n=ut(Object.prototype),o=ut(Array.prototype),i=ut(Object.getPrototypeOf(e)),s=ut(e);try{return JSON.stringify(e,t,r)}catch{return"<error: unable to serialize object>"}finally{n(),o(),i(),s()}}function ut(e){var t=e,r=t.toJSON;return r?(delete t.toJSON,function(){t.toJSON=r}):Me}function Ue(e,t){return e.indexOf(t)!==-1}function Fr(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(n){return t.push(n)});else for(var r=0;r<e.length;r++)t.push(e[r]);return t}function Fo(e,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(t(n,r))return n}}function Wr(e){return Wo(e)&&e>=0&&e<=100}function Wo(e){return typeof e=="number"}function Ae(e){return Object.keys(e).map(function(t){return e[t]})}function Jo(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function zo(e){return Object.keys(e).length===0}function Xo(e,t){return e.slice(0,t.length)===t}function qo(e,t){return e.slice(-t.length)===t}function Kt(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof e!="object"&&(typeof self=="object"?e=self:typeof window=="object"?e=window:e={}),e}function Qo(){return Zo(window.location)}function Zo(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}function ei(e,t){var r=new RegExp("(?:^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)")),n=r.exec(e);return n?n[1]:void 0}function ti(e,t,r){r===void 0&&(r="");var n=e.charCodeAt(t-1),o=n>=55296&&n<=56319,i=o?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(r)}function Ce(e,t,r,n){return Jr(e,[t],r,n)}function Jr(e,t,r,n){var o=n===void 0?{}:n,i=o.once,s=o.capture,a=o.passive,u=O(i?function(p){d(),r(p)}:r),c=a?{capture:s,passive:a}:s;t.forEach(function(p){return e.addEventListener(p,u,c)});var d=function(){return t.forEach(function(p){return e.removeEventListener(p,u,c)})};return{stop:d}}function ri(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function ni(){if(typeof WeakSet!="undefined"){var e=new WeakSet;return{hasAlreadyBeenSeen:function(r){var n=e.has(r);return n||e.add(r),n}}}var t=[];return{hasAlreadyBeenSeen:function(r){var n=t.indexOf(r)>=0;return n||t.push(r),n}}}function ct(e,t,r){if(r===void 0&&(r=ni()),t===void 0)return e;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var n=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,n)}if(!r.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],i=0;i<t.length;++i)o[i]=ct(o[i],t[i],r);return o}var s=ri(e)==="object"?e:{};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=ct(s[a],t[a],r));return s}}function ue(e){return ct(void 0,e)}function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n=0,o=e;n<o.length;n++){var i=o[n];i!=null&&(r=ct(r,i))}return r}function oi(e){var t=new Set;return e.forEach(function(r){return t.add(r)}),Fr(t)}var zr=Le;function Ne(e,t,r,n){var o=new Date;o.setTime(o.getTime()+r);var i="expires=".concat(o.toUTCString()),s=n&&n.crossSite?"none":"strict",a=n&&n.domain?";domain=".concat(n.domain):"",u=n&&n.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/;samesite=").concat(s).concat(a).concat(u)}function H(e){return ei(document.cookie,e)}function Xr(e,t){Ne(e,"",0,t)}function ii(e){if(document.cookie===void 0||document.cookie===null)return!1;try{var t="dd_cookie_test_".concat(ae()),r="test";Ne(t,r,Le,e);var n=H(t)===r;return Xr(t,e),n}catch(o){return M.error(o),!1}}var Vt;function si(){if(Vt===void 0){for(var e="dd_site_test_".concat(ae()),t="test",r=window.location.hostname.split("."),n=r.pop();r.length&&!H(e);)n="".concat(r.pop(),".").concat(n),Ne(e,t,Le,{domain:n});Xr(e,{domain:n}),Vt=n}return Vt}function qr(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return e.apply(void 0,r)}catch(o){M.error(t,o)}}}var dt;function ai(e){!Array.isArray(e)||(dt||(dt=new Set(e)),e.filter(function(t){return typeof t=="string"}).forEach(function(t){dt.add(t)}))}function ui(){return dt||new Set}function Ie(){return new Date().getTime()}function J(){return Ie()}function $e(){return performance.now()}function ft(){return{relative:$e(),timeStamp:J()}}function ci(){return{relative:0,timeStamp:Zr()}}function Qr(e,t){return t-e}function li(e){return e-Zr()}var Yt;function Zr(){return Yt===void 0&&(Yt=performance.timing.navigationStart),Yt}function Ft(e){return di(e,Qo()).href}function di(e,t){if(fi())return t!==void 0?new URL(e,t):new URL(e);if(t===void 0&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var r=document,n=r.createElement("a");if(t!==void 0){r=document.implementation.createHTMLDocument("");var o=r.createElement("base");o.href=t,r.head.appendChild(o),r.body.appendChild(n)}return n.href=e,n}var ce;function fi(){if(ce!==void 0)return ce;try{var e=new URL("http://test/path");return ce=e.href==="http://test/path",ce}catch{ce=!1}return ce}var pi="datad0g.com",Wt="datadoghq.com",vi="ddog-gov.com",hi={logs:"logs",rum:"rum",sessionReplay:"session-replay"},mi={logs:"logs",rum:"rum",sessionReplay:"replay"};function xe(e,t,r){var n=e.site,o=n===void 0?Wt:n,i=e.clientToken,s=o.split("."),a=s.pop(),u="".concat(hi[t],".browser-intake-").concat(s.join("-"),".").concat(a),c="https://".concat(u,"/api/v2/").concat(mi[t]),d=e.proxyUrl&&Ft(e.proxyUrl);return{build:function(){var p="ddsource=browser"+"&ddtags=".concat(encodeURIComponent(["sdk_version:".concat("4.17.2")].concat(r).join(",")))+"&dd-api-key=".concat(i)+"&dd-evp-origin-version=".concat(encodeURIComponent("4.17.2"))+"&dd-evp-origin=browser"+"&dd-request-id=".concat(ae());t==="rum"&&(p+="&batch_time=".concat(J()));var l="".concat(c,"?").concat(p);return d?"".concat(d,"?ddforward=").concat(encodeURIComponent(l)):l},buildIntakeUrl:function(){return d?"".concat(d,"?ddforward"):c},endpointType:t}}var Ei=200;function yi(e){var t=e.env,r=e.service,n=e.version,o=e.datacenter,i=[];return t&&i.push(pt("env",t)),r&&i.push(pt("service",r)),n&&i.push(pt("version",n)),o&&i.push(pt("datacenter",o)),i}var gi=/[^a-z0-9_:./-]/;function pt(e,t){var r=Ei-e.length-1;(t.length>r||gi.test(t))&&M.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var n=t.replace(/,/g,"_");return"".concat(e,":").concat(n)}function Oi(e){var t=yi(e),r=bi(e,t),n=Ae(r).map(function(i){return i.buildIntakeUrl()}),o=_i(e,n,t);return P({isIntakeUrl:function(i){return n.some(function(s){return i.indexOf(s)===0})},replica:o,site:e.site||Wt},r)}function bi(e,t){return{logsEndpointBuilder:xe(e,"logs",t),rumEndpointBuilder:xe(e,"rum",t),sessionReplayEndpointBuilder:xe(e,"sessionReplay",t)}}function _i(e,t,r){if(!!e.replica){var n=P({},e,{site:Wt,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:xe(n,"logs",r),rumEndpointBuilder:xe(n,"rum",r)};return t.push.apply(t,Ae(o).map(function(i){return i.buildIntakeUrl()})),P({applicationId:e.replica.applicationId},o)}}function Ri(e){var t,r;if(!e||!e.clientToken){M.error("Client Token is not configured, we will not send any data.");return}if(e.sampleRate!==void 0&&!Wr(e.sampleRate)){M.error("Sample Rate should be a number between 0 and 100");return}if(e.telemetrySampleRate!==void 0&&!Wr(e.telemetrySampleRate)){M.error("Telemetry Sample Rate should be a number between 0 and 100");return}return ai(e.enableExperimentalFeatures),P({beforeSend:e.beforeSend&&qr(e.beforeSend,"beforeSend threw an error:"),cookieOptions:Ti(e),sampleRate:(t=e.sampleRate)!==null&&t!==void 0?t:100,telemetrySampleRate:(r=e.telemetrySampleRate)!==null&&r!==void 0?r:20,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16*Ht,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*Le,batchMessagesLimit:50,messageBytesLimit:256*Ht},Oi(e))}function Ti(e){var t={};return t.secure=Si(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=si()),t}function Si(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}var Be="?";function ee(e){var t=[],r=Jt(e,"stack");return r&&r.split(`
`).forEach(function(n){var o=Di(n)||Ui(n)||Ci(n)||$i(n);o&&(!o.func&&o.line&&(o.func=Be),t.push(o))}),{message:Jt(e,"message"),name:Jt(e,"name"),stack:t}}var en="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",le="(?::(\\d+))",wi=new RegExp("^\\s*at (.*?) ?\\(".concat(en).concat(le,"?").concat(le,"?\\)?\\s*$"),"i"),Li=new RegExp("\\((\\S*)".concat(le).concat(le,"\\)"));function Di(e){var t=wi.exec(e);if(!!t){var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,o=Li.exec(t[2]);return n&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Be,line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}}var Mi=new RegExp("^\\s*at ?".concat(en).concat(le,"?").concat(le,"??\\s*$"),"i");function Ui(e){var t=Mi.exec(e);if(!!t)return{args:[],column:t[3]?+t[3]:void 0,func:Be,line:t[2]?+t[2]:void 0,url:t[1]}}var Ai=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Ci(e){var t=Ai.exec(e);if(!!t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Be,line:+t[3],url:t[2]}}var Ni=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Ii=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function $i(e){var t=Ni.exec(e);if(!!t){var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Ii.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||Be,line:t[4]?+t[4]:void 0,url:t[3]}}}function Jt(e,t){if(!(typeof e!="object"||!e||!(t in e))){var r=e[t];return typeof r=="string"?r:void 0}}function tn(e,t,r){var n=e[t],o=r(n),i=function(){return o.apply(this,arguments)};return e[t]=i,{stop:function(){e[t]===i?e[t]=n:o=n}}}function de(e,t,r){var n=r.before,o=r.after;return tn(e,t,function(i){return function(){var s=arguments,a;return n&&Z(n,this,s),typeof i=="function"&&(a=i.apply(this,s)),o&&Z(o,this,s),a}})}var xi=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function Bi(e){var t=Pi(e).stop,r=ki(e).stop;return{stop:function(){t(),r()}}}function Pi(e){return de(window,"onerror",{before:function(t,r,n,o,i){var s;if(i)s=ee(i),e(s,i);else{var a={url:r,column:o,line:n},u,c=t;if({}.toString.call(t)==="[object String]"){var d=xi.exec(c);d&&(u=d[1],c=d[2])}s={name:u,message:typeof c=="string"?c:void 0,stack:[a]},e(s,t)}}})}function ki(e){return de(window,"onunhandledrejection",{before:function(t){var r=t.reason||"Empty reason",n=ee(r);e(n,r)}})}var I={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function ji(e,t,r,n){return!e||e.message===void 0&&!(t instanceof Error)?{message:"".concat(r," ").concat(at(t)),stack:"No stack, consider using an instance of Error",handlingStack:n,type:e&&e.name}:{message:e.message||"Empty message",stack:fe(e),handlingStack:n,type:e.name}}function fe(e){var t=rn(e);return e.stack.forEach(function(r){var n=r.func==="?"?"<anonymous>":r.func,o=r.args&&r.args.length>0?"(".concat(r.args.join(", "),")"):"",i=r.line?":".concat(r.line):"",s=r.line&&r.column?":".concat(r.column):"";t+=`
  at `.concat(n).concat(o," @ ").concat(r.url).concat(i).concat(s)}),t}function Gi(e){var t;return(t=/@ (.+)/.exec(e))===null||t===void 0?void 0:t[1]}function rn(e){return"".concat(e.name||"Error",": ").concat(e.message)}function Hi(){var e=2,t=new Error,r;if(!t.stack)try{throw t}catch{}return Z(function(){var n=ee(t);n.stack=n.stack.slice(e),r=fe(n)}),r}function Ki(e){return Bi(function(t,r){var n=ji(t,r,"Uncaught"),o=n.stack,i=n.message,s=n.type;e.notify({message:i,stack:o,type:s,source:I.SOURCE,startClocks:ft(),originalError:r,handling:"unhandled"})})}function Vi(e){var t=P({version:"4.17.2",onReady:function(r){r()}},e);return Object.defineProperty(t,"_setDebug",{get:function(){return Go},enumerable:!1}),t}function Yi(e,t,r){var n=e[t];e[t]=r,n&&n.q&&n.q.forEach(function(o){return qr(o,"onReady callback threw an error:")()})}var K=function(){function e(t){this.onFirstSubscribe=t,this.observers=[]}return e.prototype.subscribe=function(t){var r=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(t),{unsubscribe:function(){r.observers=r.observers.filter(function(n){return t!==n}),!r.observers.length&&r.onLastUnsubscribe&&r.onLastUnsubscribe()}}},e.prototype.notify=function(t){this.observers.forEach(function(r){return r(t)})},e}();function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=new K(function(){var n=e.map(function(o){return o.subscribe(function(i){return r.notify(i)})});return function(){return n.forEach(function(o){return o.unsubscribe()})}});return r}var q={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Fi(e){var t=[];Ue(e,q.cspViolation)&&t.push(Ji());var r=e.filter(function(n){return n!==q.cspViolation});return r.length&&t.push(Wi(r)),nn.apply(void 0,t)}function Wi(e){var t=new K(function(){if(!!window.ReportingObserver){var r=O(function(o){return o.forEach(function(i){t.notify(zi(i))})}),n=new window.ReportingObserver(r,{types:e,buffered:!0});return n.observe(),function(){n.disconnect()}}});return t}function Ji(){var e=new K(function(){var t=O(function(n){e.notify(Xi(n))}),r=Ce(document,"securitypolicyviolation",t).stop;return r});return e}function zi(e){var t=e.type,r=e.body;return{type:t,subtype:r.id,message:"".concat(t,": ").concat(r.message),stack:on(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)}}function Xi(e){var t=q.cspViolation,r="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:q.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(r),stack:on(e.effectiveDirective,"".concat(r,' of the policy "').concat(ti(e.originalPolicy,100,"..."),'"'),e.sourceFile,e.lineNumber,e.columnNumber)}}function on(e,t,r,n,o){return r&&fe({name:e,message:t,stack:[{func:"?",url:r,line:n,column:o}]})}var qi=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],Qi=[vi],pe={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1},zt;function Zi(e){var t,r=new K;pe.telemetryEnabled=Yr(e.telemetrySampleRate),zt=function(o){!Ue(Qi,e.site)&&pe.telemetryEnabled&&r.notify(n(o))},jo(sn),P(pe,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function n(o){return lt({type:"telemetry",date:J(),service:"browser-sdk",version:"4.17.2",source:"browser",_dd:{format_version:2},telemetry:o,experimental_features:Fr(ui())},t!==void 0?t():{})}return{setContextProvider:function(o){t=o},observable:r}}function es(e){return e.site===pi}function ts(e,t){Gt(N.debug,e,t),an(P({message:e,status:"debug"},t))}function sn(e){an(P({status:"error"},rs(e)))}function an(e){zt&&pe.sentEventCount<pe.maxEventsPerPage&&(pe.sentEventCount+=1,zt(e))}function rs(e){if(e instanceof Error){var t=ee(e);return{error:{kind:t.name,stack:fe(ns(t))},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(at(e))}}function ns(e){return e.stack=e.stack.filter(function(t){return!t.url||qi.some(function(r){return Xo(t.url,r)})}),e}var vt=1/0,os=De,is=function(){function e(t){var r=this;this.expireDelay=t,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return r.clearOldContexts()},os)}return e.prototype.add=function(t,r){var n=this,o={context:t,startTime:r,endTime:vt,remove:function(){var i=n.entries.indexOf(o);i>=0&&n.entries.splice(i,1)},close:function(i){o.endTime=i}};return this.entries.unshift(o),o},e.prototype.find=function(t){t===void 0&&(t=vt);for(var r=0,n=this.entries;r<n.length;r++){var o=n[r];if(o.startTime<=t){if(t<=o.endTime)return o.context;break}}},e.prototype.closeActive=function(t){var r=this.entries[0];r&&r.endTime===vt&&r.close(t)},e.prototype.findAll=function(t){return t===void 0&&(t=vt),this.entries.filter(function(r){return r.startTime<=t&&t<=r.endTime}).map(function(r){return r.context})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var t=$e()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<t;)this.entries.pop()},e}();function ss(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var un=4*Ko,cn=15*De,ln=/^([a-z]+)=([a-z0-9-]+)$/,Xt="&",ht="_dd_s",as=10,us=100,dn=[],mt;function Pe(e,t){var r;if(t===void 0&&(t=0),mt||(mt=e),e!==mt){dn.push(e);return}if(t>=us){fn();return}var n,o=ke();if(qt()){if(o.lock){Et(e,t);return}if(n=ae(),o.lock=n,Qt(o,e.options),o=ke(),o.lock!==n){Et(e,t);return}}var i=e.process(o);if(qt()&&(o=ke(),o.lock!==n)){Et(e,t);return}if(i&&pn(i,e.options),qt()&&!(i&&vn(i))){if(o=ke(),o.lock!==n){Et(e,t);return}delete o.lock,Qt(o,e.options),i=o}(r=e.after)===null||r===void 0||r.call(e,i||o),fn()}function qt(){return ss()}function Et(e,t){setTimeout(O(function(){Pe(e,t+1)}),as)}function fn(){mt=void 0;var e=dn.shift();e&&Pe(e)}function pn(e,t){if(vn(e)){ds(t);return}e.expire=String(Ie()+cn),Qt(e,t)}function Qt(e,t){Ne(ht,cs(e),cn,t)}function cs(e){return Jo(e).map(function(t){var r=t[0],n=t[1];return"".concat(r,"=").concat(n)}).join(Xt)}function ke(){var e=H(ht),t={};return ls(e)&&e.split(Xt).forEach(function(r){var n=ln.exec(r);if(n!==null){var o=n[1],i=n[2];t[o]=i}}),t}function ls(e){return e!==void 0&&(e.indexOf(Xt)!==-1||ln.test(e))}function vn(e){return zo(e)}function ds(e){Ne(ht,"",0,e)}var fs="_dd",ps="_dd_r",vs="_dd_l",hs="rum",ms="logs";function Es(e){var t=H(ht),r=H(fs),n=H(ps),o=H(vs);if(!t){var i={};r&&(i.id=r),o&&/^[01]$/.test(o)&&(i[ms]=o),n&&/^[012]$/.test(n)&&(i[hs]=n),pn(i,e)}}function ys(e,t,r){var n=new K,o=new K,i=setInterval(O(c),zr),s=w();function a(){var f;Pe({options:e,process:function(T){var C=d(T);return f=p(C),C},after:function(T){f&&!l()&&g(T),s=T}})}function u(){Pe({options:e,process:function(f){return l()?d(f):void 0}})}function c(){Pe({options:e,process:function(f){return A(f)?void 0:{}},after:d})}function d(f){return A(f)||(f={}),l()&&(h(f)?E():s=f),f}function p(f){var T=r(f[t]),C=T.trackingType,D=T.isTracked;return f[t]=C,D&&!f.id&&(f.id=ae(),f.created=String(Ie())),D}function l(){return s[t]!==void 0}function h(f){return s.id!==f.id||s[t]!==f[t]}function E(){s={},o.notify()}function g(f){s=f,n.notify()}function w(){var f=ke();return A(f)?f:{}}function A(f){return(f.created===void 0||Ie()-Number(f.created)<un)&&(f.expire===void 0||Ie()<Number(f.expire))}return{expandOrRenewSession:Vo(O(a),zr).throttled,expandSession:u,getSession:function(){return s},renewObservable:n,expireObservable:o,stop:function(){clearInterval(i)}}}var gs=De,Os=un;function bs(e,t,r){Es(e);var n=ys(e,t,r),o=new is(Os);n.renewObservable.subscribe(function(){o.add(i(),$e())}),n.expireObservable.subscribe(function(){o.closeActive($e())}),n.expandOrRenewSession(),o.add(i(),ci().relative),_s(function(){return n.expandOrRenewSession()}),Rs(function(){return n.expandSession()});function i(){return{id:n.getSession().id,trackingType:n.getSession()[t]}}return{findActiveSession:function(s){return o.find(s)},renewObservable:n.renewObservable,expireObservable:n.expireObservable}}function _s(e){Jr(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop}function Rs(e){var t=O(function(){document.visibilityState==="visible"&&e()});Ce(document,"visibilitychange",t).stop,setInterval(t,gs)}var Ts=function(){function e(t,r){this.endpointBuilder=t,this.bytesLimit=r}return e.prototype.send=function(t,r){var n=this.endpointBuilder.build(),o=!!navigator.sendBeacon&&r<this.bytesLimit;if(o)try{var i=navigator.sendBeacon(n,t);if(i)return}catch(a){Ss(a)}var s=new XMLHttpRequest;s.open("POST",n,!0),s.send(t)},e}(),hn=!1;function Ss(e){hn||(hn=!0,sn(e))}var ws=/[^\u0000-\u007F]/,Ls=function(){function e(t,r,n,o,i,s){s===void 0&&(s=Me),this.request=t,this.batchMessagesLimit=r,this.batchBytesLimit=n,this.messageBytesLimit=o,this.flushTimeout=i,this.beforeUnloadCallback=s,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(t){this.addOrUpdate(t)},e.prototype.upsert=function(t,r){this.addOrUpdate(t,r)},e.prototype.flush=function(){if(this.bufferMessagesCount!==0){var t=this.pushOnlyBuffer.concat(Ae(this.upsertBuffer)),r=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,this.request.send(t.join(`
`),r)}},e.prototype.computeBytesCount=function(t){return ws.test(t)?window.TextEncoder!==void 0?new TextEncoder().encode(t).length:new Blob([t]).size:t.length},e.prototype.addOrUpdate=function(t,r){var n=this.process(t),o=n.processedMessage,i=n.messageBytesCount;if(i>=this.messageBytesLimit){M.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(r)&&this.remove(r),this.willReachedBytesLimitWith(i)&&this.flush(),this.push(o,i,r),this.isFull()&&this.flush()},e.prototype.process=function(t){var r=at(t),n=this.computeBytesCount(r);return{processedMessage:r,messageBytesCount:n}},e.prototype.push=function(t,r,n){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),n!==void 0?this.upsertBuffer[n]=t:this.pushOnlyBuffer.push(t),this.bufferBytesCount+=r,this.bufferMessagesCount+=1},e.prototype.remove=function(t){var r=this.upsertBuffer[t];delete this.upsertBuffer[t];var n=this.computeBytesCount(r);this.bufferBytesCount-=n,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},e.prototype.hasMessageFor=function(t){return t!==void 0&&this.upsertBuffer[t]!==void 0},e.prototype.willReachedBytesLimitWith=function(t){return this.bufferBytesCount+t+1>=this.batchBytesLimit},e.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},e.prototype.flushPeriodically=function(){var t=this;setTimeout(O(function(){t.flush(),t.flushPeriodically()}),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var t=this;navigator.sendBeacon&&(Ce(window,"beforeunload",this.beforeUnloadCallback),Ce(document,"visibilitychange",function(){document.visibilityState==="hidden"&&t.flush()}),Ce(window,"beforeunload",function(){return t.flush()}))},e}();function Zt(){var e=Ds();if(!!e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,r){e.send(JSON.stringify({eventType:t,event:r}))}}}function yt(e){var t;e===void 0&&(e=(t=Kt().location)===null||t===void 0?void 0:t.hostname);var r=Zt();return!!r&&r.getAllowedWebViewHosts().some(function(n){return e===n||qo(e,".".concat(n))})}function Ds(){return Kt().DatadogEventBridge}function mn(e,t,r){var n=i(t),o;r&&(o=i(r));function i(s){return new Ls(new Ts(s,e.batchBytesLimit),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout)}return{add:function(s,a){a===void 0&&(a=!0),n.add(s),o&&a&&o.add(s)}}}function Ms(e,t,r){var n=0,o=!1;return{isLimitReached:function(){if(n===0&&setTimeout(function(){n=0},De),n+=1,n<=t||o)return o=!1,!1;if(n===t+1){o=!0;try{r({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:I.AGENT,startClocks:ft()})}finally{o=!1}}return!0}}}var er,tr=new WeakMap;function Us(){return er||(er=As()),er}function As(){var e=new K(function(){var t=de(XMLHttpRequest.prototype,"open",{before:Cs}).stop,r=de(XMLHttpRequest.prototype,"send",{before:function(){Ns.call(this,e)}}).stop,n=de(XMLHttpRequest.prototype,"abort",{before:Is}).stop;return function(){t(),r(),n()}});return e}function Cs(e,t){tr.set(this,{state:"open",method:e,url:Ft(String(t))})}function Ns(e){var t=this,r=tr.get(this);if(!!r){var n=r;n.state="start",n.startTime=$e(),n.startClocks=ft(),n.isAborted=!1,n.xhr=this;var o=!1,i=de(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&s()}}).stop,s=O(function(){if(t.removeEventListener("loadend",s),i(),!o){o=!0;var a=r;a.state="complete",a.duration=Qr(n.startClocks.timeStamp,J()),a.status=t.status,e.notify(Yo(a))}});this.addEventListener("loadend",s),e.notify(n)}}function Is(){var e=tr.get(this);e&&(e.isAborted=!0)}var rr;function $s(){return rr||(rr=xs()),rr}function xs(){var e=new K(function(){if(!!window.fetch){var t=tn(window,"fetch",function(r){return function(n,o){var i,s=Z(Bs,null,[e,n,o]);return s?(i=r.call(this,s.input,s.init),Z(Ps,null,[e,i,s])):i=r.call(this,n,o),i}}).stop;return t}});return e}function Bs(e,t,r){var n=r&&r.method||typeof t=="object"&&t.method||"GET",o=Ft(typeof t=="object"&&t.url||t),i=ft(),s={state:"start",init:r,input:t,method:n,startClocks:i,url:o};return e.notify(s),s}function Ps(e,t,r){var n=function(o){var i=r;i.state="complete",i.duration=Qr(i.startClocks.timeStamp,J()),"stack"in o||o instanceof Error?(i.status=0,i.isAborted=o instanceof DOMException&&o.code===DOMException.ABORT_ERR,i.error=o,e.notify(i)):"status"in o&&(i.response=o,i.responseType=o.type,i.status=o.status,i.isAborted=!1,e.notify(i))};t.then(O(n),O(n))}var nr={};function ks(e){var t=e.map(function(r){return nr[r]||(nr[r]=js(r)),nr[r]});return nn.apply(void 0,t)}function js(e){var t=new K(function(){var r=console[e];return console[e]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];r.apply(console,n);var i=Hi();Z(function(){t.notify(Gs(n,e,i))})},function(){console[e]=r}});return t}function Gs(e,t,r){var n=e.map(function(s){return Hs(s)}).join(" "),o;if(t===N.error){var i=Fo(e,function(s){return s instanceof Error});o=i?fe(ee(i)):void 0,n="console error: ".concat(n)}return{api:t,message:n,stack:o,handlingStack:r}}function Hs(e){return typeof e=="string"?e:e instanceof Error?rn(ee(e)):at(e,void 0,2)}var Ks=500,Vs=function(){function e(){this.buffer=[]}return e.prototype.add=function(t){var r=this.buffer.push(t);r>Ks&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach(function(t){return t()}),this.buffer.length=0},e}();function En(){var e={};return{get:function(){return e},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},set:function(t){e=t},getContext:function(){return ue(e)},setContext:function(t){e=ue(t)},setContextProperty:function(t,r){e[t]=ue(r)},removeContextProperty:function(t){delete e[t]},clearContext:function(){e={}}}}var Ys="datadog-synthetics-public-id",Fs="datadog-synthetics-result-id",Ws="datadog-synthetics-injects-rum";function yn(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||H(Ws))}function Js(){var e=window._DATADOG_SYNTHETICS_PUBLIC_ID||H(Ys);return typeof e=="string"?e:void 0}function zs(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||H(Fs);return typeof e=="string"?e:void 0}var Xs=32*Ht;function qs(e){var t=Ri(e),r=gn(e.forwardConsoleLogs,Ae(N),"Forward Console Logs"),n=gn(e.forwardReports,Ae(q),"Forward Reports");if(!(!t||!r||!n))return e.forwardErrorsToLogs&&!Ue(r,N.error)&&r.push(N.error),P({forwardErrorsToLogs:e.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:Xs},t)}function gn(e,t,r){if(e===void 0)return[];if(!(e==="all"||Array.isArray(e)&&e.every(function(n){return Ue(t,n)}))){M.error("".concat(r,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'));return}return e==="all"?t:oi(e)}var Qs=globalThis&&globalThis.__decorate||function(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},_={debug:"debug",error:"error",info:"info",warn:"warn"},or={console:"console",http:"http",silent:"silent"},Zs=Object.keys(_),On=function(){function e(t,r,n,o,i){n===void 0&&(n=or.http),o===void 0&&(o=_.debug),i===void 0&&(i={}),this.handleLogStrategy=t,this.handlerType=n,this.level=o,this.contextManager=En(),this.contextManager.set(P({},i,r?{logger:{name:r}}:void 0))}return e.prototype.log=function(t,r,n){n===void 0&&(n=_.info),this.handleLogStrategy({message:t,context:ue(r),status:n},this)},e.prototype.debug=function(t,r){this.log(t,r,_.debug)},e.prototype.info=function(t,r){this.log(t,r,_.info)},e.prototype.warn=function(t,r){this.log(t,r,_.warn)},e.prototype.error=function(t,r){var n={error:{origin:I.LOGGER}};this.log(t,lt(n,r),_.error)},e.prototype.setContext=function(t){this.contextManager.set(t)},e.prototype.getContext=function(){return this.contextManager.get()},e.prototype.addContext=function(t,r){this.contextManager.add(t,r)},e.prototype.removeContext=function(t){this.contextManager.remove(t)},e.prototype.setHandler=function(t){this.handlerType=t},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(t){this.level=t},e.prototype.getLevel=function(){return this.level},Qs([Ho],e.prototype,"log",null),e}();function ea(e){var t=!1,r=En(),n={},o=function(){},i=new Vs,s=function(l,h,E,g){E===void 0&&(E=ue(c())),g===void 0&&(g=J()),i.add(function(){return s(l,h,E,g)})},a=function(){},u=new On(function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return s.apply(void 0,l)});function c(){return{view:{referrer:document.referrer,url:window.location.href},context:r.get()}}return Vi({logger:u,init:O(function(l){var h;if(yt()&&(l=d(l)),!!p(l)){var E=qs(l);!E||(h=e(E,c,u),s=h.handleLog,o=h.getInternalContext,a=function(){return ue(l)},i.drain(),t=!0)}}),getLoggerGlobalContext:O(r.get),getGlobalContext:O(r.getContext),setLoggerGlobalContext:O(r.set),setGlobalContext:O(r.setContext),addLoggerGlobalContext:O(r.add),setGlobalContextProperty:O(r.setContextProperty),removeLoggerGlobalContext:O(r.remove),removeGlobalContextProperty:O(r.removeContextProperty),clearGlobalContext:O(r.clearContext),createLogger:O(function(l,h){return h===void 0&&(h={}),n[l]=new On(function(){for(var E=[],g=0;g<arguments.length;g++)E[g]=arguments[g];return s.apply(void 0,E)},l,h.handler,h.level,h.context),n[l]}),getLogger:O(function(l){return n[l]}),getInitConfiguration:O(function(){return a()}),getInternalContext:O(function(l){return o(l)})});function d(l){return P({},l,{clientToken:"empty"})}function p(l){return t?(l.silentMultipleInit||M.error("DD_LOGS is already initialized."),!1):!0}}var ta="logs";function ra(e){var t=bs(e.cookieOptions,ta,function(r){return oa(e,r)});return{findTrackedSession:function(r){var n=t.findActiveSession(r);return n&&n.trackingType==="1"?{id:n.id}:void 0}}}function na(e){var t=bn(e)==="1",r=t?{}:void 0;return{findTrackedSession:function(){return r}}}function bn(e){return Yr(e.sampleRate)?"1":"0"}function oa(e,t){var r=ia(t)?t:bn(e);return{trackingType:r,isTracked:r==="1"}}function ia(e){return e==="0"||e==="1"}var ve,_n=(ve={},ve[_.debug]=0,ve[_.info]=1,ve[_.warn]=2,ve[_.error]=3,ve);function sa(e){function t(r,n,o,i){var s=r.context;Rn(r.status,or.console,n)&&M(r.status,r.message,lt(n.getContext(),s)),e.notify(0,{rawLogsEvent:{date:i||J(),message:r.message,status:r.status,origin:I.LOGGER},messageContext:s,savedCommonContext:o,logger:n})}return{handleLog:t}}function Rn(e,t,r){var n=r.getHandler(),o=Array.isArray(n)?n:[n];return _n[e]>=_n[r.getLevel()]&&Ue(o,t)}function aa(e,t){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{origin:I.AGENT},origin:I.AGENT,status:_.error}})}function ua(e,t,r,n,o){var i=Zs.concat(["custom"]),s={};i.forEach(function(a){s[a]=Ms(a,t.eventRateLimiterThreshold,function(u){return aa(u,r)})}),r.subscribe(0,function(a){var u,c,d,p=a.rawLogsEvent,l=a.messageContext,h=l===void 0?void 0:l,E=a.savedCommonContext,g=E===void 0?void 0:E,w=a.logger,A=w===void 0?o:w,f=li(p.date),T=e.findTrackedSession(f);if(!!T){var C=g||n(),D=lt({service:t.service,session_id:T.id,view:C.view},C.context,gt(f),p,A.getContext(),h);!Rn(p.status,or.http,A)||((u=t.beforeSend)===null||u===void 0?void 0:u.call(t,D))===!1||((c=D.error)===null||c===void 0?void 0:c.origin)!==I.AGENT&&((d=s[D.status])!==null&&d!==void 0?d:s.custom).isLimitReached()||r.notify(1,D)}})}var Tn=!1;function gt(e){var t=window;if(yn()){var r=n(t.DD_RUM_SYNTHETICS);return!r&&!Tn&&(Tn=!0,ts("Logs sent before RUM is injected by the synthetics worker",{testId:Js(),resultId:zs()})),r}return n(t.DD_RUM);function n(o){if(o&&o.getInternalContext)return o.getInternalContext(e)}}var te,ca=(te={},te[N.log]=_.info,te[N.debug]=_.debug,te[N.info]=_.info,te[N.warn]=_.warn,te[N.error]=_.error,te);function la(e,t){var r=ks(e.forwardConsoleLogs).subscribe(function(n){t.notify(0,{rawLogsEvent:{date:J(),message:n.message,origin:I.CONSOLE,error:n.api===N.error?{origin:I.CONSOLE,stack:n.stack}:void 0,status:ca[n.api]}})});return{stop:function(){r.unsubscribe()}}}var je,da=(je={},je[q.cspViolation]=_.error,je[q.intervention]=_.error,je[q.deprecation]=_.warn,je);function fa(e,t){var r=Fi(e.forwardReports).subscribe(function(n){var o=n.message,i=da[n.type],s;i===_.error?s={kind:n.subtype,origin:I.REPORT,stack:n.stack}:n.stack&&(o+=" Found in ".concat(Gi(n.stack))),t.notify(0,{rawLogsEvent:{date:J(),message:o,origin:I.REPORT,error:s,status:i}})});return{stop:function(){r.unsubscribe()}}}function pa(e,t){if(!e.forwardErrorsToLogs)return{stop:Me};var r=Us().subscribe(function(i){i.state==="complete"&&o("xhr",i)}),n=$s().subscribe(function(i){i.state==="complete"&&o("fetch",i)});function o(i,s){!e.isIntakeUrl(s.url)&&(Ea(s)||ya(s))&&("xhr"in s?va(s.xhr,e,a):s.response?ma(s.response,e,a):s.error&&ha(s.error,e,a));function a(u){t.notify(0,{rawLogsEvent:{message:"".concat(ga(i)," error ").concat(s.method," ").concat(s.url),date:s.startClocks.timeStamp,error:{origin:I.NETWORK,stack:u||"Failed to load"},http:{method:s.method,status_code:s.status,url:s.url},status:_.error,origin:I.NETWORK}})}}return{stop:function(){r.unsubscribe(),n.unsubscribe()}}}function va(e,t,r){typeof e.response=="string"?r(ir(e.response,t)):r(e.response)}function ha(e,t,r){r(ir(fe(ee(e)),t))}function ma(e,t,r){window.TextDecoder?e.body?Oa(e.clone().body,t.requestErrorResponseLengthLimit,function(n,o){r(n?"Unable to retrieve response: ".concat(n):o)}):r():e.clone().text().then(O(function(n){return r(ir(n,t))}),O(function(n){return r("Unable to retrieve response: ".concat(n))}))}function Ea(e){return e.status===0&&e.responseType!=="opaque"}function ya(e){return e.status>=500}function ir(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}function ga(e){return e==="xhr"?"XHR":"Fetch"}function Oa(e,t,r){ba(e,t,function(n,o,i){if(n)r(n);else{var s=new TextDecoder().decode(o);i&&(s+="..."),r(void 0,s)}})}function ba(e,t,r){var n=e.getReader(),o=[],i=0;s();function s(){n.read().then(O(function(u){if(u.done){a();return}o.push(u.value),i+=u.value.length,i>t?a():s()}),O(function(u){return r(u)}))}function a(){n.cancel().catch(Me);var u;if(o.length===1)u=o[0];else{u=new Uint8Array(i);var c=0;o.forEach(function(d){u.set(d,c),c+=d.length})}r(void 0,u.slice(0,t),u.length>t)}}function _a(e,t){if(!e.forwardErrorsToLogs)return{stop:Me};var r=new K,n=Ki(r).stop,o=r.subscribe(function(i){t.notify(0,{rawLogsEvent:{message:i.message,date:i.startClocks.timeStamp,error:{kind:i.type,origin:I.SOURCE,stack:i.stack},origin:I.SOURCE,status:_.error}})});return{stop:function(){n(),o.unsubscribe()}}}var Ra=function(){function e(){this.callbacks={}}return e.prototype.notify=function(t,r){var n=this.callbacks[t];n&&n.forEach(function(o){return o(r)})},e.prototype.subscribe=function(t,r){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter(function(o){return r!==o})}}},e}();function Ta(e,t){var r,n=mn(e,e.logsEndpointBuilder,(r=e.replica)===null||r===void 0?void 0:r.logsEndpointBuilder);t.subscribe(1,function(o){n.add(o)})}function Sa(e){var t=Zt();e.subscribe(1,function(r){t.send("log",r)})}function wa(e){return{get:function(t){var r=e.findTrackedSession(t);if(r)return{session_id:r.id}}}}function La(e,t,r){var n=new Ra,o=Da(e);o.setContextProvider(function(){var u,c,d,p,l,h;return{application:{id:(u=gt())===null||u===void 0?void 0:u.application_id},session:{id:(c=s.findTrackedSession())===null||c===void 0?void 0:c.id},view:{id:(p=(d=gt())===null||d===void 0?void 0:d.view)===null||p===void 0?void 0:p.id},action:{id:(h=(l=gt())===null||l===void 0?void 0:l.user_action)===null||h===void 0?void 0:h.id}}}),pa(e,n),_a(e,n),la(e,n),fa(e,n);var i=sa(n).handleLog,s=ii(e.cookieOptions)&&!yt()&&!yn()?ra(e):na(e);ua(s,e,n,t,r),yt()?Sa(n):Ta(e,n);var a=wa(s);return{handleLog:i,getInternalContext:a.get}}function Da(e){var t,r=Zi(e);if(yt()){var n=Zt();r.observable.subscribe(function(i){return n.send("internal_telemetry",i)})}else{var o=mn(e,e.rumEndpointBuilder,(t=e.replica)===null||t===void 0?void 0:t.rumEndpointBuilder);r.observable.subscribe(function(i){return o.add(i,es(e))})}return r}var Ot=ea(La);Yi(Kt(),"DD_LOGS",Ot);class Ma{constructor(t,r,n){this.logLevels={debug:4,error:1,info:3,off:0,warn:2},this.logLevel="info",this.service="federated-core",this.namespace="browser",Ot.init({...n.config,service:t}),Ot.logger.setLevel(r),this.options=n,this.service=t,this.logLevel=r,this.instance=Ot.logger}log(t,r,n="unknown",o={}){var i;if(this.logLevel==="off"||(i=this.options.filteredLogs)!=null&&i.includes(r))return;const a=typeof r=="object"?JSON.stringify({data:r}):r;this.isLevelEnabled(t)&&this.instance[t](`[${this.namespace}] - ${a}`,{logContext:{componentName:n,...o}})}isLevelEnabled(t){return this.logLevels[this.logLevel]>=this.logLevels[t]}debug(t,r,n){this.log("debug",t,r,n)}error(t,r,n){this.log("error",t,r,n)}info(t,r,n){this.log("info",t,r,n)}warn(t,r,n){this.log("warn",t,r,n)}get level(){return this.logLevel}set level(t){this.logLevel=t}get serviceName(){return this.service}get loggerInstance(){return this.instance}}const Sn=()=>typeof window!="undefined";var V=(e=>(e.NOT_LOADED="NOT_LOADED",e.LOADED="LOADED",e.BOOTSTRAPPING="BOOTSTRAPPING",e.BOOTSTRAPPED="BOOTSTRAPPED",e.NOT_MOUNTED="NOT_MOUNTED",e.MOUNTING="MOUNTING",e.MOUNTED="MOUNTED",e.UPDATING="UPDATING",e.UNMOUNTING="UNMOUNTING",e.UNMOUNT_ERROR="UNMOUNT_ERROR",e.UNMOUNTED="UNMOUNTED",e.UNLOADING="UNLOADING",e.LOAD_ERROR="LOAD_ERROR",e.UPDATE_ERROR="UPDATE_ERROR",e))(V||{}),m=(e=>(e.RUNTIME_BEFORE_BOOTSTRAP="federated-core:runtime:before-bootstrap",e.RUNTIME_BOOTSTRAPPED="federated-core:runtime:bootstrapped",e.RUNTIME_BOOTSTRAP_ERROR="federated-core:runtime:bootstrap:error",e.RUNTIME_BEFORE_START="federated-core:runtime:before-start",e.RUNTIME_STARTED="federated-core:runtime:started",e.RUNTIME_START_ERROR="federated-core:runtime:start:error",e.RUNTIME_MODULES_PREFETCH_START="federated-core:runtime:modules:pre-fetch:start",e.RUNTIME_BEFORE_MODULE_PREFETCH="federated-core:runtime:module:before-prefetch",e.RUNTIME_MODULE_PREFETCHED="federated-core:runtime:module:prefetched",e.RUNTIME_MODULE_PREFETCH_ERROR="federated-core:runtime:module:prefetch:error",e.RUNTIME_MODULES_PREFETCHED="federated-core:runtime:modules:pre-fetched",e.RUNTIME_ROUTES_PREFETCH_START="federated-core:runtime:routes:pre-fetch:start",e.RUNTIME_BEFORE_ROUTE_PREFETCH="federated-core:runtime:route:before-prefetch",e.RUNTIME_ROUTE_PREFETCHED="federated-core:runtime:route:prefetched",e.RUNTIME_ROUTES_PREFETCH_ERROR="federated-core:runtime:routes:prefetch:error",e.RUNTIME_ROUTES_PREFETCHED="federated-core:runtime:routes:pre-fetched",e.IMPORT_MAP_OVERRIDES_LOADED="federated-core:import-map-overrides:loaded",e.IMPORT_MAP_OVERRIDES_LOAD_ERROR="federated-core:import-map-overrides:load-error",e.ROUTE_CHANGED="federated-core:route:changed",e.ROUTE_ERROR="federated-core:route:error",e.ROUTE_ALREADY_ACTIVE="federated-core:route:already-active",e.ROUTE_NAVIGATE_TO="federated-core:route:navigate-to",e.POPSTATE_EVENT_FIRED="federated-core:popstate:event-fired",e.POPSTATE_EVENT_ERROR="federated-core:popstate:event-error",e.NATIVE_MODULE_LOADING="federated-core:native-module:loading",e.NATIVE_MODULE_LOADED="federated-core:native-module:loaded",e.NATIVE_MODULE_LOAD_ERROR="federated-core:native-module:load-error",e.SYSTEMJS_LOADED="federated-core:systemjs:loaded",e.SYSTEMJS_LOAD_ERROR="federated-core:systemjs:load-error",e.SYSTEMJS_MODULE_LOADING="federated-core:systemjs:module:loading",e.SYSTEMJS_MODULE_LOADED="federated-core:systemjs:module:loaded",e.MODULE_BEFORE_REGISTER="federated-core:module:%moduleKey%:before-register",e.MODULE_REGISTERED="federated-core:module:%moduleKey%:registered",e.MODULE_ALREADY_REGISTERED="federated-core:module:%moduleKey%:already-registered",e.MODULE_REGISTER_ERROR="federated-core:module:%moduleKey%:register:error",e.MODULE_BEFORE_LOAD="federated-core:module:%moduleKey%:before-load",e.MODULE_LOADED="federated-core:module:%moduleKey%:loaded",e.MODULE_ALREADY_LOADED="federated-core:module:%moduleKey%:already-loaded",e.MODULE_LOAD_ERROR="federated-core:module:%moduleKey%:load:error",e.MODULE_VALIDATE_PROPS="federated-core:module:%moduleKey%:validate-props",e.MODULE_STATE_CHANGED="federated-core:module:%moduleKey%:state-changed",e.MODULE_BEFORE_BOOTSTRAP="federated-core:module:%moduleKey%:before-bootstrap",e.MODULE_BOOTSTRAPPED="federated-core:module:%moduleKey%:bootstrapped",e.MODULE_BOOTSTRAP_ERROR="federated-core:module:%moduleKey%:bootstrap:error",e.MODULE_BEFORE_MOUNT="federated-core:module:%moduleKey%:before-mount",e.MODULE_MOUNTED="federated-core:module:%moduleKey%:mounted",e.MODULE_MOUNT_ERROR="federated-core:module:%moduleKey%:mount:error",e.MODULE_ALREADY_MOUNTED="federated-core:module:%moduleKey%:already-mounted",e.MODULE_BEFORE_UNMOUNT="federated-core:module:%moduleKey%:before-unmount",e.MODULE_UNMOUNTED="federated-core:module:%moduleKey%:unmounted",e.MODULE_UNMOUNT_ERROR="federated-core:module:%moduleKey%:unmount:error",e.MODULE_NOT_MOUNTED="federated-core:module:%moduleKey%:not-mounted",e.MODULE_BEFORE_UPDATE="federated-core:module:%moduleKey%:before-update",e.MODULE_UPDATED="federated-core:module:%moduleKey%:updated",e.MODULE_UPDATE_ERROR="federated-core:module:%moduleKey%:update:error",e))(m||{});const Ua=(e,t,r)=>{const n=document.createElement(t);n.id=e,Object.keys(r).forEach(o=>{n.setAttribute(o,r[o])}),document.body.appendChild(n)},Aa=(e,t,r)=>{const n=document.createElement("link");n.id=e,n.rel=t,n.href=r,document.head.appendChild(n)},Ca=(e,t,r)=>{if(document.getElementById(e))return;const n=document.createElement("meta");n.id=e,n.content=r,n.name=t,document.head.appendChild(n)},Ge=(e,t,r)=>{if(document.getElementById(e))return;const n=document.createElement("script");n.id=e,n.src=t,n.crossOrigin="anonymous",r&&(n.onload=r),document.body.appendChild(n)},Y=(e,t)=>`${e}:${t}`,Na=e=>`^${e.replace(/\*/g,".*")}$`,wn=(e,t)=>!!t.find(n=>new RegExp(Na(n)).test(e)),Ln=(e,t)=>t.activeWhenPaths?wn(e,t.activeWhenPaths)&&!wn(e,t.exceptWhenPaths||[]):!1,re=new Map,sr=e=>{const t=re.has(e)?re.get(e):null;if(t){const{type:r,fn:n}=t;window.removeEventListener(r,n),re.delete(e)}},Ia=(e,t,r)=>{const n=`${e}__${Date.now()}__${Math.floor(Math.random()*1e3)}`;let o=e;return r&&(o=ar(o,r)),re.set(n,{type:o,fn:t}),window.addEventListener(o,t),()=>sr(n)},ar=(e,t)=>e.replace("%moduleKey%",Y(t.scope,t.name)),Dn={register:Ia,unregister:sr,unregisterAll:()=>{re.forEach((e,t)=>{sr(t)})},emit:(e,t)=>{let r=e.type;t!=null&&t.name&&(r=ar(r,t)),window.__FEDERATED_CORE__.federatedRuntime.debugEnabled&&console.log(`[EventService] Emitted event: ${r}`,e.payload),window.dispatchEvent(new CustomEvent(r,e.payload))},clear:()=>{re.clear()},replaceModuleKey:ar,eventStore:re},bt=new Map,ur=e=>bt.has(e),$a={event:Dn,logger:{hasLogger:ur,getLogger:(e,t,r,n=!1)=>{const o=`${e}-logger`;if(ur(o)&&!n)return bt.get(o);const i=new Ma(e,t,r);return bt.set(o,i),i},deleteLogger:e=>{ur(e)&&bt.delete(e)}}};class _t{constructor(){this._bootstrapped=!1,this._started=!1,this._useNativeModules=!1,this._importMapOverridesEnabled=!1,this._debugEnabled=!1,this._sharedDependencyBaseUrl="",this._cdnUrl=process.env.SHARED_CDN_DOMAIN||"",this._modules=new Map,this._services=$a}set bootstrapped(t){this._bootstrapped=t}get bootstrapped(){return this._bootstrapped}set started(t){this._started=t}get started(){return this._started}set debugEnabled(t){this._debugEnabled=t}get debugEnabled(){return this._debugEnabled}set sharedDependencyBaseUrl(t){this._sharedDependencyBaseUrl=t}get sharedDependencyBaseUrl(){return this._sharedDependencyBaseUrl}set useNativeModules(t){this._useNativeModules=t}get useNativeModules(){return this._useNativeModules}set importMapOverridesEnabled(t){this._importMapOverridesEnabled=t}get importMapOverridesEnabled(){return this._importMapOverridesEnabled}set cdnUrl(t){this._cdnUrl=t}get cdnUrl(){return this._cdnUrl}set modules(t){this._modules=t}get modules(){return this._modules}get services(){return this._services}addImportMapOverridesUi(){const t="import-map-overrides";this.importMapOverridesEnabled&&(Ua("import-map-overrides-ui","import-map-overrides-full",{"show-when-local-storage":t}),localStorage.setItem(t,"true"),Ge(t,"https://cdn.jsdelivr.net/npm/import-map-overrides/dist/import-map-overrides.js"),this.services.event.emit({type:m.IMPORT_MAP_OVERRIDES_LOADED,payload:{loadedTime:Date.now()}}))}ensureSystemJs(){this.useNativeModules||(Ca("importmap-type","importmap-type","systemjs-importmap"),Ge("systemjs",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/system.min.js`),Ge("systemjs-named-exports",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/extras/named-exports.min.js`),Ge("systemjs-amd",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/extras/amd.min.js`),Ge("systemjs-dynamic-import-maps",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/extras/dynamic-import-maps.min.js`),this.services.event.emit({type:m.SYSTEMJS_LOADED,payload:{loadedTime:Date.now()}}))}async fetchImportMapContent(t){const r=`${t||this.cdnUrl}/entries-import-map.json`;return(await fetch(r)).json()}setModuleState(t,r){const{scope:n,name:o}=t,i=Y(n,o),s={...this.modules.get(i),status:r};this.modules.set(i,s),Dn.emit({type:m.MODULE_STATE_CHANGED,payload:{module:t}},t)}setModuleRootComponent(t,r){const{scope:n,name:o}=t,i=Y(n,o),s=this.modules.get(i);s&&(s.rootComponent=r,this.modules.set(i,s))}getModuleRootComponent(t){const{scope:r,name:n}=t,o=Y(r,n),i=this.modules.get(o);if(i)return i.rootComponent}async registerModule(t){var r,n;const{scope:o,name:i}=t,s=Y(o,i);return this.modules.has(s)&&((r=this.modules.get(s))==null?void 0:r.status)===V.LOADED?this.services.event.emit({type:m.MODULE_ALREADY_REGISTERED,payload:{module:t}},t):this.modules.has(s)&&((n=this.modules.get(s))==null?void 0:n.status)===V.MOUNTED?this.services.event.emit({type:m.MODULE_ALREADY_MOUNTED,payload:{module:t}},t):(this.services.event.emit({type:m.MODULE_BEFORE_REGISTER,payload:{module:t}},t),this.setModuleState({scope:t.scope,name:t.name},V.NOT_LOADED),this.modules.set(s,t),this.services.event.emit({type:m.MODULE_REGISTERED,payload:{module:t}},t)),this}async getModuleUrl(t){const{name:r,basePath:n}=t;return(await this.fetchImportMapContent(n)).imports[r]}getModulesByPath(t){const r=[];return this.modules.forEach(n=>{Ln(t,n)&&r.push(n)}),r}async loadModule(t){var r,n;const{scope:o,name:i,basePath:s}=t;try{const a=Y(o,i);if(this.modules.has(a)){const p=this.modules.get(a);if(p&&["journey-module","component"].includes(p.type)&&((r=this.modules.get(a))==null?void 0:r.status)===V.MOUNTED)return this.services.event.emit({type:m.MODULE_ALREADY_MOUNTED,payload:{module:t}},t),this.modules.get(a);if(p&&((n=this.modules.get(a))==null?void 0:n.status)===V.LOADED)return this.services.event.emit({type:m.MODULE_ALREADY_LOADED,payload:{module:t}},t),this.modules.get(a)}this.services.event.emit({type:m.MODULE_BEFORE_LOAD,payload:{module:t}},t);let u;const d=(await this.fetchImportMapContent(s)).imports[`${i}.css`];return d&&Aa(`${i}.css`,"stylesheet",d),this.useNativeModules?(this.services.event.emit({type:m.NATIVE_MODULE_LOADING,payload:{module:t}},t),u=await import(await this.getModuleUrl({scope:o,name:i})),this.services.event.emit({type:m.NATIVE_MODULE_LOADED,payload:{loadedTime:new Date().getTime(),module:u}},t)):(this.services.event.emit({type:m.SYSTEMJS_MODULE_LOADING,payload:{module:t}},t),u=await System.import(i),this.services.event.emit({type:m.SYSTEMJS_MODULE_LOADED,payload:{module:u}},t)),!this.modules.has(a)&&!u.status&&await this.registerModule(u),(!u.status||u.status===V.NOT_LOADED)&&this.setModuleState({scope:o,name:i},V.LOADED),u}catch(a){this.services.event.emit({type:m.MODULE_LOAD_ERROR,payload:{module:t,error:a}},t);return}}async mountModule(t,r,n){const{scope:o,name:i}=t,s=await this.loadModule({scope:o,name:i});s!=null&&s.mount&&await s.mount(r,n)}async unmountModule(t){const{scope:r,name:n}=t,o=await this.modules.get(Y(r,n));o!=null&&o.unmount&&await o.unmount()}validateProps(t,r){const{scope:n,name:o}=t,i=Y(n,o);this.services.event.emit({type:m.MODULE_VALIDATE_PROPS,payload:{module:t,props:r}},t);const s=this.modules.get(i);return s!=null&&s.validateProps?s.validateProps(r):!0}async preFetchModules(t){this.services.event.emit({type:m.RUNTIME_MODULES_PREFETCH_START,payload:{modules:t}});for(const r of t){const{name:n,scope:o}=r,i=Y(o,n);this.modules.has(i)||(this.services.event.emit({type:m.RUNTIME_BEFORE_MODULE_PREFETCH,payload:{module:r}}),await this.loadModule({scope:o,name:n}),this.services.event.emit({type:m.RUNTIME_MODULE_PREFETCHED,payload:{module:r}}))}return this.services.event.emit({type:m.RUNTIME_MODULES_PREFETCHED,payload:{modules:t}}),this}async applyModules(){const t=[],r=[];this.modules.forEach(n=>{Ln(window.location.pathname,n)?t.push(n):r.push(n)});for(const n of r){const o=Y(n.scope,n.name),i=this.modules.get(o);i!=null&&i.unmount?(this.services.event.emit({type:m.MODULE_BEFORE_UNMOUNT,payload:{module:n}},n),await i.unmount(),this.services.event.emit({type:m.MODULE_UNMOUNTED,payload:{module:i}},n)):((i==null?void 0:i.type)==="journey-module"||(i==null?void 0:i.type)==="component")&&this.setModuleState({scope:n.scope,name:n.name},V.NOT_LOADED)}for(const n of t)try{const{scope:o,name:i,props:s}=n,a=await this.loadModule({scope:o,name:i});a!=null&&a.mount&&(this.services.event.emit({type:m.MODULE_BEFORE_MOUNT,payload:{module:a}},n),await a.mount(s),this.services.event.emit({type:m.MODULE_MOUNTED,payload:{module:a}},n))}catch(o){this.services.event.emit({type:m.MODULE_MOUNT_ERROR,payload:{module:n,error:o}},n)}}navigateTo(t){if(window.location.pathname===t){this.services.event.emit({type:m.ROUTE_ALREADY_ACTIVE,payload:{path:t}});return}this.services.event.emit({type:m.ROUTE_NAVIGATE_TO,payload:{previousPath:window.location.pathname,path:t}}),window.history.pushState(null,"",t),window.dispatchEvent(new PopStateEvent("popstate"))}async reroute(){this.services.event.emit({type:m.ROUTE_CHANGED,payload:{path:window.location.pathname}}),await this.applyModules()}async preFetchRoutes(t){try{this.services.event.emit({type:m.RUNTIME_ROUTES_PREFETCH_START,payload:{routes:t}});for(const r of t){this.services.event.emit({type:m.RUNTIME_BEFORE_ROUTE_PREFETCH,payload:{path:r}});const n=this.getModulesByPath(r);for(const o of n){const{name:i,scope:s}=o;(o==null?void 0:o.status)!==V.LOADED&&await this.loadModule({scope:s,name:i})}this.services.event.emit({type:m.RUNTIME_ROUTE_PREFETCHED,payload:{path:r}})}this.services.event.emit({type:m.RUNTIME_ROUTES_PREFETCHED,payload:{routes:t}})}catch(r){this.services.event.emit({type:m.RUNTIME_ROUTES_PREFETCH_ERROR,payload:{routes:t,error:r}})}return this}async bootstrap(){this.bootstrapped=!1;const t=Date.now();this.services.event.emit({type:m.RUNTIME_BEFORE_BOOTSTRAP,payload:{bootstrapTime:new Date().toDateString(),modules:this.modules,useNativeModules:this.useNativeModules,importMapOverridesEnabled:this.importMapOverridesEnabled}}),window.addEventListener("popstate",async o=>{this.services.event.emit({type:m.POPSTATE_EVENT_FIRED,payload:{popstateEvent:o}}),await this.reroute()}),this.ensureSystemJs(),this.addImportMapOverridesUi();for(const o of this.modules){const i=o[1];try{i.bootstrap&&(this.services.event.emit({type:m.MODULE_BEFORE_BOOTSTRAP,payload:{module:i}},i),await i.bootstrap(),this.services.event.emit({type:m.MODULE_BOOTSTRAPPED,payload:{module:i}},i))}catch(s){this.services.event.emit({type:m.MODULE_BOOTSTRAP_ERROR,payload:{module:i,error:s}},i)}}const r=Date.now(),n=r-t;this.bootstrapped=!0,this.services.event.emit({type:m.RUNTIME_BOOTSTRAPPED,payload:{bootstrapEndTime:r,bootstrapDuration:n}})}async start(){try{const t=Date.now();this.started=!1,this.services.event.emit({type:m.RUNTIME_BEFORE_START,payload:{startTime:new Date(t).toDateString(),modules:this.modules}}),await this.bootstrap(),await this.reroute();const r=Date.now(),n=r-t;this.services.event.emit({type:m.RUNTIME_STARTED,payload:{startTime:t,startEndTime:r,startDuration:n}}),this.started=!0}catch(t){this.services.event.emit({type:m.RUNTIME_START_ERROR,payload:{error:t}})}}}const xa=e=>{if(Sn()){window.__FEDERATED_CORE__||(window.__FEDERATED_CORE__={federatedRuntime:new _t}),window.__FEDERATED_CORE__.federatedRuntime||(window.__FEDERATED_CORE__.federatedRuntime=new _t);const t=window.__FEDERATED_CORE__.federatedRuntime;return t.useNativeModules=(e==null?void 0:e.useNativeModules)||t.useNativeModules||!1,((e==null?void 0:e.importMapOverridesEnabled)||t.importMapOverridesEnabled)&&(t.importMapOverridesEnabled=(e==null?void 0:e.importMapOverridesEnabled)||t.importMapOverridesEnabled||!1,t.addImportMapOverridesUi()),t.debugEnabled=(e==null?void 0:e.debugEnabled)||!1,t.sharedDependencyBaseUrl=(e==null?void 0:e.sharedDependencyBaseUrl)||"",t.cdnUrl=(e==null?void 0:e.cdnUrl)||t.cdnUrl||"",window.__FEDERATED_CORE__.federatedRuntime=t,t}return new _t};Sn()&&!window.__FEDERATED_CORE__&&(window.__FEDERATED_CORE__={moduleBaseUrls:{},federatedRuntime:new _t});var $={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},U=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.prototype.hasOwnProperty.call($,e)||(e=$.log),U[e].apply(U,t)};U.debug=console.debug.bind(console),U.log=console.log.bind(console),U.info=console.info.bind(console),U.warn=console.warn.bind(console),U.error=console.error.bind(console);var Ba=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Rt,Mn=!1;function Pa(e){Rt=e}function ka(e){Mn=e}function ja(e,t,r){var n=r.value;r.value=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=Rt?b(n):n;return s.apply(this,o)}}function b(e){return function(){return ne(e,this,arguments)}}function ne(e,t,r){try{return e.apply(t,r)}catch(n){if(cr($.error,n),Rt)try{Rt(n)}catch(o){cr($.error,o)}}}function cr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Mn&&U.apply(void 0,Ba([e,"[MONITOR]"],t,!1))}var He=1e3,Ke=60*He,Ga=60*Ke,lr=1024;function Ha(e,t,r){var n=r&&r.leading!==void 0?r.leading:!0,o=r&&r.trailing!==void 0?r.trailing:!0,i=!1,s,a;return{throttled:function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];if(i){s=u;return}n?e.apply(void 0,u):s=u,i=!0,a=setTimeout(function(){o&&s&&e.apply(void 0,s),i=!1,s=void 0},t)},cancel:function(){clearTimeout(a),i=!1,s=void 0}}}function k(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}),e}function Ka(e){return k({},e)}function he(e){return e?(parseInt(e,10)^Math.random()*16>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,he)}function Un(e){return e!==0&&Math.random()*100<=e}function Ve(){}function Tt(e,t,r){if(typeof e!="object"||e===null)return JSON.stringify(e);var n=St(Object.prototype),o=St(Array.prototype),i=St(Object.getPrototypeOf(e)),s=St(e);try{return JSON.stringify(e,t,r)}catch{return"<error: unable to serialize object>"}finally{n(),o(),i(),s()}}function St(e){var t=e,r=t.toJSON;return r?(delete t.toJSON,function(){t.toJSON=r}):Ve}function Ye(e,t){return e.indexOf(t)!==-1}function An(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(n){return t.push(n)});else for(var r=0;r<e.length;r++)t.push(e[r]);return t}function Va(e,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(t(n,r))return n}}function Cn(e){return Ya(e)&&e>=0&&e<=100}function Ya(e){return typeof e=="number"}function Fe(e){return Object.keys(e).map(function(t){return e[t]})}function Fa(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function Wa(e){return Object.keys(e).length===0}function Ja(e,t){return e.slice(0,t.length)===t}function za(e,t){return e.slice(-t.length)===t}function dr(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof e!="object"&&(typeof self=="object"?e=self:typeof window=="object"?e=window:e={}),e}function Xa(){return qa(window.location)}function qa(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}function Qa(e,t){var r=new RegExp("(?:^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)")),n=r.exec(e);return n?n[1]:void 0}function Za(e,t,r){r===void 0&&(r="");var n=e.charCodeAt(t-1),o=n>=55296&&n<=56319,i=o?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(r)}function We(e,t,r,n){return Nn(e,[t],r,n)}function Nn(e,t,r,n){var o=n===void 0?{}:n,i=o.once,s=o.capture,a=o.passive,u=b(i?function(p){d(),r(p)}:r),c=a?{capture:s,passive:a}:s;t.forEach(function(p){return e.addEventListener(p,u,c)});var d=function(){return t.forEach(function(p){return e.removeEventListener(p,u,c)})};return{stop:d}}function eu(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function tu(){if(typeof WeakSet!="undefined"){var e=new WeakSet;return{hasAlreadyBeenSeen:function(r){var n=e.has(r);return n||e.add(r),n}}}var t=[];return{hasAlreadyBeenSeen:function(r){var n=t.indexOf(r)>=0;return n||t.push(r),n}}}function wt(e,t,r){if(r===void 0&&(r=tu()),t===void 0)return e;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var n=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,n)}if(!r.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],i=0;i<t.length;++i)o[i]=wt(o[i],t[i],r);return o}var s=eu(e)==="object"?e:{};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=wt(s[a],t[a],r));return s}}function me(e){return wt(void 0,e)}function Lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n=0,o=e;n<o.length;n++){var i=o[n];i!=null&&(r=wt(r,i))}return r}function ru(e){var t=new Set;return e.forEach(function(r){return t.add(r)}),An(t)}var In=He;function Je(e,t,r,n){var o=new Date;o.setTime(o.getTime()+r);var i="expires=".concat(o.toUTCString()),s=n&&n.crossSite?"none":"strict",a=n&&n.domain?";domain=".concat(n.domain):"",u=n&&n.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/;samesite=").concat(s).concat(a).concat(u)}function F(e){return Qa(document.cookie,e)}function $n(e,t){Je(e,"",0,t)}function nu(e){if(document.cookie===void 0||document.cookie===null)return!1;try{var t="dd_cookie_test_".concat(he()),r="test";Je(t,r,He,e);var n=F(t)===r;return $n(t,e),n}catch(o){return U.error(o),!1}}var fr;function ou(){if(fr===void 0){for(var e="dd_site_test_".concat(he()),t="test",r=window.location.hostname.split("."),n=r.pop();r.length&&!F(e);)n="".concat(r.pop(),".").concat(n),Je(e,t,He,{domain:n});$n(e,{domain:n}),fr=n}return fr}function xn(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return e.apply(void 0,r)}catch(o){U.error(t,o)}}}var Dt;function iu(e){!Array.isArray(e)||(Dt||(Dt=new Set(e)),e.filter(function(t){return typeof t=="string"}).forEach(function(t){Dt.add(t)}))}function su(){return Dt||new Set}function ze(){return new Date().getTime()}function z(){return ze()}function Xe(){return performance.now()}function Mt(){return{relative:Xe(),timeStamp:z()}}function au(){return{relative:0,timeStamp:Pn()}}function Bn(e,t){return t-e}function uu(e){return e-Pn()}var pr;function Pn(){return pr===void 0&&(pr=performance.timing.navigationStart),pr}function vr(e){return cu(e,Xa()).href}function cu(e,t){if(lu())return t!==void 0?new URL(e,t):new URL(e);if(t===void 0&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var r=document,n=r.createElement("a");if(t!==void 0){r=document.implementation.createHTMLDocument("");var o=r.createElement("base");o.href=t,r.head.appendChild(o),r.body.appendChild(n)}return n.href=e,n}var Ee;function lu(){if(Ee!==void 0)return Ee;try{var e=new URL("http://test/path");return Ee=e.href==="http://test/path",Ee}catch{Ee=!1}return Ee}var du="datad0g.com",hr="datadoghq.com",fu="ddog-gov.com",pu={logs:"logs",rum:"rum",sessionReplay:"session-replay"},vu={logs:"logs",rum:"rum",sessionReplay:"replay"};function qe(e,t,r){var n=e.site,o=n===void 0?hr:n,i=e.clientToken,s=o.split("."),a=s.pop(),u="".concat(pu[t],".browser-intake-").concat(s.join("-"),".").concat(a),c="https://".concat(u,"/api/v2/").concat(vu[t]),d=e.proxyUrl&&vr(e.proxyUrl);return{build:function(){var p="ddsource=browser"+"&ddtags=".concat(encodeURIComponent(["sdk_version:".concat("4.17.2")].concat(r).join(",")))+"&dd-api-key=".concat(i)+"&dd-evp-origin-version=".concat(encodeURIComponent("4.17.2"))+"&dd-evp-origin=browser"+"&dd-request-id=".concat(he());t==="rum"&&(p+="&batch_time=".concat(z()));var l="".concat(c,"?").concat(p);return d?"".concat(d,"?ddforward=").concat(encodeURIComponent(l)):l},buildIntakeUrl:function(){return d?"".concat(d,"?ddforward"):c},endpointType:t}}var hu=200;function mu(e){var t=e.env,r=e.service,n=e.version,o=e.datacenter,i=[];return t&&i.push(Ut("env",t)),r&&i.push(Ut("service",r)),n&&i.push(Ut("version",n)),o&&i.push(Ut("datacenter",o)),i}var Eu=/[^a-z0-9_:./-]/;function Ut(e,t){var r=hu-e.length-1;(t.length>r||Eu.test(t))&&U.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var n=t.replace(/,/g,"_");return"".concat(e,":").concat(n)}function yu(e){var t=mu(e),r=gu(e,t),n=Fe(r).map(function(i){return i.buildIntakeUrl()}),o=Ou(e,n,t);return k({isIntakeUrl:function(i){return n.some(function(s){return i.indexOf(s)===0})},replica:o,site:e.site||hr},r)}function gu(e,t){return{logsEndpointBuilder:qe(e,"logs",t),rumEndpointBuilder:qe(e,"rum",t),sessionReplayEndpointBuilder:qe(e,"sessionReplay",t)}}function Ou(e,t,r){if(!!e.replica){var n=k({},e,{site:hr,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:qe(n,"logs",r),rumEndpointBuilder:qe(n,"rum",r)};return t.push.apply(t,Fe(o).map(function(i){return i.buildIntakeUrl()})),k({applicationId:e.replica.applicationId},o)}}function bu(e){var t,r;if(!e||!e.clientToken){U.error("Client Token is not configured, we will not send any data.");return}if(e.sampleRate!==void 0&&!Cn(e.sampleRate)){U.error("Sample Rate should be a number between 0 and 100");return}if(e.telemetrySampleRate!==void 0&&!Cn(e.telemetrySampleRate)){U.error("Telemetry Sample Rate should be a number between 0 and 100");return}return iu(e.enableExperimentalFeatures),k({beforeSend:e.beforeSend&&xn(e.beforeSend,"beforeSend threw an error:"),cookieOptions:_u(e),sampleRate:(t=e.sampleRate)!==null&&t!==void 0?t:100,telemetrySampleRate:(r=e.telemetrySampleRate)!==null&&r!==void 0?r:20,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16*lr,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*He,batchMessagesLimit:50,messageBytesLimit:256*lr},yu(e))}function _u(e){var t={};return t.secure=Ru(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=ou()),t}function Ru(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}var Qe="?";function oe(e){var t=[],r=mr(e,"stack");return r&&r.split(`
`).forEach(function(n){var o=wu(n)||Du(n)||Uu(n)||Nu(n);o&&(!o.func&&o.line&&(o.func=Qe),t.push(o))}),{message:mr(e,"message"),name:mr(e,"name"),stack:t}}var kn="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",ye="(?::(\\d+))",Tu=new RegExp("^\\s*at (.*?) ?\\(".concat(kn).concat(ye,"?").concat(ye,"?\\)?\\s*$"),"i"),Su=new RegExp("\\((\\S*)".concat(ye).concat(ye,"\\)"));function wu(e){var t=Tu.exec(e);if(!!t){var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,o=Su.exec(t[2]);return n&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Qe,line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}}var Lu=new RegExp("^\\s*at ?".concat(kn).concat(ye,"?").concat(ye,"??\\s*$"),"i");function Du(e){var t=Lu.exec(e);if(!!t)return{args:[],column:t[3]?+t[3]:void 0,func:Qe,line:t[2]?+t[2]:void 0,url:t[1]}}var Mu=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Uu(e){var t=Mu.exec(e);if(!!t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Qe,line:+t[3],url:t[2]}}var Au=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Cu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Nu(e){var t=Au.exec(e);if(!!t){var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Cu.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||Qe,line:t[4]?+t[4]:void 0,url:t[3]}}}function mr(e,t){if(!(typeof e!="object"||!e||!(t in e))){var r=e[t];return typeof r=="string"?r:void 0}}function jn(e,t,r){var n=e[t],o=r(n),i=function(){return o.apply(this,arguments)};return e[t]=i,{stop:function(){e[t]===i?e[t]=n:o=n}}}function ge(e,t,r){var n=r.before,o=r.after;return jn(e,t,function(i){return function(){var s=arguments,a;return n&&ne(n,this,s),typeof i=="function"&&(a=i.apply(this,s)),o&&ne(o,this,s),a}})}var Iu=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function $u(e){var t=xu(e).stop,r=Bu(e).stop;return{stop:function(){t(),r()}}}function xu(e){return ge(window,"onerror",{before:function(t,r,n,o,i){var s;if(i)s=oe(i),e(s,i);else{var a={url:r,column:o,line:n},u,c=t;if({}.toString.call(t)==="[object String]"){var d=Iu.exec(c);d&&(u=d[1],c=d[2])}s={name:u,message:typeof c=="string"?c:void 0,stack:[a]},e(s,t)}}})}function Bu(e){return ge(window,"onunhandledrejection",{before:function(t){var r=t.reason||"Empty reason",n=oe(r);e(n,r)}})}var x={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Pu(e,t,r,n){return!e||e.message===void 0&&!(t instanceof Error)?{message:"".concat(r," ").concat(Tt(t)),stack:"No stack, consider using an instance of Error",handlingStack:n,type:e&&e.name}:{message:e.message||"Empty message",stack:Oe(e),handlingStack:n,type:e.name}}function Oe(e){var t=Gn(e);return e.stack.forEach(function(r){var n=r.func==="?"?"<anonymous>":r.func,o=r.args&&r.args.length>0?"(".concat(r.args.join(", "),")"):"",i=r.line?":".concat(r.line):"",s=r.line&&r.column?":".concat(r.column):"";t+=`
  at `.concat(n).concat(o," @ ").concat(r.url).concat(i).concat(s)}),t}function ku(e){var t;return(t=/@ (.+)/.exec(e))===null||t===void 0?void 0:t[1]}function Gn(e){return"".concat(e.name||"Error",": ").concat(e.message)}function ju(){var e=2,t=new Error,r;if(!t.stack)try{throw t}catch{}return ne(function(){var n=oe(t);n.stack=n.stack.slice(e),r=Oe(n)}),r}function Gu(e){return $u(function(t,r){var n=Pu(t,r,"Uncaught"),o=n.stack,i=n.message,s=n.type;e.notify({message:i,stack:o,type:s,source:x.SOURCE,startClocks:Mt(),originalError:r,handling:"unhandled"})})}function Hu(e){var t=k({version:"4.17.2",onReady:function(r){r()}},e);return Object.defineProperty(t,"_setDebug",{get:function(){return ka},enumerable:!1}),t}function Ku(e,t,r){var n=e[t];e[t]=r,n&&n.q&&n.q.forEach(function(o){return xn(o,"onReady callback threw an error:")()})}var W=function(){function e(t){this.onFirstSubscribe=t,this.observers=[]}return e.prototype.subscribe=function(t){var r=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(t),{unsubscribe:function(){r.observers=r.observers.filter(function(n){return t!==n}),!r.observers.length&&r.onLastUnsubscribe&&r.onLastUnsubscribe()}}},e.prototype.notify=function(t){this.observers.forEach(function(r){return r(t)})},e}();function Hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=new W(function(){var n=e.map(function(o){return o.subscribe(function(i){return r.notify(i)})});return function(){return n.forEach(function(o){return o.unsubscribe()})}});return r}var Q={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Vu(e){var t=[];Ye(e,Q.cspViolation)&&t.push(Fu());var r=e.filter(function(n){return n!==Q.cspViolation});return r.length&&t.push(Yu(r)),Hn.apply(void 0,t)}function Yu(e){var t=new W(function(){if(!!window.ReportingObserver){var r=b(function(o){return o.forEach(function(i){t.notify(Wu(i))})}),n=new window.ReportingObserver(r,{types:e,buffered:!0});return n.observe(),function(){n.disconnect()}}});return t}function Fu(){var e=new W(function(){var t=b(function(n){e.notify(Ju(n))}),r=We(document,"securitypolicyviolation",t).stop;return r});return e}function Wu(e){var t=e.type,r=e.body;return{type:t,subtype:r.id,message:"".concat(t,": ").concat(r.message),stack:Kn(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)}}function Ju(e){var t=Q.cspViolation,r="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:Q.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(r),stack:Kn(e.effectiveDirective,"".concat(r,' of the policy "').concat(Za(e.originalPolicy,100,"..."),'"'),e.sourceFile,e.lineNumber,e.columnNumber)}}function Kn(e,t,r,n,o){return r&&Oe({name:e,message:t,stack:[{func:"?",url:r,line:n,column:o}]})}var zu=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],Xu=[fu],be={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1},Er;function qu(e){var t,r=new W;be.telemetryEnabled=Un(e.telemetrySampleRate),Er=function(o){!Ye(Xu,e.site)&&be.telemetryEnabled&&r.notify(n(o))},Pa(Vn),k(be,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function n(o){return Lt({type:"telemetry",date:z(),service:"browser-sdk",version:"4.17.2",source:"browser",_dd:{format_version:2},telemetry:o,experimental_features:An(su())},t!==void 0?t():{})}return{setContextProvider:function(o){t=o},observable:r}}function Qu(e){return e.site===du}function Zu(e,t){cr($.debug,e,t),Yn(k({message:e,status:"debug"},t))}function Vn(e){Yn(k({status:"error"},ec(e)))}function Yn(e){Er&&be.sentEventCount<be.maxEventsPerPage&&(be.sentEventCount+=1,Er(e))}function ec(e){if(e instanceof Error){var t=oe(e);return{error:{kind:t.name,stack:Oe(tc(t))},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(Tt(e))}}function tc(e){return e.stack=e.stack.filter(function(t){return!t.url||zu.some(function(r){return Ja(t.url,r)})}),e}var At=1/0,rc=Ke,nc=function(){function e(t){var r=this;this.expireDelay=t,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return r.clearOldContexts()},rc)}return e.prototype.add=function(t,r){var n=this,o={context:t,startTime:r,endTime:At,remove:function(){var i=n.entries.indexOf(o);i>=0&&n.entries.splice(i,1)},close:function(i){o.endTime=i}};return this.entries.unshift(o),o},e.prototype.find=function(t){t===void 0&&(t=At);for(var r=0,n=this.entries;r<n.length;r++){var o=n[r];if(o.startTime<=t){if(t<=o.endTime)return o.context;break}}},e.prototype.closeActive=function(t){var r=this.entries[0];r&&r.endTime===At&&r.close(t)},e.prototype.findAll=function(t){return t===void 0&&(t=At),this.entries.filter(function(r){return r.startTime<=t&&t<=r.endTime}).map(function(r){return r.context})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var t=Xe()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<t;)this.entries.pop()},e}();function oc(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var Fn=4*Ga,Wn=15*Ke,Jn=/^([a-z]+)=([a-z0-9-]+)$/,yr="&",Ct="_dd_s",ic=10,sc=100,zn=[],Nt;function Ze(e,t){var r;if(t===void 0&&(t=0),Nt||(Nt=e),e!==Nt){zn.push(e);return}if(t>=sc){Xn();return}var n,o=et();if(gr()){if(o.lock){It(e,t);return}if(n=he(),o.lock=n,Or(o,e.options),o=et(),o.lock!==n){It(e,t);return}}var i=e.process(o);if(gr()&&(o=et(),o.lock!==n)){It(e,t);return}if(i&&qn(i,e.options),gr()&&!(i&&Qn(i))){if(o=et(),o.lock!==n){It(e,t);return}delete o.lock,Or(o,e.options),i=o}(r=e.after)===null||r===void 0||r.call(e,i||o),Xn()}function gr(){return oc()}function It(e,t){setTimeout(b(function(){Ze(e,t+1)}),ic)}function Xn(){Nt=void 0;var e=zn.shift();e&&Ze(e)}function qn(e,t){if(Qn(e)){cc(t);return}e.expire=String(ze()+Wn),Or(e,t)}function Or(e,t){Je(Ct,ac(e),Wn,t)}function ac(e){return Fa(e).map(function(t){var r=t[0],n=t[1];return"".concat(r,"=").concat(n)}).join(yr)}function et(){var e=F(Ct),t={};return uc(e)&&e.split(yr).forEach(function(r){var n=Jn.exec(r);if(n!==null){var o=n[1],i=n[2];t[o]=i}}),t}function uc(e){return e!==void 0&&(e.indexOf(yr)!==-1||Jn.test(e))}function Qn(e){return Wa(e)}function cc(e){Je(Ct,"",0,e)}var lc="_dd",dc="_dd_r",fc="_dd_l",pc="rum",vc="logs";function hc(e){var t=F(Ct),r=F(lc),n=F(dc),o=F(fc);if(!t){var i={};r&&(i.id=r),o&&/^[01]$/.test(o)&&(i[vc]=o),n&&/^[012]$/.test(n)&&(i[pc]=n),qn(i,e)}}function mc(e,t,r){var n=new W,o=new W,i=setInterval(b(c),In),s=w();function a(){var f;Ze({options:e,process:function(T){var C=d(T);return f=p(C),C},after:function(T){f&&!l()&&g(T),s=T}})}function u(){Ze({options:e,process:function(f){return l()?d(f):void 0}})}function c(){Ze({options:e,process:function(f){return A(f)?void 0:{}},after:d})}function d(f){return A(f)||(f={}),l()&&(h(f)?E():s=f),f}function p(f){var T=r(f[t]),C=T.trackingType,D=T.isTracked;return f[t]=C,D&&!f.id&&(f.id=he(),f.created=String(ze())),D}function l(){return s[t]!==void 0}function h(f){return s.id!==f.id||s[t]!==f[t]}function E(){s={},o.notify()}function g(f){s=f,n.notify()}function w(){var f=et();return A(f)?f:{}}function A(f){return(f.created===void 0||ze()-Number(f.created)<Fn)&&(f.expire===void 0||ze()<Number(f.expire))}return{expandOrRenewSession:Ha(b(a),In).throttled,expandSession:u,getSession:function(){return s},renewObservable:n,expireObservable:o,stop:function(){clearInterval(i)}}}var Ec=Ke,yc=Fn;function gc(e,t,r){hc(e);var n=mc(e,t,r),o=new nc(yc);n.renewObservable.subscribe(function(){o.add(i(),Xe())}),n.expireObservable.subscribe(function(){o.closeActive(Xe())}),n.expandOrRenewSession(),o.add(i(),au().relative),Oc(function(){return n.expandOrRenewSession()}),bc(function(){return n.expandSession()});function i(){return{id:n.getSession().id,trackingType:n.getSession()[t]}}return{findActiveSession:function(s){return o.find(s)},renewObservable:n.renewObservable,expireObservable:n.expireObservable}}function Oc(e){Nn(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop}function bc(e){var t=b(function(){document.visibilityState==="visible"&&e()});We(document,"visibilitychange",t).stop,setInterval(t,Ec)}var _c=function(){function e(t,r){this.endpointBuilder=t,this.bytesLimit=r}return e.prototype.send=function(t,r){var n=this.endpointBuilder.build(),o=!!navigator.sendBeacon&&r<this.bytesLimit;if(o)try{var i=navigator.sendBeacon(n,t);if(i)return}catch(a){Rc(a)}var s=new XMLHttpRequest;s.open("POST",n,!0),s.send(t)},e}(),Zn=!1;function Rc(e){Zn||(Zn=!0,Vn(e))}var Tc=/[^\u0000-\u007F]/,Sc=function(){function e(t,r,n,o,i,s){s===void 0&&(s=Ve),this.request=t,this.batchMessagesLimit=r,this.batchBytesLimit=n,this.messageBytesLimit=o,this.flushTimeout=i,this.beforeUnloadCallback=s,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(t){this.addOrUpdate(t)},e.prototype.upsert=function(t,r){this.addOrUpdate(t,r)},e.prototype.flush=function(){if(this.bufferMessagesCount!==0){var t=this.pushOnlyBuffer.concat(Fe(this.upsertBuffer)),r=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,this.request.send(t.join(`
`),r)}},e.prototype.computeBytesCount=function(t){return Tc.test(t)?window.TextEncoder!==void 0?new TextEncoder().encode(t).length:new Blob([t]).size:t.length},e.prototype.addOrUpdate=function(t,r){var n=this.process(t),o=n.processedMessage,i=n.messageBytesCount;if(i>=this.messageBytesLimit){U.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(r)&&this.remove(r),this.willReachedBytesLimitWith(i)&&this.flush(),this.push(o,i,r),this.isFull()&&this.flush()},e.prototype.process=function(t){var r=Tt(t),n=this.computeBytesCount(r);return{processedMessage:r,messageBytesCount:n}},e.prototype.push=function(t,r,n){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),n!==void 0?this.upsertBuffer[n]=t:this.pushOnlyBuffer.push(t),this.bufferBytesCount+=r,this.bufferMessagesCount+=1},e.prototype.remove=function(t){var r=this.upsertBuffer[t];delete this.upsertBuffer[t];var n=this.computeBytesCount(r);this.bufferBytesCount-=n,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},e.prototype.hasMessageFor=function(t){return t!==void 0&&this.upsertBuffer[t]!==void 0},e.prototype.willReachedBytesLimitWith=function(t){return this.bufferBytesCount+t+1>=this.batchBytesLimit},e.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},e.prototype.flushPeriodically=function(){var t=this;setTimeout(b(function(){t.flush(),t.flushPeriodically()}),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var t=this;navigator.sendBeacon&&(We(window,"beforeunload",this.beforeUnloadCallback),We(document,"visibilitychange",function(){document.visibilityState==="hidden"&&t.flush()}),We(window,"beforeunload",function(){return t.flush()}))},e}();function br(){var e=wc();if(!!e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,r){e.send(JSON.stringify({eventType:t,event:r}))}}}function $t(e){var t;e===void 0&&(e=(t=dr().location)===null||t===void 0?void 0:t.hostname);var r=br();return!!r&&r.getAllowedWebViewHosts().some(function(n){return e===n||za(e,".".concat(n))})}function wc(){return dr().DatadogEventBridge}function eo(e,t,r){var n=i(t),o;r&&(o=i(r));function i(s){return new Sc(new _c(s,e.batchBytesLimit),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout)}return{add:function(s,a){a===void 0&&(a=!0),n.add(s),o&&a&&o.add(s)}}}function Lc(e,t,r){var n=0,o=!1;return{isLimitReached:function(){if(n===0&&setTimeout(function(){n=0},Ke),n+=1,n<=t||o)return o=!1,!1;if(n===t+1){o=!0;try{r({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:x.AGENT,startClocks:Mt()})}finally{o=!1}}return!0}}}var _r,Rr=new WeakMap;function Dc(){return _r||(_r=Mc()),_r}function Mc(){var e=new W(function(){var t=ge(XMLHttpRequest.prototype,"open",{before:Uc}).stop,r=ge(XMLHttpRequest.prototype,"send",{before:function(){Ac.call(this,e)}}).stop,n=ge(XMLHttpRequest.prototype,"abort",{before:Cc}).stop;return function(){t(),r(),n()}});return e}function Uc(e,t){Rr.set(this,{state:"open",method:e,url:vr(String(t))})}function Ac(e){var t=this,r=Rr.get(this);if(!!r){var n=r;n.state="start",n.startTime=Xe(),n.startClocks=Mt(),n.isAborted=!1,n.xhr=this;var o=!1,i=ge(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&s()}}).stop,s=b(function(){if(t.removeEventListener("loadend",s),i(),!o){o=!0;var a=r;a.state="complete",a.duration=Bn(n.startClocks.timeStamp,z()),a.status=t.status,e.notify(Ka(a))}});this.addEventListener("loadend",s),e.notify(n)}}function Cc(){var e=Rr.get(this);e&&(e.isAborted=!0)}var Tr;function Nc(){return Tr||(Tr=Ic()),Tr}function Ic(){var e=new W(function(){if(!!window.fetch){var t=jn(window,"fetch",function(r){return function(n,o){var i,s=ne($c,null,[e,n,o]);return s?(i=r.call(this,s.input,s.init),ne(xc,null,[e,i,s])):i=r.call(this,n,o),i}}).stop;return t}});return e}function $c(e,t,r){var n=r&&r.method||typeof t=="object"&&t.method||"GET",o=vr(typeof t=="object"&&t.url||t),i=Mt(),s={state:"start",init:r,input:t,method:n,startClocks:i,url:o};return e.notify(s),s}function xc(e,t,r){var n=function(o){var i=r;i.state="complete",i.duration=Bn(i.startClocks.timeStamp,z()),"stack"in o||o instanceof Error?(i.status=0,i.isAborted=o instanceof DOMException&&o.code===DOMException.ABORT_ERR,i.error=o,e.notify(i)):"status"in o&&(i.response=o,i.responseType=o.type,i.status=o.status,i.isAborted=!1,e.notify(i))};t.then(b(n),b(n))}var Sr={};function Bc(e){var t=e.map(function(r){return Sr[r]||(Sr[r]=Pc(r)),Sr[r]});return Hn.apply(void 0,t)}function Pc(e){var t=new W(function(){var r=console[e];return console[e]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];r.apply(console,n);var i=ju();ne(function(){t.notify(kc(n,e,i))})},function(){console[e]=r}});return t}function kc(e,t,r){var n=e.map(function(s){return jc(s)}).join(" "),o;if(t===$.error){var i=Va(e,function(s){return s instanceof Error});o=i?Oe(oe(i)):void 0,n="console error: ".concat(n)}return{api:t,message:n,stack:o,handlingStack:r}}function jc(e){return typeof e=="string"?e:e instanceof Error?Gn(oe(e)):Tt(e,void 0,2)}var Gc=500,Hc=function(){function e(){this.buffer=[]}return e.prototype.add=function(t){var r=this.buffer.push(t);r>Gc&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach(function(t){return t()}),this.buffer.length=0},e}();function to(){var e={};return{get:function(){return e},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},set:function(t){e=t},getContext:function(){return me(e)},setContext:function(t){e=me(t)},setContextProperty:function(t,r){e[t]=me(r)},removeContextProperty:function(t){delete e[t]},clearContext:function(){e={}}}}var Kc="datadog-synthetics-public-id",Vc="datadog-synthetics-result-id",Yc="datadog-synthetics-injects-rum";function ro(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||F(Yc))}function Fc(){var e=window._DATADOG_SYNTHETICS_PUBLIC_ID||F(Kc);return typeof e=="string"?e:void 0}function Wc(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||F(Vc);return typeof e=="string"?e:void 0}var Jc=32*lr;function zc(e){var t=bu(e),r=no(e.forwardConsoleLogs,Fe($),"Forward Console Logs"),n=no(e.forwardReports,Fe(Q),"Forward Reports");if(!(!t||!r||!n))return e.forwardErrorsToLogs&&!Ye(r,$.error)&&r.push($.error),k({forwardErrorsToLogs:e.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:Jc},t)}function no(e,t,r){if(e===void 0)return[];if(!(e==="all"||Array.isArray(e)&&e.every(function(n){return Ye(t,n)}))){U.error("".concat(r,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'));return}return e==="all"?t:ru(e)}var Xc=globalThis&&globalThis.__decorate||function(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},R={debug:"debug",error:"error",info:"info",warn:"warn"},wr={console:"console",http:"http",silent:"silent"},qc=Object.keys(R),oo=function(){function e(t,r,n,o,i){n===void 0&&(n=wr.http),o===void 0&&(o=R.debug),i===void 0&&(i={}),this.handleLogStrategy=t,this.handlerType=n,this.level=o,this.contextManager=to(),this.contextManager.set(k({},i,r?{logger:{name:r}}:void 0))}return e.prototype.log=function(t,r,n){n===void 0&&(n=R.info),this.handleLogStrategy({message:t,context:me(r),status:n},this)},e.prototype.debug=function(t,r){this.log(t,r,R.debug)},e.prototype.info=function(t,r){this.log(t,r,R.info)},e.prototype.warn=function(t,r){this.log(t,r,R.warn)},e.prototype.error=function(t,r){var n={error:{origin:x.LOGGER}};this.log(t,Lt(n,r),R.error)},e.prototype.setContext=function(t){this.contextManager.set(t)},e.prototype.getContext=function(){return this.contextManager.get()},e.prototype.addContext=function(t,r){this.contextManager.add(t,r)},e.prototype.removeContext=function(t){this.contextManager.remove(t)},e.prototype.setHandler=function(t){this.handlerType=t},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(t){this.level=t},e.prototype.getLevel=function(){return this.level},Xc([ja],e.prototype,"log",null),e}();function Qc(e){var t=!1,r=to(),n={},o=function(){},i=new Hc,s=function(l,h,E,g){E===void 0&&(E=me(c())),g===void 0&&(g=z()),i.add(function(){return s(l,h,E,g)})},a=function(){},u=new oo(function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return s.apply(void 0,l)});function c(){return{view:{referrer:document.referrer,url:window.location.href},context:r.get()}}return Hu({logger:u,init:b(function(l){var h;if($t()&&(l=d(l)),!!p(l)){var E=zc(l);!E||(h=e(E,c,u),s=h.handleLog,o=h.getInternalContext,a=function(){return me(l)},i.drain(),t=!0)}}),getLoggerGlobalContext:b(r.get),getGlobalContext:b(r.getContext),setLoggerGlobalContext:b(r.set),setGlobalContext:b(r.setContext),addLoggerGlobalContext:b(r.add),setGlobalContextProperty:b(r.setContextProperty),removeLoggerGlobalContext:b(r.remove),removeGlobalContextProperty:b(r.removeContextProperty),clearGlobalContext:b(r.clearContext),createLogger:b(function(l,h){return h===void 0&&(h={}),n[l]=new oo(function(){for(var E=[],g=0;g<arguments.length;g++)E[g]=arguments[g];return s.apply(void 0,E)},l,h.handler,h.level,h.context),n[l]}),getLogger:b(function(l){return n[l]}),getInitConfiguration:b(function(){return a()}),getInternalContext:b(function(l){return o(l)})});function d(l){return k({},l,{clientToken:"empty"})}function p(l){return t?(l.silentMultipleInit||U.error("DD_LOGS is already initialized."),!1):!0}}var Zc="logs";function el(e){var t=gc(e.cookieOptions,Zc,function(r){return rl(e,r)});return{findTrackedSession:function(r){var n=t.findActiveSession(r);return n&&n.trackingType==="1"?{id:n.id}:void 0}}}function tl(e){var t=io(e)==="1",r=t?{}:void 0;return{findTrackedSession:function(){return r}}}function io(e){return Un(e.sampleRate)?"1":"0"}function rl(e,t){var r=nl(t)?t:io(e);return{trackingType:r,isTracked:r==="1"}}function nl(e){return e==="0"||e==="1"}var _e,so=(_e={},_e[R.debug]=0,_e[R.info]=1,_e[R.warn]=2,_e[R.error]=3,_e);function ol(e){function t(r,n,o,i){var s=r.context;ao(r.status,wr.console,n)&&U(r.status,r.message,Lt(n.getContext(),s)),e.notify(0,{rawLogsEvent:{date:i||z(),message:r.message,status:r.status,origin:x.LOGGER},messageContext:s,savedCommonContext:o,logger:n})}return{handleLog:t}}function ao(e,t,r){var n=r.getHandler(),o=Array.isArray(n)?n:[n];return so[e]>=so[r.getLevel()]&&Ye(o,t)}function il(e,t){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{origin:x.AGENT},origin:x.AGENT,status:R.error}})}function sl(e,t,r,n,o){var i=qc.concat(["custom"]),s={};i.forEach(function(a){s[a]=Lc(a,t.eventRateLimiterThreshold,function(u){return il(u,r)})}),r.subscribe(0,function(a){var u,c,d,p=a.rawLogsEvent,l=a.messageContext,h=l===void 0?void 0:l,E=a.savedCommonContext,g=E===void 0?void 0:E,w=a.logger,A=w===void 0?o:w,f=uu(p.date),T=e.findTrackedSession(f);if(!!T){var C=g||n(),D=Lt({service:t.service,session_id:T.id,view:C.view},C.context,xt(f),p,A.getContext(),h);!ao(p.status,wr.http,A)||((u=t.beforeSend)===null||u===void 0?void 0:u.call(t,D))===!1||((c=D.error)===null||c===void 0?void 0:c.origin)!==x.AGENT&&((d=s[D.status])!==null&&d!==void 0?d:s.custom).isLimitReached()||r.notify(1,D)}})}var uo=!1;function xt(e){var t=window;if(ro()){var r=n(t.DD_RUM_SYNTHETICS);return!r&&!uo&&(uo=!0,Zu("Logs sent before RUM is injected by the synthetics worker",{testId:Fc(),resultId:Wc()})),r}return n(t.DD_RUM);function n(o){if(o&&o.getInternalContext)return o.getInternalContext(e)}}var ie,al=(ie={},ie[$.log]=R.info,ie[$.debug]=R.debug,ie[$.info]=R.info,ie[$.warn]=R.warn,ie[$.error]=R.error,ie);function ul(e,t){var r=Bc(e.forwardConsoleLogs).subscribe(function(n){t.notify(0,{rawLogsEvent:{date:z(),message:n.message,origin:x.CONSOLE,error:n.api===$.error?{origin:x.CONSOLE,stack:n.stack}:void 0,status:al[n.api]}})});return{stop:function(){r.unsubscribe()}}}var tt,cl=(tt={},tt[Q.cspViolation]=R.error,tt[Q.intervention]=R.error,tt[Q.deprecation]=R.warn,tt);function ll(e,t){var r=Vu(e.forwardReports).subscribe(function(n){var o=n.message,i=cl[n.type],s;i===R.error?s={kind:n.subtype,origin:x.REPORT,stack:n.stack}:n.stack&&(o+=" Found in ".concat(ku(n.stack))),t.notify(0,{rawLogsEvent:{date:z(),message:o,origin:x.REPORT,error:s,status:i}})});return{stop:function(){r.unsubscribe()}}}function dl(e,t){if(!e.forwardErrorsToLogs)return{stop:Ve};var r=Dc().subscribe(function(i){i.state==="complete"&&o("xhr",i)}),n=Nc().subscribe(function(i){i.state==="complete"&&o("fetch",i)});function o(i,s){!e.isIntakeUrl(s.url)&&(hl(s)||ml(s))&&("xhr"in s?fl(s.xhr,e,a):s.response?vl(s.response,e,a):s.error&&pl(s.error,e,a));function a(u){t.notify(0,{rawLogsEvent:{message:"".concat(El(i)," error ").concat(s.method," ").concat(s.url),date:s.startClocks.timeStamp,error:{origin:x.NETWORK,stack:u||"Failed to load"},http:{method:s.method,status_code:s.status,url:s.url},status:R.error,origin:x.NETWORK}})}}return{stop:function(){r.unsubscribe(),n.unsubscribe()}}}function fl(e,t,r){typeof e.response=="string"?r(Lr(e.response,t)):r(e.response)}function pl(e,t,r){r(Lr(Oe(oe(e)),t))}function vl(e,t,r){window.TextDecoder?e.body?yl(e.clone().body,t.requestErrorResponseLengthLimit,function(n,o){r(n?"Unable to retrieve response: ".concat(n):o)}):r():e.clone().text().then(b(function(n){return r(Lr(n,t))}),b(function(n){return r("Unable to retrieve response: ".concat(n))}))}function hl(e){return e.status===0&&e.responseType!=="opaque"}function ml(e){return e.status>=500}function Lr(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}function El(e){return e==="xhr"?"XHR":"Fetch"}function yl(e,t,r){gl(e,t,function(n,o,i){if(n)r(n);else{var s=new TextDecoder().decode(o);i&&(s+="..."),r(void 0,s)}})}function gl(e,t,r){var n=e.getReader(),o=[],i=0;s();function s(){n.read().then(b(function(u){if(u.done){a();return}o.push(u.value),i+=u.value.length,i>t?a():s()}),b(function(u){return r(u)}))}function a(){n.cancel().catch(Ve);var u;if(o.length===1)u=o[0];else{u=new Uint8Array(i);var c=0;o.forEach(function(d){u.set(d,c),c+=d.length})}r(void 0,u.slice(0,t),u.length>t)}}function Ol(e,t){if(!e.forwardErrorsToLogs)return{stop:Ve};var r=new W,n=Gu(r).stop,o=r.subscribe(function(i){t.notify(0,{rawLogsEvent:{message:i.message,date:i.startClocks.timeStamp,error:{kind:i.type,origin:x.SOURCE,stack:i.stack},origin:x.SOURCE,status:R.error}})});return{stop:function(){n(),o.unsubscribe()}}}var bl=function(){function e(){this.callbacks={}}return e.prototype.notify=function(t,r){var n=this.callbacks[t];n&&n.forEach(function(o){return o(r)})},e.prototype.subscribe=function(t,r){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter(function(o){return r!==o})}}},e}();function _l(e,t){var r,n=eo(e,e.logsEndpointBuilder,(r=e.replica)===null||r===void 0?void 0:r.logsEndpointBuilder);t.subscribe(1,function(o){n.add(o)})}function Rl(e){var t=br();e.subscribe(1,function(r){t.send("log",r)})}function Tl(e){return{get:function(t){var r=e.findTrackedSession(t);if(r)return{session_id:r.id}}}}function Sl(e,t,r){var n=new bl,o=wl(e);o.setContextProvider(function(){var u,c,d,p,l,h;return{application:{id:(u=xt())===null||u===void 0?void 0:u.application_id},session:{id:(c=s.findTrackedSession())===null||c===void 0?void 0:c.id},view:{id:(p=(d=xt())===null||d===void 0?void 0:d.view)===null||p===void 0?void 0:p.id},action:{id:(h=(l=xt())===null||l===void 0?void 0:l.user_action)===null||h===void 0?void 0:h.id}}}),dl(e,n),Ol(e,n),ul(e,n),ll(e,n);var i=ol(n).handleLog,s=nu(e.cookieOptions)&&!$t()&&!ro()?el(e):tl(e);sl(s,e,n,t,r),$t()?Rl(n):_l(e,n);var a=Tl(s);return{handleLog:i,getInternalContext:a.get}}function wl(e){var t,r=qu(e);if($t()){var n=br();r.observable.subscribe(function(i){return n.send("internal_telemetry",i)})}else{var o=eo(e,e.rumEndpointBuilder,(t=e.replica)===null||t===void 0?void 0:t.rumEndpointBuilder);r.observable.subscribe(function(i){return o.add(i,Qu(e))})}return r}var Bt=Qc(Sl);Ku(dr(),"DD_LOGS",Bt);class Ll{constructor(t,r,n){this.logLevels={debug:4,error:1,info:3,off:0,warn:2},this.logLevel="info",this.service="federated-core",this.namespace="browser",Bt.init({...n.config,service:t}),Bt.logger.setLevel(r),this.options=n,this.service=t,this.logLevel=r,this.instance=Bt.logger}log(t,r,n="unknown",o={}){var i;if(this.logLevel==="off"||(i=this.options.filteredLogs)!=null&&i.includes(r))return;const a=typeof r=="object"?JSON.stringify({data:r}):r;this.isLevelEnabled(t)&&this.instance[t](`[${this.namespace}] - ${a}`,{logContext:{componentName:n,...o}})}isLevelEnabled(t){return this.logLevels[this.logLevel]>=this.logLevels[t]}debug(t,r,n){this.log("debug",t,r,n)}error(t,r,n){this.log("error",t,r,n)}info(t,r,n){this.log("info",t,r,n)}warn(t,r,n){this.log("warn",t,r,n)}get level(){return this.logLevel}set level(t){this.logLevel=t}get serviceName(){return this.service}get loggerInstance(){return this.instance}}const Dl=()=>typeof window!="undefined";var Ml=Object.freeze(Object.defineProperty({__proto__:null,pascalise:e=>e.replace(/\s/g,"-").split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join("")},Symbol.toStringTag,{value:"Module"})),S=(e=>(e.NOT_LOADED="NOT_LOADED",e.LOADED="LOADED",e.BOOTSTRAPPING="BOOTSTRAPPING",e.BOOTSTRAPPED="BOOTSTRAPPED",e.NOT_MOUNTED="NOT_MOUNTED",e.MOUNTING="MOUNTING",e.MOUNTED="MOUNTED",e.UPDATING="UPDATING",e.UNMOUNTING="UNMOUNTING",e.UNMOUNT_ERROR="UNMOUNT_ERROR",e.UNMOUNTED="UNMOUNTED",e.UNLOADING="UNLOADING",e.LOAD_ERROR="LOAD_ERROR",e.UPDATE_ERROR="UPDATE_ERROR",e))(S||{}),v=(e=>(e.RUNTIME_BEFORE_BOOTSTRAP="federated-core:runtime:before-bootstrap",e.RUNTIME_BOOTSTRAPPED="federated-core:runtime:bootstrapped",e.RUNTIME_BOOTSTRAP_ERROR="federated-core:runtime:bootstrap:error",e.RUNTIME_BEFORE_START="federated-core:runtime:before-start",e.RUNTIME_STARTED="federated-core:runtime:started",e.RUNTIME_START_ERROR="federated-core:runtime:start:error",e.RUNTIME_MODULES_PREFETCH_START="federated-core:runtime:modules:pre-fetch:start",e.RUNTIME_BEFORE_MODULE_PREFETCH="federated-core:runtime:module:before-prefetch",e.RUNTIME_MODULE_PREFETCHED="federated-core:runtime:module:prefetched",e.RUNTIME_MODULE_PREFETCH_ERROR="federated-core:runtime:module:prefetch:error",e.RUNTIME_MODULES_PREFETCHED="federated-core:runtime:modules:pre-fetched",e.RUNTIME_ROUTES_PREFETCH_START="federated-core:runtime:routes:pre-fetch:start",e.RUNTIME_BEFORE_ROUTE_PREFETCH="federated-core:runtime:route:before-prefetch",e.RUNTIME_ROUTE_PREFETCHED="federated-core:runtime:route:prefetched",e.RUNTIME_ROUTES_PREFETCH_ERROR="federated-core:runtime:routes:prefetch:error",e.RUNTIME_ROUTES_PREFETCHED="federated-core:runtime:routes:pre-fetched",e.IMPORT_MAP_OVERRIDES_LOADED="federated-core:import-map-overrides:loaded",e.IMPORT_MAP_OVERRIDES_LOAD_ERROR="federated-core:import-map-overrides:load-error",e.ROUTE_CHANGED="federated-core:route:changed",e.ROUTE_ERROR="federated-core:route:error",e.ROUTE_ALREADY_ACTIVE="federated-core:route:already-active",e.ROUTE_NAVIGATE_TO="federated-core:route:navigate-to",e.POPSTATE_EVENT_FIRED="federated-core:popstate:event-fired",e.POPSTATE_EVENT_ERROR="federated-core:popstate:event-error",e.NATIVE_MODULE_LOADING="federated-core:native-module:loading",e.NATIVE_MODULE_LOADED="federated-core:native-module:loaded",e.NATIVE_MODULE_LOAD_ERROR="federated-core:native-module:load-error",e.SYSTEMJS_LOADED="federated-core:systemjs:loaded",e.SYSTEMJS_LOAD_ERROR="federated-core:systemjs:load-error",e.SYSTEMJS_MODULE_LOADING="federated-core:systemjs:module:loading",e.SYSTEMJS_MODULE_LOADED="federated-core:systemjs:module:loaded",e.MODULE_BEFORE_REGISTER="federated-core:module:%moduleKey%:before-register",e.MODULE_REGISTERED="federated-core:module:%moduleKey%:registered",e.MODULE_ALREADY_REGISTERED="federated-core:module:%moduleKey%:already-registered",e.MODULE_REGISTER_ERROR="federated-core:module:%moduleKey%:register:error",e.MODULE_BEFORE_LOAD="federated-core:module:%moduleKey%:before-load",e.MODULE_LOADED="federated-core:module:%moduleKey%:loaded",e.MODULE_ALREADY_LOADED="federated-core:module:%moduleKey%:already-loaded",e.MODULE_LOAD_ERROR="federated-core:module:%moduleKey%:load:error",e.MODULE_VALIDATE_PROPS="federated-core:module:%moduleKey%:validate-props",e.MODULE_STATE_CHANGED="federated-core:module:%moduleKey%:state-changed",e.MODULE_BEFORE_BOOTSTRAP="federated-core:module:%moduleKey%:before-bootstrap",e.MODULE_BOOTSTRAPPED="federated-core:module:%moduleKey%:bootstrapped",e.MODULE_BOOTSTRAP_ERROR="federated-core:module:%moduleKey%:bootstrap:error",e.MODULE_BEFORE_MOUNT="federated-core:module:%moduleKey%:before-mount",e.MODULE_MOUNTED="federated-core:module:%moduleKey%:mounted",e.MODULE_MOUNT_ERROR="federated-core:module:%moduleKey%:mount:error",e.MODULE_ALREADY_MOUNTED="federated-core:module:%moduleKey%:already-mounted",e.MODULE_BEFORE_UNMOUNT="federated-core:module:%moduleKey%:before-unmount",e.MODULE_UNMOUNTED="federated-core:module:%moduleKey%:unmounted",e.MODULE_UNMOUNT_ERROR="federated-core:module:%moduleKey%:unmount:error",e.MODULE_NOT_MOUNTED="federated-core:module:%moduleKey%:not-mounted",e.MODULE_BEFORE_UPDATE="federated-core:module:%moduleKey%:before-update",e.MODULE_UPDATED="federated-core:module:%moduleKey%:updated",e.MODULE_UPDATE_ERROR="federated-core:module:%moduleKey%:update:error",e))(v||{});const Ul=(e,t,r)=>{const n=document.createElement(t);n.id=e,Object.keys(r).forEach(o=>{n.setAttribute(o,r[o])}),document.body.appendChild(n)},Al=(e,t,r)=>{const n=document.createElement("link");n.id=e,n.rel=t,n.href=r,document.head.appendChild(n)},Cl=(e,t,r)=>{if(document.getElementById(e))return;const n=document.createElement("meta");n.id=e,n.content=r,n.name=t,document.head.appendChild(n)},rt=(e,t,r)=>{if(document.getElementById(e))return;const n=document.createElement("script");n.id=e,n.src=t,n.crossOrigin="anonymous",r&&(n.onload=r),document.body.appendChild(n)},j=(e,t)=>`${e}:${t}`,Nl=e=>`^${e.replace(/\*/g,".*")}$`,co=(e,t)=>!!t.find(n=>new RegExp(Nl(n)).test(e)),lo=(e,t)=>t.activeWhenPaths?co(e,t.activeWhenPaths)&&!co(e,t.exceptWhenPaths||[]):!1,se=new Map,Dr=e=>{const t=se.has(e)?se.get(e):null;if(t){const{type:r,fn:n}=t;window.removeEventListener(r,n),se.delete(e)}},Il=(e,t,r)=>{const n=`${e}__${Date.now()}__${Math.floor(Math.random()*1e3)}`;let o=e;return r&&(o=Mr(o,r)),se.set(n,{type:o,fn:t}),window.addEventListener(o,t),()=>Dr(n)},Mr=(e,t)=>e.replace("%moduleKey%",j(t.scope,t.name)),B={register:Il,unregister:Dr,unregisterAll:()=>{se.forEach((e,t)=>{Dr(t)})},emit:(e,t)=>{let r=e.type;t!=null&&t.name&&(r=Mr(r,t)),window.__FEDERATED_CORE__.federatedRuntime.debugEnabled&&console.log(`[EventService] Emitted event: ${r}`,e.payload),window.dispatchEvent(new CustomEvent(r,e.payload))},clear:()=>{se.clear()},replaceModuleKey:Mr,eventStore:se},Pt=new Map,Ur=e=>Pt.has(e),$l={event:B,logger:{hasLogger:Ur,getLogger:(e,t,r,n=!1)=>{const o=`${e}-logger`;if(Ur(o)&&!n)return Pt.get(o);const i=new Ll(e,t,r);return Pt.set(o,i),i},deleteLogger:e=>{Ur(e)&&Pt.delete(e)}}};class xl{constructor(){this._bootstrapped=!1,this._started=!1,this._useNativeModules=!1,this._importMapOverridesEnabled=!1,this._debugEnabled=!1,this._sharedDependencyBaseUrl="",this._cdnUrl=process.env.SHARED_CDN_DOMAIN||"",this._modules=new Map,this._services=$l}set bootstrapped(t){this._bootstrapped=t}get bootstrapped(){return this._bootstrapped}set started(t){this._started=t}get started(){return this._started}set debugEnabled(t){this._debugEnabled=t}get debugEnabled(){return this._debugEnabled}set sharedDependencyBaseUrl(t){this._sharedDependencyBaseUrl=t}get sharedDependencyBaseUrl(){return this._sharedDependencyBaseUrl}set useNativeModules(t){this._useNativeModules=t}get useNativeModules(){return this._useNativeModules}set importMapOverridesEnabled(t){this._importMapOverridesEnabled=t}get importMapOverridesEnabled(){return this._importMapOverridesEnabled}set cdnUrl(t){this._cdnUrl=t}get cdnUrl(){return this._cdnUrl}set modules(t){this._modules=t}get modules(){return this._modules}get services(){return this._services}addImportMapOverridesUi(){const t="import-map-overrides";this.importMapOverridesEnabled&&(Ul("import-map-overrides-ui","import-map-overrides-full",{"show-when-local-storage":t}),localStorage.setItem(t,"true"),rt(t,"https://cdn.jsdelivr.net/npm/import-map-overrides/dist/import-map-overrides.js"),this.services.event.emit({type:v.IMPORT_MAP_OVERRIDES_LOADED,payload:{loadedTime:Date.now()}}))}ensureSystemJs(){this.useNativeModules||(Cl("importmap-type","importmap-type","systemjs-importmap"),rt("systemjs",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/system.min.js`),rt("systemjs-named-exports",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/extras/named-exports.min.js`),rt("systemjs-amd",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/extras/amd.min.js`),rt("systemjs-dynamic-import-maps",`${this.sharedDependencyBaseUrl}/systemjs/6.12.1/extras/dynamic-import-maps.min.js`),this.services.event.emit({type:v.SYSTEMJS_LOADED,payload:{loadedTime:Date.now()}}))}async fetchImportMapContent(t){const r=`${t||this.cdnUrl}/entries-import-map.json`;return(await fetch(r)).json()}setModuleState(t,r){const{scope:n,name:o}=t,i=j(n,o),s={...this.modules.get(i),status:r};this.modules.set(i,s),B.emit({type:v.MODULE_STATE_CHANGED,payload:{module:t}},t)}setModuleRootComponent(t,r){const{scope:n,name:o}=t,i=j(n,o),s=this.modules.get(i);s&&(s.rootComponent=r,this.modules.set(i,s))}getModuleRootComponent(t){const{scope:r,name:n}=t,o=j(r,n),i=this.modules.get(o);if(i)return i.rootComponent}async registerModule(t){var r,n;const{scope:o,name:i}=t,s=j(o,i);return this.modules.has(s)&&((r=this.modules.get(s))==null?void 0:r.status)===S.LOADED?this.services.event.emit({type:v.MODULE_ALREADY_REGISTERED,payload:{module:t}},t):this.modules.has(s)&&((n=this.modules.get(s))==null?void 0:n.status)===S.MOUNTED?this.services.event.emit({type:v.MODULE_ALREADY_MOUNTED,payload:{module:t}},t):(this.services.event.emit({type:v.MODULE_BEFORE_REGISTER,payload:{module:t}},t),this.setModuleState({scope:t.scope,name:t.name},S.NOT_LOADED),this.modules.set(s,t),this.services.event.emit({type:v.MODULE_REGISTERED,payload:{module:t}},t)),this}async getModuleUrl(t){const{name:r,basePath:n}=t;return(await this.fetchImportMapContent(n)).imports[r]}getModulesByPath(t){const r=[];return this.modules.forEach(n=>{lo(t,n)&&r.push(n)}),r}async loadModule(t){var r,n;const{scope:o,name:i,basePath:s}=t;try{const a=j(o,i);if(this.modules.has(a)){const p=this.modules.get(a);if(p&&["journey-module","component"].includes(p.type)&&((r=this.modules.get(a))==null?void 0:r.status)===S.MOUNTED)return this.services.event.emit({type:v.MODULE_ALREADY_MOUNTED,payload:{module:t}},t),this.modules.get(a);if(p&&((n=this.modules.get(a))==null?void 0:n.status)===S.LOADED)return this.services.event.emit({type:v.MODULE_ALREADY_LOADED,payload:{module:t}},t),this.modules.get(a)}this.services.event.emit({type:v.MODULE_BEFORE_LOAD,payload:{module:t}},t);let u;const d=(await this.fetchImportMapContent(s)).imports[`${i}.css`];return d&&Al(`${i}.css`,"stylesheet",d),this.useNativeModules?(this.services.event.emit({type:v.NATIVE_MODULE_LOADING,payload:{module:t}},t),u=await import(await this.getModuleUrl({scope:o,name:i})),this.services.event.emit({type:v.NATIVE_MODULE_LOADED,payload:{loadedTime:new Date().getTime(),module:u}},t)):(this.services.event.emit({type:v.SYSTEMJS_MODULE_LOADING,payload:{module:t}},t),u=await System.import(i),this.services.event.emit({type:v.SYSTEMJS_MODULE_LOADED,payload:{module:u}},t)),!this.modules.has(a)&&!u.status&&await this.registerModule(u),(!u.status||u.status===S.NOT_LOADED)&&this.setModuleState({scope:o,name:i},S.LOADED),u}catch(a){this.services.event.emit({type:v.MODULE_LOAD_ERROR,payload:{module:t,error:a}},t);return}}async mountModule(t,r,n){const{scope:o,name:i}=t,s=await this.loadModule({scope:o,name:i});s!=null&&s.mount&&await s.mount(r,n)}async unmountModule(t){const{scope:r,name:n}=t,o=await this.modules.get(j(r,n));o!=null&&o.unmount&&await o.unmount()}validateProps(t,r){const{scope:n,name:o}=t,i=j(n,o);this.services.event.emit({type:v.MODULE_VALIDATE_PROPS,payload:{module:t,props:r}},t);const s=this.modules.get(i);return s!=null&&s.validateProps?s.validateProps(r):!0}async preFetchModules(t){this.services.event.emit({type:v.RUNTIME_MODULES_PREFETCH_START,payload:{modules:t}});for(const r of t){const{name:n,scope:o}=r,i=j(o,n);this.modules.has(i)||(this.services.event.emit({type:v.RUNTIME_BEFORE_MODULE_PREFETCH,payload:{module:r}}),await this.loadModule({scope:o,name:n}),this.services.event.emit({type:v.RUNTIME_MODULE_PREFETCHED,payload:{module:r}}))}return this.services.event.emit({type:v.RUNTIME_MODULES_PREFETCHED,payload:{modules:t}}),this}async applyModules(){const t=[],r=[];this.modules.forEach(n=>{lo(window.location.pathname,n)?t.push(n):r.push(n)});for(const n of r){const o=j(n.scope,n.name),i=this.modules.get(o);i!=null&&i.unmount?(this.services.event.emit({type:v.MODULE_BEFORE_UNMOUNT,payload:{module:n}},n),await i.unmount(),this.services.event.emit({type:v.MODULE_UNMOUNTED,payload:{module:i}},n)):((i==null?void 0:i.type)==="journey-module"||(i==null?void 0:i.type)==="component")&&this.setModuleState({scope:n.scope,name:n.name},S.NOT_LOADED)}for(const n of t)try{const{scope:o,name:i,props:s}=n,a=await this.loadModule({scope:o,name:i});a!=null&&a.mount&&(this.services.event.emit({type:v.MODULE_BEFORE_MOUNT,payload:{module:a}},n),await a.mount(s),this.services.event.emit({type:v.MODULE_MOUNTED,payload:{module:a}},n))}catch(o){this.services.event.emit({type:v.MODULE_MOUNT_ERROR,payload:{module:n,error:o}},n)}}navigateTo(t){if(window.location.pathname===t){this.services.event.emit({type:v.ROUTE_ALREADY_ACTIVE,payload:{path:t}});return}this.services.event.emit({type:v.ROUTE_NAVIGATE_TO,payload:{previousPath:window.location.pathname,path:t}}),window.history.pushState(null,"",t),window.dispatchEvent(new PopStateEvent("popstate"))}async reroute(){this.services.event.emit({type:v.ROUTE_CHANGED,payload:{path:window.location.pathname}}),await this.applyModules()}async preFetchRoutes(t){try{this.services.event.emit({type:v.RUNTIME_ROUTES_PREFETCH_START,payload:{routes:t}});for(const r of t){this.services.event.emit({type:v.RUNTIME_BEFORE_ROUTE_PREFETCH,payload:{path:r}});const n=this.getModulesByPath(r);for(const o of n){const{name:i,scope:s}=o;(o==null?void 0:o.status)!==S.LOADED&&await this.loadModule({scope:s,name:i})}this.services.event.emit({type:v.RUNTIME_ROUTE_PREFETCHED,payload:{path:r}})}this.services.event.emit({type:v.RUNTIME_ROUTES_PREFETCHED,payload:{routes:t}})}catch(r){this.services.event.emit({type:v.RUNTIME_ROUTES_PREFETCH_ERROR,payload:{routes:t,error:r}})}return this}async bootstrap(){this.bootstrapped=!1;const t=Date.now();this.services.event.emit({type:v.RUNTIME_BEFORE_BOOTSTRAP,payload:{bootstrapTime:new Date().toDateString(),modules:this.modules,useNativeModules:this.useNativeModules,importMapOverridesEnabled:this.importMapOverridesEnabled}}),window.addEventListener("popstate",async o=>{this.services.event.emit({type:v.POPSTATE_EVENT_FIRED,payload:{popstateEvent:o}}),await this.reroute()}),this.ensureSystemJs(),this.addImportMapOverridesUi();for(const o of this.modules){const i=o[1];try{i.bootstrap&&(this.services.event.emit({type:v.MODULE_BEFORE_BOOTSTRAP,payload:{module:i}},i),await i.bootstrap(),this.services.event.emit({type:v.MODULE_BOOTSTRAPPED,payload:{module:i}},i))}catch(s){this.services.event.emit({type:v.MODULE_BOOTSTRAP_ERROR,payload:{module:i,error:s}},i)}}const r=Date.now(),n=r-t;this.bootstrapped=!0,this.services.event.emit({type:v.RUNTIME_BOOTSTRAPPED,payload:{bootstrapEndTime:r,bootstrapDuration:n}})}async start(){try{const t=Date.now();this.started=!1,this.services.event.emit({type:v.RUNTIME_BEFORE_START,payload:{startTime:new Date(t).toDateString(),modules:this.modules}}),await this.bootstrap(),await this.reroute();const r=Date.now(),n=r-t;this.services.event.emit({type:v.RUNTIME_STARTED,payload:{startTime:t,startEndTime:r,startDuration:n}}),this.started=!0}catch(t){this.services.event.emit({type:v.RUNTIME_START_ERROR,payload:{error:t}})}}}Dl()&&!window.__FEDERATED_CORE__&&(window.__FEDERATED_CORE__={moduleBaseUrls:{},federatedRuntime:new xl});for(var Bl=[],Ar=0;Ar<256;++Ar)Bl.push((Ar+256).toString(16).substr(1));var Cr={exports:{}},nt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var fo=Object.getOwnPropertySymbols,Pl=Object.prototype.hasOwnProperty,kl=Object.prototype.propertyIsEnumerable;function jl(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Gl(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Hl=Gl()?Object.assign:function(e,t){for(var r,n=jl(e),o,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var s in r)Pl.call(r,s)&&(n[s]=r[s]);if(fo){o=fo(r);for(var a=0;a<o.length;a++)kl.call(r,o[a])&&(n[o[a]]=r[o[a]])}}return n},Re={exports:{}},y={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=Hl,Te=60103,po=60106;y.Fragment=60107,y.StrictMode=60108,y.Profiler=60114;var vo=60109,ho=60110,mo=60112;y.Suspense=60113;var Eo=60115,yo=60116;if(typeof Symbol=="function"&&Symbol.for){var G=Symbol.for;Te=G("react.element"),po=G("react.portal"),y.Fragment=G("react.fragment"),y.StrictMode=G("react.strict_mode"),y.Profiler=G("react.profiler"),vo=G("react.provider"),ho=G("react.context"),mo=G("react.forward_ref"),y.Suspense=G("react.suspense"),Eo=G("react.memo"),yo=G("react.lazy")}var go=typeof Symbol=="function"&&Symbol.iterator;function Kl(e){return e===null||typeof e!="object"?null:(e=go&&e[go]||e["@@iterator"],typeof e=="function"?e:null)}function ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oo={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bo={};function Se(e,t,r){this.props=e,this.context=t,this.refs=bo,this.updater=r||Oo}Se.prototype.isReactComponent={},Se.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(ot(85));this.updater.enqueueSetState(this,e,t,"setState")},Se.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _o(){}_o.prototype=Se.prototype;function Ir(e,t,r){this.props=e,this.context=t,this.refs=bo,this.updater=r||Oo}var $r=Ir.prototype=new _o;$r.constructor=Ir,Nr($r,Se.prototype),$r.isPureReactComponent=!0;var xr={current:null},Ro=Object.prototype.hasOwnProperty,To={key:!0,ref:!0,__self:!0,__source:!0};function So(e,t,r){var n,o={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Ro.call(t,n)&&!To.hasOwnProperty(n)&&(o[n]=t[n]);var a=arguments.length-2;if(a===1)o.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)o[n]===void 0&&(o[n]=a[n]);return{$$typeof:Te,type:e,key:i,ref:s,props:o,_owner:xr.current}}function Vl(e,t){return{$$typeof:Te,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Br(e){return typeof e=="object"&&e!==null&&e.$$typeof===Te}function Yl(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wo=/\/+/g;function Pr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yl(""+e.key):t.toString(36)}function kt(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Te:case po:s=!0}}if(s)return s=e,o=o(s),e=n===""?"."+Pr(s,0):n,Array.isArray(o)?(r="",e!=null&&(r=e.replace(wo,"$&/")+"/"),kt(o,t,r,"",function(c){return c})):o!=null&&(Br(o)&&(o=Vl(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(wo,"$&/")+"/")+e)),t.push(o)),1;if(s=0,n=n===""?".":n+":",Array.isArray(e))for(var a=0;a<e.length;a++){i=e[a];var u=n+Pr(i,a);s+=kt(i,t,r,u,o)}else if(u=Kl(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=n+Pr(i,a++),s+=kt(i,t,r,u,o);else if(i==="object")throw t=""+e,Error(ot(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function jt(e,t,r){if(e==null)return e;var n=[],o=0;return kt(e,n,"","",function(i){return t.call(r,i,o++)}),n}function Fl(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var Lo={current:null};function X(){var e=Lo.current;if(e===null)throw Error(ot(321));return e}var Wl={ReactCurrentDispatcher:Lo,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:xr,IsSomeRendererActing:{current:!1},assign:Nr};y.Children={map:jt,forEach:function(e,t,r){jt(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jt(e,function(){t++}),t},toArray:function(e){return jt(e,function(t){return t})||[]},only:function(e){if(!Br(e))throw Error(ot(143));return e}},y.Component=Se,y.PureComponent=Ir,y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wl,y.cloneElement=function(e,t,r){if(e==null)throw Error(ot(267,e));var n=Nr({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=xr.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Ro.call(t,u)&&!To.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Te,type:e.type,key:o,ref:i,props:n,_owner:s}},y.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:ho,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:vo,_context:e},e.Consumer=e},y.createElement=So,y.createFactory=function(e){var t=So.bind(null,e);return t.type=e,t},y.createRef=function(){return{current:null}},y.forwardRef=function(e){return{$$typeof:mo,render:e}},y.isValidElement=Br,y.lazy=function(e){return{$$typeof:yo,_payload:{_status:-1,_result:e},_init:Fl}},y.memo=function(e,t){return{$$typeof:Eo,type:e,compare:t===void 0?null:t}},y.useCallback=function(e,t){return X().useCallback(e,t)},y.useContext=function(e,t){return X().useContext(e,t)},y.useDebugValue=function(){},y.useEffect=function(e,t){return X().useEffect(e,t)},y.useImperativeHandle=function(e,t,r){return X().useImperativeHandle(e,t,r)},y.useLayoutEffect=function(e,t){return X().useLayoutEffect(e,t)},y.useMemo=function(e,t){return X().useMemo(e,t)},y.useReducer=function(e,t,r){return X().useReducer(e,t,r)},y.useRef=function(e){return X().useRef(e)},y.useState=function(e){return X().useState(e)},y.version="17.0.2",Re.exports=y;/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Re.exports,Do=60103;if(nt.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var Mo=Symbol.for;Do=Mo("react.element"),nt.Fragment=Mo("react.fragment")}var zl=Jl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xl=Object.prototype.hasOwnProperty,ql={key:!0,ref:!0,__self:!0,__source:!0};function Uo(e,t,r){var n,o={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Xl.call(t,n)&&!ql.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Do,type:e,key:i,ref:s,props:o,_owner:zl.current}}nt.jsx=Uo,nt.jsxs=Uo,Cr.exports=nt;const kr=Cr.exports.jsx,Ql=Cr.exports.jsxs,Zl=async(e,t)=>{try{B.emit({type:v.MODULE_BEFORE_BOOTSTRAP,payload:{module:e}},e),t==null||t.setModuleState(e,S.BOOTSTRAPPING),B.emit({type:v.MODULE_BOOTSTRAPPED,payload:{module:e}},e),t==null||t.setModuleState(e,S.BOOTSTRAPPED)}catch(r){B.emit({type:v.MODULE_BOOTSTRAP_ERROR,payload:{module:e,error:r}},e)}};function jr(e,t){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},jr(e,t)}function ed(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jr(e,t)}var td=function(t,r){return t===void 0&&(t=[]),r===void 0&&(r=[]),t.length!==r.length||t.some(function(n,o){return!Object.is(n,r[o])})},Ao={error:null},rd=function(e){ed(t,e);function t(){for(var n,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,n.state=Ao,n.resetErrorBoundary=function(){for(var a,u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.props.onReset==null||(a=n.props).onReset.apply(a,c),n.reset()},n}t.getDerivedStateFromError=function(o){return{error:o}};var r=t.prototype;return r.reset=function(){this.setState(Ao)},r.componentDidCatch=function(o,i){var s,a;(s=(a=this.props).onError)==null||s.call(a,o,i)},r.componentDidUpdate=function(o,i){var s=this.state.error,a=this.props.resetKeys;if(s!==null&&i.error!==null&&td(o.resetKeys,a)){var u,c;(u=(c=this.props).onResetKeysChange)==null||u.call(c,o.resetKeys,a),this.reset()}},r.render=function(){var o=this.state.error,i=this.props,s=i.fallbackRender,a=i.FallbackComponent,u=i.fallback;if(o!==null){var c={error:o,resetErrorBoundary:this.resetErrorBoundary};if(Re.exports.isValidElement(u))return u;if(typeof s=="function")return s(c);if(a)return Re.exports.createElement(a,c);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(Re.exports.Component);function nd(e){const t=r=>kr(rd,{fallbackRender:({error:n})=>e.config.errorBoundary?e.config.errorBoundary(n):Ql("div",{children:[kr("h1",{children:"Something went wrong"}),kr("p",{children:n.message})]}),children:r.children});return t.displayName=`WithErrorBoundary${Ml.pascalise(e.config.name)}`,t}const od=(e,t,r)=>{const n=typeof e.renderType=="function"?e.renderType():e.renderType||"render",o=r.innerHTML!=="";return n==="hydrate"||o?e.ReactDOM.hydrate(t,r):e.ReactDOM.render(t,r),null},id=(e,t,r,n)=>{const o=`${e.scope}-${e.name}`;return async(i=n,s)=>{const{React:a,config:{scope:u,name:c,domElementId:d}}=r;let{rootComponent:p}=r.config;const l=j(u,c),h=t.modules.get(l),E=s||d||o,g=document.getElementById(E);g||B.emit({type:v.MODULE_MOUNT_ERROR,payload:{module:e,error:new Error(`Could not find dom container with id ${d}`)}},e),h!=null&&h.bootstrap&&await h.bootstrap(),p=p||t.getModuleRootComponent(e);try{t==null||t.setModuleState(e,S.MOUNTING);const w=i||n;t==null||t.validateProps(e,w);let A,f=!1;if(r.config.loadRootComponent&&(A=await r.config.loadRootComponent(),p=A,t.setModuleRootComponent(e,p),f=!0),p){const T=a.createElement(p,w),C=nd(r);let D=a.createElement(C,{},T);f&&(D=a.createElement(Re.exports.Suspense,{fallback:a.createElement("div",null,"Loading...")},D)),B.emit({type:v.MODULE_BEFORE_MOUNT,payload:{module:e}},e),g&&od(r,D,g),B.emit({type:v.MODULE_MOUNTED,payload:{module:e}},e),t==null||t.setModuleState({scope:u,name:c},S.MOUNTED)}}catch(w){B.emit({type:v.MODULE_MOUNT_ERROR,payload:{module:e,error:w}},e),t==null||t.setModuleState({scope:u,name:c},S.LOAD_ERROR)}}},sd=(e,t,r)=>{try{const{ReactDOM:n}=r;t==null||t.setModuleState(e,S.UNMOUNTING);const o=r.config.domElementId||`${e.scope}-${e.name}`,i=document.getElementById(o);i&&(n.unmountComponentAtNode(i),B.emit({type:v.MODULE_UNMOUNTED,payload:{module:e}},e),t==null||t.setModuleState(e,S.UNMOUNTED))}catch(n){B.emit({type:v.MODULE_UNMOUNT_ERROR,payload:{module:e,error:n}},e),t==null||t.setModuleState(e,S.UNMOUNT_ERROR)}},ad=(e,t,r)=>async n=>{try{t==null||t.setModuleState(e,S.UPDATING);const o=n||r.config.defaultProps,i=j(e.scope,e.name),s=t.modules.get(i);if(B.emit({type:v.MODULE_BEFORE_UPDATE,payload:{module:e}},e),!s){B.emit({type:v.MODULE_UPDATE_ERROR,payload:{module:e,error:new Error(`Could not find module with key ${i}`)}},e);return}s!=null&&s.unmount&&await s.unmount(),s!=null&&s.mount&&await s.mount(o),B.emit({type:v.MODULE_UPDATED,payload:{module:e}},e)}catch(o){B.emit({type:v.MODULE_UPDATE_ERROR,payload:{module:e,error:o}},e),t==null||t.setModuleState(e,S.UPDATE_ERROR)}};function ud(e){if(!e.config)throw new Error("Missing config");if(!e.React)throw new Error("Missing React");if(!e.ReactDOM)throw new Error("Missing ReactDOM");if(!e.config.name)throw new Error("Missing name");if(!e.config.scope)throw new Error("Missing scope");if(!e.config.rootComponent&&!e.config.loadRootComponent)throw new Error("Missing rootComponent or loadRootComponent");if(e.config.rootComponent&&e.config.loadRootComponent)throw new Error("Cannot have both rootComponent and loadRootComponent")}function cd(e){ud(e);const{federatedRuntime:t,config:r}=e,{rootComponent:n}=r,{domElementId:o=`${r.scope}-${r.name}`,loadRootComponent:i,defaultProps:s,name:a,scope:u,type:c,description:d,propValidationFunction:p,activeWhenPaths:l,exceptWhenPaths:h}=r,E={scope:u,name:a},g={bootstrap:()=>Zl(E,t),mount:(w,A)=>id(E,t,e,s)(w,A),unmount:async()=>sd(E,t,e),update:async w=>ad(E,t,e)(w)};return{domElementId:o,rootComponent:n,loadRootComponent:i,activeWhenPaths:l||[],exceptWhenPaths:h||[],status:S.NOT_LOADED,description:d,name:a,scope:u,type:c,validateProps:w=>p?p(w):!0,...g}}var Gr={exports:{}},it={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Co=Object.getOwnPropertySymbols,ld=Object.prototype.hasOwnProperty,dd=Object.prototype.propertyIsEnumerable;function fd(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function pd(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}pd();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=Kr.default,No=60103;if(it.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var Io=Symbol.for;No=Io("react.element"),it.Fragment=Io("react.fragment")}var hd=vd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,md=Object.prototype.hasOwnProperty,Ed={key:!0,ref:!0,__self:!0,__source:!0};function $o(e,t,r){var n,o={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)md.call(t,n)&&!Ed.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:No,type:e,key:i,ref:s,props:o,_owner:hd.current}}it.jsx=$o,it.jsxs=$o,Gr.exports=it;const xo=Gr.exports.jsx,yd=Gr.exports.Fragment,gd=()=>xo(yd,{children:xo("h1",{children:"Hello"})}),{name:Od,scope:bd,mount:_d,unmount:Rd,bootstrap:Td,update:Sd,exceptWhenPaths:wd,activeWhenPaths:Ld,type:Dd,domElementId:Md,status:Ud,rootComponent:Ad}=cd({React:Kr.default,ReactDOM:Po.default,federatedRuntime:xa(),config:{scope:"vfuk-federated-journey-example",name:"ReactFederatedJourney",type:"journey-module",activeWhenPaths:["/","/mixed"],exceptWhenPaths:["/asasd"],domElementId:"root",rootComponent:gd}});L.activeWhenPaths=Ld,L.bootstrap=Td,L.domElementId=Md,L.exceptWhenPaths=wd,L.mount=_d,L.name=Od,L.rootComponent=Ad,L.scope=bd,L.status=Ud,L.type=Dd,L.unmount=Rd,L.update=Sd,Object.defineProperties(L,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});

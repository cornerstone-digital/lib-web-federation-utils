{
  version: 3,
  file: "import-map-overrides.js",
  sources: [
    "../src/util/includes.js",
    "../src/util/url-parameter.js",
    "../src/api/js-api.js",
    "../src/util/string-regex.js",
    "../node_modules/.pnpm/style-inject@0.3.0/node_modules/style-inject/dist/style-inject.es.js",
    "../node_modules/.pnpm/preact@10.5.14/node_modules/preact/dist/preact.mjs",
    "../src/ui/list/module-dialog.component.js",
    "../src/ui/list/external-importmap-dialog.component.js",
    "../src/ui/dev-lib-overrides.component.js",
    "../src/ui/list/list.component.js",
    "../src/ui/popup.component.js",
    "../src/ui/full-ui.component.js",
    "../src/ui/custom-elements.js"
  ],
  sourcesContent: [
    "export function includes(obj, item) {
    if (Array.isArray(obj)) {
      for (let i = 0; i < obj.length; i++) {
      if (obj[i] === item) {
      return true;
    }
  }
    return false;
  } else if (typeof obj === "string") {
      return obj.indexOf(item) >= 0;
    } else {
      throw Error(`Can't call includes on ${typeof obj}`);
    }
  }
    ",
    "// https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript
    export function getParameterByName(name, url = window.location.href) {
      name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
  results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return "";
return decodeURIComponent(results[2].replace(/\+/g, " "));
}
",
"import { escapeStringRegexp } from "../util/string-regex";
import { includes } from "../util/includes.js";
import { getParameterByName } from "../util/url-parameter";

const localStoragePrefix = "import-map-override:";
const disabledOverridesLocalStorageKey = "import-map-overrides-disabled";
const externalOverridesLocalStorageKey = "import-map-overrides-external-maps";
const overrideAttribute = "data-is-importmap-override";
const domainsMeta = "import-map-overrides-domains";
const allowListPrefix = "allowlist:";
const denyListPrefix = "denylist:";
export const queryParamOverridesName = "imo";

const importMapMetaElement = document.querySelector(
'meta[name="importmap-type"]'
);

const domainsElement = document.querySelector(`meta[name="${domainsMeta}"]`);

const externalOverrideMapPromises = {};

export const importMapType = importMapMetaElement
? importMapMetaElement.getAttribute("content")
: "importmap";

export let isDisabled;

if (domainsElement) {
const content = domainsElement.getAttribute("content");
if (!content) {
console.warn(`Invalid ${domainsMeta} meta element - content required.`);
}

const matchHostname = (domain) =>
new RegExp(escapeStringRegexp(domain).replace("\\*", ".+")).test(
window.location.hostname
);

if (content.indexOf(allowListPrefix) === 0) {
const allowedDomains = content.slice(allowListPrefix.length).split(",");
isDisabled = !allowedDomains.some(matchHostname);
} else if (content.indexOf(denyListPrefix) === 0) {
const deniedDomains = content.slice(denyListPrefix.length).split(",");
isDisabled = deniedDomains.some(matchHostname);
} else {
// eslint-disable-next-line no-console
console.log(
`Invalid ${domainsMeta} meta content attribute - must start with ${allowListPrefix} or ${denyListPrefix}`
);
}
} else {
isDisabled = false;
}

if (!canAccessLocalStorage()) {
console.warn(
"Disabling import-map-overrides, since local storage is not readable"
);
isDisabled = true;
}

if (!isDisabled) {
init();
}

function init() {
const serverOverrides = importMapMetaElement
? importMapMetaElement.hasAttribute("server-cookie")
: false;
const serverOnly = importMapMetaElement
? importMapMetaElement.hasAttribute("server-only")
: false;

let defaultMapPromise;

window.importMapOverrides = {
addOverride(moduleName, url) {
const portRegex = /^\d+$/g;
if (portRegex.test(url)) {
url = imo.getUrlFromPort(moduleName, url);
}
const key = localStoragePrefix + moduleName;
localStorage.setItem(key, url);
if (serverOverrides) {
document.cookie = `${key}=${url}`;
}
fireChangedEvent();
return imo.getOverrideMap();
},
getOverrideMap(includeDisabled = false) {
const overrides = createEmptyImportMap();
const disabledOverrides = imo.getDisabledOverrides();

const setOverride = (moduleName, path) => {
if (includeDisabled || !(disabledOverrides.indexOf(moduleName) >= 0)) {
overrides.imports[moduleName] = path;
}
};

// get from localstorage
for (let i = 0; i < localStorage.length; i++) {
const key = localStorage.key(i);
if (key.indexOf(localStoragePrefix) === 0) {
setOverride(
key.slice(localStoragePrefix.length),
localStorage.getItem(key)
);
}
}

// get from url if query param exist
const queryParam = getParameterByName(
queryParamOverridesName,
window.location != window.parent.location
? document.referrer
: window.location.href
);

if (queryParam) {
let queryParamImportMap;
try {
queryParamImportMap = JSON.parse(queryParam);
} catch (e) {
throw Error(
`Invalid importMap query param - text content must be json`
);
}
Object.keys(queryParamImportMap.imports).forEach((moduleName) => {
setOverride(moduleName, queryParamImportMap.imports[moduleName]);
});
}

return overrides;
},
removeOverride(moduleName) {
const key = localStoragePrefix + moduleName;
const hasItem = localStorage.getItem(key) !== null;
localStorage.removeItem(key);
if (serverOverrides) {
document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:01 GMT;`;
}
imo.enableOverride(moduleName);
fireChangedEvent();
return hasItem;
},
resetOverrides() {
Object.keys(imo.getOverrideMap(true).imports).forEach((moduleName) => {
imo.removeOverride(moduleName);
});
localStorage.removeItem(disabledOverridesLocalStorageKey);
localStorage.removeItem(externalOverridesLocalStorageKey);
fireChangedEvent();
return imo.getOverrideMap();
},
hasOverrides() {
return Object.keys(imo.getOverrideMap().imports).length > 0;
},
getUrlFromPort(moduleName, port) {
const fileName = moduleName.replace(/@/g, "").replace(/\//g, "-");
return `//localhost:${port}/${fileName}.js`;
},
enableUI() {
const customElementName = "import-map-overrides-full";
const showWhenLocalStorage = "show-when-local-storage";
let customElement = document.querySelector(customElementName);

if (!customElement) {
customElement = document.createElement(customElementName);
customElement.setAttribute(showWhenLocalStorage, "true");
document.body.appendChild(customElement);
}

const localStorageKey = customElement.getAttribute(showWhenLocalStorage);
if (localStorageKey) {
localStorage.setItem(localStorageKey, true);
customElement.renderWithPreact();
}
},
mergeImportMap(originalMap, newMap) {
const outMap = createEmptyImportMap();
for (let i in originalMap.imports) {
outMap.imports[i] = originalMap.imports[i];
}
for (let i in newMap.imports) {
outMap.imports[i] = newMap.imports[i];
}
for (let i in originalMap.scopes) {
outMap.scopes[i] = originalMap.scopes[i];
}
for (let i in newMap.scopes) {
outMap.scopes[i] = newMap.scopes[i];
}
return outMap;
},
getDefaultMap() {
return (
defaultMapPromise ||
(defaultMapPromise = Array.prototype.reduce.call(
document.querySelectorAll(
`script[type="${importMapType}"], script[type="overridable-importmap"]`
),
(promise, scriptEl) => {
if (scriptEl.hasAttribute(overrideAttribute)) {
return promise;
} else {
let nextPromise;
if (scriptEl.src) {
nextPromise = fetchExternalMap(scriptEl.src);
} else {
nextPromise = Promise.resolve(JSON.parse(scriptEl.textContent));
}

return Promise.all([
promise,
nextPromise,
]).then(([originalMap, newMap]) =>
imo.mergeImportMap(originalMap, newMap)
);
}
},
Promise.resolve(createEmptyImportMap())
))
);
},
getCurrentPageMap() {
return Promise.all([
imo.getDefaultMap(),
imo.getExternalOverrideMap(imo.getCurrentPageExternalOverrides()),
]).then(([defaultMap, externalOverridesMap]) => {
return imo.mergeImportMap(
imo.mergeImportMap(defaultMap, externalOverridesMap),
initialOverrideMap
);
});
},
getCurrentPageExternalOverrides() {
const currentPageExternalOverrides = [];
document
.querySelectorAll(
`[${overrideAttribute}]:not([id="import-map-overrides"])`
)
.forEach((externalOverrideEl) => {
currentPageExternalOverrides.push(externalOverrideEl.src);
});
return currentPageExternalOverrides;
},
getNextPageMap() {
return Promise.all([
imo.getDefaultMap(),
imo.getExternalOverrideMap(),
]).then(([defaultMap, externalOverridesMap]) => {
return imo.mergeImportMap(
imo.mergeImportMap(defaultMap, externalOverridesMap),
imo.getOverrideMap()
);
});
},
disableOverride(moduleName) {
const disabledOverrides = imo.getDisabledOverrides();
if (!includes(disabledOverrides, moduleName)) {
localStorage.setItem(
disabledOverridesLocalStorageKey,
JSON.stringify(disabledOverrides.concat(moduleName))
);
fireChangedEvent();
return true;
} else {
return false;
}
},
enableOverride(moduleName) {
const disabledOverrides = imo.getDisabledOverrides();
const index = disabledOverrides.indexOf(moduleName);
if (index >= 0) {
disabledOverrides.splice(index, 1);
localStorage.setItem(
disabledOverridesLocalStorageKey,
JSON.stringify(disabledOverrides)
);
fireChangedEvent();
return true;
} else {
return false;
}
},
getDisabledOverrides() {
const disabledOverrides = localStorage.getItem(
disabledOverridesLocalStorageKey
);
return disabledOverrides ? JSON.parse(disabledOverrides) : [];
},
isDisabled(moduleName) {
return includes(imo.getDisabledOverrides(), moduleName);
},
getExternalOverrides() {
let localStorageValue = localStorage.getItem(
externalOverridesLocalStorageKey
);
return localStorageValue ? JSON.parse(localStorageValue).sort() : [];
},
addExternalOverride(url) {
url = new URL(url, document.baseURI).href;
const overrides = imo.getExternalOverrides();
if (includes(overrides, url)) {
return false;
} else {
localStorage.setItem(
externalOverridesLocalStorageKey,
JSON.stringify(overrides.concat(url))
);
fireChangedEvent();
return true;
}
},
removeExternalOverride(url) {
const overrides = imo.getExternalOverrides();
if (includes(overrides, url)) {
localStorage.setItem(
externalOverridesLocalStorageKey,
JSON.stringify(overrides.filter((override) => override !== url))
);
fireChangedEvent();
return true;
} else {
return false;
}
},
getExternalOverrideMap(externalOverrides = imo.getExternalOverrides()) {
return externalOverrides.reduce((result, externalOverride) => {
const fetchPromise =
externalOverrideMapPromises[externalOverride] ||
(externalOverrideMapPromises[externalOverride] = fetchExternalMap(
externalOverride
));
return Promise.all([result, fetchPromise]).then(
([firstMap, secondMap]) => {
return imo.mergeImportMap(firstMap, secondMap);
}
);
}, Promise.resolve(createEmptyImportMap()));
},
isExternalMapValid(importMapUrl) {
const promise =
externalOverrideMapPromises[importMapUrl] ||
(externalOverrideMapPromises[importMapUrl] = fetchExternalMap(
importMapUrl
));
return promise.then(() =>
includes(imo.invalidExternalMaps, importMapUrl)
);
},
invalidExternalMaps: [],
};

const imo = window.importMapOverrides;

let canFireCustomEvents = true;
try {
if (CustomEvent) {
new CustomEvent("a");
} else {
canFireCustomEvents = false;
}
} catch (err) {
canFireCustomEvents = false;
}

function fireChangedEvent() {
fireEvent("change");
}

function fireEvent(type) {
// Set timeout so that event fires after the change has totally finished
setTimeout(() => {
const eventType = `import-map-overrides:${type}`;
const event = canFireCustomEvents
? new CustomEvent(eventType)
: document.createEvent("CustomEvent");
if (!canFireCustomEvents) {
event.initCustomEvent(eventType, true, true, null);
}
window.dispatchEvent(event);
});
}

const initialOverrideMap = imo.getOverrideMap();
const initialExternalOverrideMaps = imo.getExternalOverrides();

let referenceNode;

if (!serverOnly) {
const overridableImportMap = document.querySelector(
'script[type="overridable-importmap"]'
);

referenceNode = overridableImportMap;

if (!referenceNode) {
const importMaps = document.querySelectorAll(
`script[type="${importMapType}"]`
);
referenceNode = importMaps ? importMaps[importMaps.length - 1] : null;
}

if (overridableImportMap) {
if (overridableImportMap.src) {
throw Error(
`import-map-overrides: external import maps with type="overridable-importmap" are not supported`
);
}
let originalMap;
try {
originalMap = JSON.parse(overridableImportMap.textContent);
} catch (e) {
throw Error(
`Invalid <script type="overridable-importmap"> - text content must be json`
);
}

referenceNode = insertOverrideMap(
imo.mergeImportMap(originalMap, initialOverrideMap),
`import-map-overrides`,
referenceNode
);
insertAllExternalOverrideMaps();
} else {
insertAllExternalOverrideMaps();
if (Object.keys(initialOverrideMap.imports).length > 0) {
referenceNode = insertOverrideMap(
initialOverrideMap,
`import-map-overrides`,
referenceNode
);
}
}
}

fireEvent("init");

function insertOverrideMap(map, id, referenceNode) {
const overrideMapElement = document.createElement("script");
overrideMapElement.type = importMapType;
overrideMapElement.id = id; // for debugging and for UI to identify this import map as special
overrideMapElement.setAttribute(overrideAttribute, "");
if (typeof map === "string") {
overrideMapElement.src = map;
} else {
overrideMapElement.textContent = JSON.stringify(map, null, 2);
}

if (referenceNode) {
referenceNode.insertAdjacentElement("afterend", overrideMapElement);
} else {
document.head.appendChild(overrideMapElement);
}

return overrideMapElement;
}

function fetchExternalMap(url) {
return fetch(url).then(
(r) => {
if (r.ok) {
return r.json().catch((err) => {
console.warn(
Error(
`External override import map contained invalid json, at url ${r.url}. ${err}`
)
);
imo.invalidExternalMaps.push(r.url);
return createEmptyImportMap();
});
} else {
console.warn(
Error(
`Unable to download external override import map from url ${r.url}. Server responded with status ${r.status}`
)
);
imo.invalidExternalMaps.push(r.url);
return createEmptyImportMap();
}
},
() => {
console.warn(
Error(`Unable to download external import map at url '${url}'`)
);
imo.invalidExternalMaps.push(new URL(url, document.baseURI).href);
return createEmptyImportMap();
}
);
}

function createEmptyImportMap() {
return { imports: {}, scopes: {} };
}

function insertAllExternalOverrideMaps() {
if (initialExternalOverrideMaps.length > 0) {
initialExternalOverrideMaps.forEach((mapUrl, index) => {
referenceNode = insertOverrideMap(
mapUrl,
`import-map-overrides-external-${index}`
);
});
}
}
}

function canAccessLocalStorage() {
try {
localStorage.getItem("test");
return true;
} catch {
return false;
}
}
",
"// from https://github.com/sindresorhus/escape-string-regexp
export const escapeStringRegexp = (string) => {
if (typeof string !== "string") {
throw new TypeError("Expected a string");
}

// Escape characters with special meaning either inside or outside character sets.
// Use a simple backslash escape when it’s always valid, and a `\xnn` escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.
return string.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d");
};
",
"function styleInject(css, ref) {
if ( ref === void 0 ) ref = {};
var insertAt = ref.insertAt;

if (!css || typeof document === 'undefined') { return; }

var head = document.head || document.getElementsByTagName('head')[0];
var style = document.createElement('style');
style.type = 'text/css';

if (insertAt === 'top') {
if (head.firstChild) {
head.insertBefore(style, head.firstChild);
} else {
head.appendChild(style);
}
} else {
head.appendChild(style);
}

if (style.styleSheet) {
style.styleSheet.cssText = css;
} else {
style.appendChild(document.createTextNode(css));
}
}

export default styleInject;
",
"var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)"key"==r?t=u[r]:"ref"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),"function"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||"boolean"==typeof _?null:"string"==typeof _||"number"==typeof _||"bigint"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),"function"==typeof _.type&&null!=_.__k&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),a||"option"!==u.type?"function"==typeof u.type&&(u.__d=s):n.value=""):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&("function"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l="function"==typeof t.type?x(t,l,u):P(u,t,t,n.__k,t.__e,l));return l}function A(n,l){return l=l||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)"children"===o||"key"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&"function"!=typeof l[o]||"children"===o||"key"===o||"value"===o||"checked"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]=null==u?"":"number"!=typeof u||s.test(l)?u:u+"px"}function H(n,l,u,i,t){var o;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||$(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if("o"===l[0]&&"n"===l[1])o=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null!=u&&(!1!==u||"a"===l[0]&&"r"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if("function"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:("prototype"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if("svg"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&(s===l||(d?s.localName==d:3==s.nodeType))){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||""))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&"foreignObject"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||("value"in p&&void 0!==(_=p.value)&&(_!==l.value||"progress"===d&&!_)&&H(l,"value",_,y.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,"checked",_,y.checked,!1))}return l}function M(n,u,i){try{"function"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,"function"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o="function"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)"key"==r?t=u[r]:"ref"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l="__cC"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),"function"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};
//# sourceMappingURL=preact.module.js.map
",
"import { h, Component } from "preact";

export default class ModuleDialog extends Component {
getInitialOverrideUrl = () => {
const regex = new RegExp(`//localhost:([0-9]+)/`);
const match = regex.exec(this.props.module.overrideUrl);
if (
match &&
this.props.module.overrideUrl ===
window.importMapOverrides.getUrlFromPort(
this.props.module.moduleName,
match[1]
)
) {
return match[1];
} else if (this.props.module.overrideUrl) {
return this.props.module.overrideUrl;
} else {
return "";
}
};
state = {
overrideUrl: this.getInitialOverrideUrl(),
moduleName: "",
};
inputEl = null;
moduleNameEl = null;
componentDidMount() {
this.focusFirstInput();
this.dialogEl.addEventListener("keydown", this.keyDown);
}
componentDidUpdate(prevProps, prevState) {
if (this.props.module !== prevProps.module) {
this.setState(
{ overrideUrl: this.props.module.overrideUrl || "" },
() => {
this.focusFirstInput();
}
);
}
}
componentWillUnmount() {
this.dialogEl.removeEventListener("keydown", this.keyDown);
}
render({ module }) {
return (
<div className="imo-modal-container">
<div className="imo-modal" />
<dialog
className={`imo-module-dialog ${
this.state.overrideUrl.length > 0 ? "imo-overridden" : "imo-default"
}`}
open
ref={this.dialogRef}
>
<form method="dialog" onSubmit={this.handleSubmit}>
<h3 style={{ marginTop: 0 }}>{module.moduleName}</h3>
<table>
<tbody>
{!module.isNew && (
<tr>
<td>Default URL:</td>
<td>{module.defaultUrl}</td>
</tr>
)}
{module.isNew && (
<tr>
<td>
<span id="module-name-label">Module Name:</span>
</td>
<td style={{ position: "relative" }}>
<input
type="text"
tabIndex={1}
value={this.state.moduleName}
aria-labelledby="module-name-label"
onInput={(evt) =>
this.setState({ moduleName: evt.target.value })
}
ref={this.handleModuleNameRef}
required
/>
<div
role="button"
tabIndex={3}
className="imo-clear-input"
onClick={this.clearModuleName}
>
<div>{"\u24E7"}</div>
</div>
</td>
</tr>
)}
<tr>
<td>
<span id="override-url-label">Override URL:</span>
</td>
<td style={{ position: "relative" }}>
<input
ref={this.handleInputRef}
type="text"
value={this.state.overrideUrl}
aria-labelledby="override-url-label"
tabIndex={2}
onInput={(evt) =>
this.setState({ overrideUrl: evt.target.value })
}
/>
<div
role="button"
tabIndex={4}
className="imo-clear-input"
onClick={this.clearInput}
>
<div>{"\u24E7"}</div>
</div>
</td>
</tr>
{portRegex.test(this.state.overrideUrl) && (
<tr>
<td>Derived url:</td>
<td>{this.getDerivedUrl()}</td>
</tr>
)}
</tbody>
</table>
<div className="imo-dialog-actions">
<button
type="button"
tabIndex={5}
onClick={this.props.cancel}
style={{ marginRight: "16px" }}
>
Cancel
</button>
{this.props.module.overrideUrl && !this.props.module.disabled && (
<button
type="button"
onClick={() => {
if (this.props.module.disabled) {
window.importMapOverrides.enableOverride(
this.props.module.moduleName
);
} else {
window.importMapOverrides.disableOverride(
this.props.module.moduleName
);
}
this.props.cancel();
}}
tabIndex={6}
style={{ marginRight: "16px" }}
>
{this.props.module.disabled ? "Enable" : "Disable"} Override
</button>
)}
<button
type="submit"
tabIndex={7}
className={
this.state.overrideUrl ? "imo-overridden" : "imo-default"
}
>
{this.state.overrideUrl ? "Apply override" : "Reset to default"}
</button>
</div>
</form>
</dialog>
</div>
);
}

handleInputRef = (el) => {
this.inputEl = el;
};

handleModuleNameRef = (el) => {
this.moduleNameEl = el;
};

dialogRef = (el) => {
this.dialogEl = el;
};

handleSubmit = (evt) => {
evt.preventDefault();
if (
this.props.module.moduleName &&
window.importMapOverrides.isDisabled(this.props.module.moduleName)
) {
window.importMapOverrides.enableOverride(this.props.module.moduleName);
}
if (this.props.module.isNew) {
this.props.addNewModule(this.state.moduleName, this.state.overrideUrl);
} else {
this.props.updateModuleUrl(this.state.overrideUrl);
}
};

getDerivedUrl = () => {
const moduleName = this.props.module.isNew
? this.state.moduleName
: this.props.module.moduleName;
return portRegex.test(this.state.overrideUrl)
? window.importMapOverrides.getUrlFromPort(
moduleName,
this.state.overrideUrl
)
: this.state.overrideUrl;
};

keyDown = (evt) => {
if (evt.key === "Escape") {
evt.stopPropagation();
this.props.cancel();
}
};

focusFirstInput = () => {
const firstInput = this.moduleNameEl || this.inputEl;
firstInput.select();
};

clearModuleName = () => {
this.setState({ moduleName: "" }, () => {
this.focusFirstInput();
});
};

clearInput = () => {
this.setState({ overrideUrl: "" }, () => {
this.focusFirstInput();
});
};
}

const portRegex = /^\d+$/;
",
"import { h, Component } from "preact";

export default class ExternalImportMap extends Component {
state = {
url: this.props.dialogExternalMap.isNew
? ""
: this.props.dialogExternalMap.url,
};
inputEl = null;
componentDidMount() {
this.inputEl.focus();
this.dialogEl.addEventListener("keydown", this.keyDown);
}
componentWillUnmount() {
this.dialogEl.removeEventListener("keydown", this.keyDown);
}
render() {
return (
<div className="imo-modal-container">
<div className="imo-modal" />
<dialog
className="imo-module-dialog"
open
ref={(el) => (this.dialogEl = el)}
>
<form method="dialog" onSubmit={this.handleSubmit}>
<h3 style={{ marginTop: 0 }}>
{this.props.dialogExternalMap.isNew
? "Add External Import Map"
: "Edit External Import Map"}
</h3>
<div style={{ marginBottom: "20px" }}>
<label htmlFor="external-importmap-url">URL to import map:</label>
<span style={{ position: "relative" }}>
<input
id="external-importmap-url"
type="text"
value={this.state.url}
onInput={(evt) => this.setState({ url: evt.target.value })}
ref={(el) => (this.inputEl = el)}
required={this.props.dialogExternalMap.isNew}
/>
<div
role="button"
tabIndex={0}
className="imo-clear-input"
onClick={() => this.setState({ url: "" })}
>
<div>{"\u24E7"}</div>
</div>
</span>
</div>
<div className="imo-dialog-actions">
<button
type="button"
onClick={this.props.cancel}
style={{ marginRight: "16px" }}
>
Cancel
</button>
<button
type="submit"
className={this.state.url ? "imo-overridden" : "imo-default"}
>
{this.state.url || this.props.dialogExternalMap.isNew
? "Apply override"
: "Remove override"}
</button>
</div>
</form>
</dialog>
</div>
);
}
handleSubmit = (evt) => {
evt.preventDefault();

if (!this.props.dialogExternalMap.isNew) {
window.importMapOverrides.removeExternalOverride(
this.props.dialogExternalMap.url
);
}

if (this.state.url) {
window.importMapOverrides.addExternalOverride(this.state.url);
}

this.props.cancel();
};
keyDown = (evt) => {
if (evt.key === "Escape") {
evt.stopPropagation();
this.props.cancel();
}
};
}
",
"import { h, Component } from "preact";

export default class DevLibOverrides extends Component {
componentDidMount() {
window.importMapOverrides.getCurrentPageMap().then(addDevLibOverrides);
}
render() {
return null;
}
}

const removeMin = (url) => url.replace(".min.js", ".js");

export const devLibs = {
react: (url) => url.replace("production.min", "development"),
"react-dom": (url) => url.replace("production.min", "development"),
"single-spa": (url) => url.replace("single-spa.min.js", "single-spa.dev.js"),
vue: removeMin,
"vue-router": removeMin,
"@angular/core": removeMin,
"@angular/common": removeMin,
"@angular/router": removeMin,
"@angular/platform-browser": removeMin,
};

function addDevLibOverrides(notOverriddenMap) {
Object.keys(notOverriddenMap.imports)
.filter((libName) => devLibs[libName])
.forEach((libName) => {
window.importMapOverrides.addOverride(
libName,
devLibs[libName](notOverriddenMap.imports[libName])
);
});
}

export function overridesBesidesDevLibs() {
return (
Object.keys(window.importMapOverrides.getOverrideMap().imports).filter(
(k) => !devLibs[k]
).length > 0
);
}
",
"import { h, Component, render } from "preact";
import { includes } from "../../util/includes.js";
import ModuleDialog from "./module-dialog.component";
import ExternalImportMap from "./external-importmap-dialog.component";
import { devLibs } from "../dev-lib-overrides.component";

export default class List extends Component {
state = {
notOverriddenMap: { imports: {} },
currentPageMap: { imports: {} },
nextPageMap: { imports: {} },
dialogModule: null,
dialogExternalMap: null,
searchVal: "",
};
componentDidMount() {
window.importMapOverrides.getDefaultMap().then((notOverriddenMap) => {
this.setState({ notOverriddenMap });
});
window.importMapOverrides.getCurrentPageMap().then((currentPageMap) => {
this.setState({ currentPageMap });
});
window.importMapOverrides.getNextPageMap().then((nextPageMap) => {
this.setState({ nextPageMap });
});
window.addEventListener("import-map-overrides:change", this.doUpdate);
this.inputRef.focus();
}
componentWillUnmount() {
window.removeEventListener("import-map-overrides:change", this.doUpdate);
}
componentDidUpdate(prevProps, prevState) {
if (!prevState.dialogModule && this.state.dialogModule) {
this.dialogContainer = document.createElement("div");
document.body.appendChild(this.dialogContainer);
render(
<ModuleDialog
module={this.state.dialogModule}
cancel={this.cancel}
updateModuleUrl={this.updateModuleUrl}
addNewModule={this.addNewModule}
/>,
this.dialogContainer
);
} else if (prevState.dialogModule && !this.state.dialogModule) {
render(null, this.dialogContainer);
this.dialogContainer.remove();
delete this.dialogContainer;
}

if (!prevState.dialogExternalMap && this.state.dialogExternalMap) {
this.dialogContainer = document.createElement("div");
document.body.appendChild(this.dialogContainer);
render(
<ExternalImportMap
dialogExternalMap={this.state.dialogExternalMap}
cancel={this.cancel}
/>,
this.dialogContainer
);
} else if (prevState.dialogExternalMap && !this.state.dialogExternalMap) {
render(null, this.dialogContainer);
this.dialogContainer.remove();
delete this.dialogContainer;
}
}
render() {
const overriddenModules = [],
nextOverriddenModules = [],
disabledOverrides = [],
defaultModules = [],
externalOverrideModules = [],
pendingRefreshDefaultModules = [],
devLibModules = [];

const overrideMap = window.importMapOverrides.getOverrideMap(true).imports;

const notOverriddenKeys = Object.keys(this.state.notOverriddenMap.imports);

const disabledModules = window.importMapOverrides.getDisabledOverrides();

notOverriddenKeys.filter(this.filterModuleNames).forEach((moduleName) => {
const mod = {
moduleName,
defaultUrl: this.state.notOverriddenMap.imports[moduleName],
overrideUrl: overrideMap[moduleName],
disabled: includes(disabledModules, moduleName),
};
if (mod.disabled) {
disabledOverrides.push(mod);
} else if (overrideMap[moduleName]) {
if (
this.state.currentPageMap.imports[moduleName] ===
overrideMap[moduleName]
) {
if (
devLibs[moduleName] &&
devLibs[moduleName](
this.state.currentPageMap.imports[moduleName]
) === overrideMap[moduleName]
) {
devLibModules.push(mod);
} else {
overriddenModules.push(mod);
}
} else {
nextOverriddenModules.push(mod);
}
} else if (
this.state.notOverriddenMap.imports[moduleName] ===
this.state.currentPageMap.imports[moduleName]
) {
defaultModules.push(mod);
} else if (
this.state.notOverriddenMap.imports[moduleName] ===
this.state.nextPageMap.imports[moduleName]
) {
pendingRefreshDefaultModules.push(mod);
} else {
externalOverrideModules.push(mod);
}
});

Object.keys(overrideMap)
.filter(this.filterModuleNames)
.forEach((moduleName) => {
if (!includes(notOverriddenKeys, moduleName)) {
const mod = {
moduleName,
defaultUrl: null,
overrideUrl: overrideMap[moduleName],
disabled: includes(disabledModules, moduleName),
};

if (mod.disabled) {
disabledOverrides.push(mod);
} else if (
this.state.currentPageMap.imports[moduleName] ===
overrideMap[moduleName]
) {
overriddenModules.push(mod);
} else {
nextOverriddenModules.push(mod);
}
}
});

overriddenModules.sort(sorter);
defaultModules.sort(sorter);
nextOverriddenModules.sort(sorter);

const {
brokenMaps,
workingCurrentPageMaps,
workingNextPageMaps,
} = getExternalMaps();

return (
<div className="imo-list-container">
<div className="imo-table-header-actions">
<input
className="imo-list-search"
aria-label="Search modules"
placeholder="Search modules"
value={this.state.searchVal}
onInput={(evt) => this.setState({ searchVal: evt.target.value })}
ref={(ref) => (this.inputRef = ref)}
/>
<div className="imo-add-new">
<button
onClick={() =>
this.setState({
dialogModule: { moduleName: "New module", isNew: true },
})
}
>
Add new module
</button>
</div>
<div className="imo-add-new">
<button
onClick={() => {
this.setState({
dialogExternalMap: { url: "", isNew: true },
});
}}
>
Add import map
</button>
</div>
<div className="imo-add-new">
<button onClick={() => window.importMapOverrides.resetOverrides()}>
Reset all overrides
</button>
</div>
</div>
<table className="imo-overrides-table">
<thead>
<tr>
<th>Module Status</th>
<th>Module Name</th>
<th>Domain</th>
<th>Filename</th>
</tr>
</thead>
<tbody>
{nextOverriddenModules.map((mod) => (
<tr
role="button"
tabIndex={0}
onClick={() => this.setState({ dialogModule: mod })}
key={mod.moduleName}
>
<td onClick={this.reload} role="button" tabIndex={0}>
<div className="imo-status imo-next-override" />
<div>Inline Override</div>
<div className="imo-needs-refresh" />
</td>
<td>{mod.moduleName}</td>
<td>{toDomain(mod)}</td>
<td>{toFileName(mod)}</td>
</tr>
))}
{pendingRefreshDefaultModules.map((mod) => (
<tr
role="button"
tabIndex={0}
onClick={() => this.setState({ dialogModule: mod })}
key={mod.moduleName}
>
<td style={{ position: "relative" }}>
<div className="imo-status imo-next-default" />
<div>Default</div>
<div className="imo-needs-refresh" />
</td>
<td>{mod.moduleName}</td>
<td>{toDomain(mod)}</td>
<td>{toFileName(mod)}</td>
</tr>
))}
{disabledOverrides.map((mod) => (
<tr
role="button"
tabIndex={0}
onClick={() => this.setState({ dialogModule: mod })}
key={mod.moduleName}
>
<td>
<div className="imo-status imo-disabled-override" />
<div>Override disabled</div>
</td>
<td>{mod.moduleName}</td>
<td>{toDomain(mod)}</td>
<td>{toFileName(mod)}</td>
</tr>
))}
{overriddenModules.map((mod) => (
<tr
role="button"
tabIndex={0}
onClick={() => this.setState({ dialogModule: mod })}
key={mod.moduleName}
>
<td>
<div className="imo-status imo-current-override" />
<div>Inline Override</div>
</td>
<td>{mod.moduleName}</td>
<td>{toDomain(mod)}</td>
<td>{toFileName(mod)}</td>
</tr>
))}
{externalOverrideModules.map((mod) => (
<tr
role="button"
tabIndex={0}
onClick={() => this.setState({ dialogModule: mod })}
key={mod.moduleName}
>
<td>
<div className="imo-status imo-external-override" />
<div>External Override</div>
</td>
<td>{mod.moduleName}</td>
<td>{toDomain(mod)}</td>
<td>{toFileName(mod)}</td>
</tr>
))}
{devLibModules.map((mod) => (
<tr
role="button"
tabIndex={0}
onClick={() => this.setState({ dialogModule: mod })}
key={mod.moduleName}
title="Automatically use dev version of certain npm libs"
>
<td>
<div className="imo-status imo-dev-lib-override" />
<div>Dev Lib Override</div>
</td>
<td>{mod.moduleName}</td>
<td>{toDomain(mod)}</td>
<td>{toFileName(mod)}</td>
</tr>
))}
{defaultModules.map((mod) => (
<tr
role="button"
tabIndex={0}
onClick={() => this.setState({ dialogModule: mod })}
key={mod.moduleName}
>
<td>
<div className="imo-status imo-default-module" />
<div>Default</div>
</td>
<td>{mod.moduleName}</td>
<td>{toDomain(mod)}</td>
<td>{toFileName(mod)}</td>
</tr>
))}
</tbody>
</table>
{(brokenMaps.length > 0 ||
workingCurrentPageMaps.length > 0 ||
workingNextPageMaps.length > 0) && (
<table className="imo-overrides-table">
<thead>
<th>Import Map Status</th>
<th>URL</th>
</thead>
<tbody>
{brokenMaps.map((url) => (
<tr
role="button"
tabIndex={0}
onClick={() =>
this.setState({ dialogExternalMap: { isNew: false, url } })
}
key={url}
>
<td>
<div className="imo-status imo-disabled-override" />
<div>Invalid</div>
</td>
<td>{url}</td>
</tr>
))}
{workingNextPageMaps.map((url) => (
<tr
role="button"
tabIndex={0}
onClick={() =>
this.setState({ dialogExternalMap: { isNew: false, url } })
}
key={url}
>
<td>
<div className="imo-status imo-next-override" />
<div>Pending refresh</div>
</td>
<td>{url}</td>
</tr>
))}
{workingCurrentPageMaps.map((url) => (
<tr
role="button"
tabIndex={0}
onClick={() =>
this.setState({ dialogExternalMap: { isNew: false, url } })
}
key={url}
>
<td>
<div className="imo-status imo-current-override" />
<div>Override</div>
</td>
<td>{url}</td>
</tr>
))}
</tbody>
</table>
)}
</div>
);
}

reload = (evt) => {
evt.stopPropagation();
window.location.reload();
};

cancel = () => {
this.setState({ dialogModule: null, dialogExternalMap: null });
};

updateModuleUrl = (newUrl) => {
newUrl = newUrl || null;

if (newUrl === null) {
window.importMapOverrides.removeOverride(
this.state.dialogModule.moduleName
);
} else {
window.importMapOverrides.addOverride(
this.state.dialogModule.moduleName,
newUrl
);
}

this.setState({ dialogModule: null });
};

doUpdate = () => {
this.forceUpdate();
window.importMapOverrides.getNextPageMap().then((nextPageMap) => {
this.setState({ nextPageMap });
});
};

addNewModule = (name, url) => {
if (name && url) {
window.importMapOverrides.addOverride(name, url);
}
this.setState({ dialogModule: null });
};

filterModuleNames = (moduleName) => {
return this.state.searchVal.trim().length > 0
? includes(moduleName, this.state.searchVal)
: true;
};
}

function sorter(first, second) {
return first.moduleName > second.moduleName;
}

const currentBase =
(document.querySelector("base") && document.querySelector("base").href) ||
location.origin + "/";

function toDomain(mod) {
const urlStr = toUrlStr(mod);
const url = toURL(urlStr);
return url ? url.host : urlStr;
}

function toFileName(mod) {
const urlStr = toUrlStr(mod);
const url = toURL(urlStr);
return url ? url.pathname.slice(url.pathname.lastIndexOf("/") + 1) : urlStr;
}

function toUrlStr(mod) {
return mod.overrideUrl || mod.defaultUrl;
}

function toURL(urlStr) {
try {
return new URL(urlStr, currentBase);
} catch {
return null;
}
}

function getExternalMaps() {
const allExternalMaps = window.importMapOverrides.getExternalOverrides();
const allCurrentPageMaps = window.importMapOverrides.getCurrentPageExternalOverrides();
const brokenMaps = [],
workingCurrentPageMaps = [],
workingNextPageMaps = [];

for (let externalMap of allExternalMaps) {
if (includes(window.importMapOverrides.invalidExternalMaps, externalMap)) {
brokenMaps.push(externalMap);
} else {
if (includes(allCurrentPageMaps, externalMap)) {
workingCurrentPageMaps.push(externalMap);
} else {
workingNextPageMaps.push(externalMap);
}
}
}

return {
brokenMaps,
workingCurrentPageMaps,
workingNextPageMaps,
};
}
",
"import { h, Component } from "preact";
import List from "./list/list.component";

export default class Popup extends Component {
componentDidMount() {
window.addEventListener("keydown", this.keydownListener);
window.addEventListener("import-map-overrides:change", this.doUpdate);
}
componentWillUnmount() {
window.removeEventListener("keydown", this.keydownListener);
window.removeEventListener("import-map-overrides:change", this.doUpdate);
}
doUpdate = () => this.forceUpdate();
render(props) {
return (
<div className="imo-popup">
<div className="imo-header">
<div>
<h1>Import Map Overrides</h1>
<p>
This developer tool allows you to view and override your import
maps. Start by clicking on a module that you'd like to override.{" "}
<a
target="_blank"
href="https://github.com/joeldenning/import-map-overrides"
>
See documentation for more info
</a>
.
</p>
</div>
<button className="imo-unstyled" onClick={props.close}>
{"\u24E7"}
</button>
</div>
<List importMapChanged={this.props.importMapChanged} />
</div>
);
}
keydownListener = (evt) => {
if (evt.key === "Escape" && this.props.close) {
this.props.close();
}
};
}
",
"import { h, Component } from "preact";
import Popup from "./popup.component";
import DevLibOverrides, {
overridesBesidesDevLibs,
} from "./dev-lib-overrides.component";

export default class FullUI extends Component {
state = {
showingPopup: false,
};
componentDidMount() {
window.addEventListener("import-map-overrides:change", this.doUpdate);
}
componentWillUnmount() {
window.removeEventListener("import-map-overrides:change", this.doUpdate);
}
doUpdate = () => this.forceUpdate();
render(props, state) {
const shouldShow =
!props.customElement.hasAttribute("show-when-local-storage") ||
localStorage.getItem(
props.customElement.getAttribute("show-when-local-storage")
) === "true";

if (!shouldShow) {
return null;
}

return (
<div>
<button
onClick={this.toggleTrigger}
className={`imo-unstyled imo-trigger ${
this.atLeastOneOverride() ? "imo-current-override" : ""
}`}
>
{"{\u00B7\u00B7\u00B7}"}
</button>
{this.useDevLibs() && <DevLibOverrides />}
{state.showingPopup && (
<Popup
close={this.toggleTrigger}
importMapChanged={this.importMapChanged}
/>
)}
</div>
);
}
toggleTrigger = () => {
this.setState((prevState) => ({
showingPopup: !prevState.showingPopup,
}));
};
importMapChanged = () => {
this.forceUpdate();
};
useDevLibs = () => {
const localStorageValue = localStorage.getItem(
"import-map-overrides-dev-libs"
);
return localStorageValue
? localStorageValue === "true"
: this.props.customElement.hasAttribute("dev-libs");
};
atLeastOneOverride = () => {
if (this.useDevLibs()) {
return overridesBesidesDevLibs();
} else {
return (
Object.keys(window.importMapOverrides.getOverrideMap().imports).length >
0
);
}
};
}
",
"import styles from "./import-map-overrides.css";
import { render, h } from "preact";
import FullUI from "./full-ui.component";
import Popup from "./popup.component";
import List from "./list/list.component";
import { isDisabled } from "../api/js-api";

if (window.customElements && !isDisabled) {
window.customElements.define(
"import-map-overrides-full",
preactCustomElement(FullUI, ["show-when-local-storage"])
);
window.customElements.define(
"import-map-overrides-popup",
preactCustomElement(Popup)
);
window.customElements.define(
"import-map-overrides-list",
preactCustomElement(List)
);
}

function preactCustomElement(Comp, observedAttributes = []) {
return class PreactCustomElement extends HTMLElement {
connectedCallback() {
this.renderWithPreact();
}
disconnectedCallback() {
render(null, this);
this.renderedEl = null;
}
static get observedAttributes() {
return observedAttributes;
}
attributeChangedCallback() {
this.renderWithPreact();
}
renderWithPreact() {
this.shadow = this.attachShadow({ mode: "open" });
this.renderedEl = render(
h(Comp, { customElement: this }),
this.shadow,
this.renderedEl
);
const style = document.createElement("style");
style.textContent = styles.toString();
this.shadow.appendChild(style);
}
};
}
"
],
names: [
"includes",
"obj",
"item",
"Array",
"isArray",
"i",
"length",
"indexOf",
"Error",
"getParameterByName",
"name",
"url",
"window",
"location",
"href",
"replace",
"regex",
"RegExp",
"results",
"exec",
"decodeURIComponent",
"isDisabled",
"localStoragePrefix",
"disabledOverridesLocalStorageKey",
"externalOverridesLocalStorageKey",
"overrideAttribute",
"domainsMeta",
"allowListPrefix",
"denyListPrefix",
"importMapMetaElement",
"document",
"querySelector",
"domainsElement",
"externalOverrideMapPromises",
"importMapType",
"getAttribute",
"content",
"console",
"warn",
"matchHostname",
"domain",
"string",
"TypeError",
"escapeStringRegexp",
"test",
"hostname",
"slice",
"split",
"some",
"log",
"localStorage",
"getItem",
"canAccessLocalStorage",
"defaultMapPromise",
"serverOverrides",
"hasAttribute",
"serverOnly",
"importMapOverrides",
"addOverride",
"moduleName",
"imo",
"getUrlFromPort",
"key",
"setItem",
"cookie",
"fireChangedEvent",
"getOverrideMap",
"includeDisabled",
"overrides",
"imports",
"scopes",
"disabledOverrides",
"getDisabledOverrides",
"setOverride",
"path",
"queryParam",
"parent",
"referrer",
"queryParamImportMap",
"JSON",
"parse",
"e",
"Object",
"keys",
"forEach",
"removeOverride",
"hasItem",
"removeItem",
"enableOverride",
"resetOverrides",
"hasOverrides",
"port",
"fileName",
"enableUI",
"customElementName",
"showWhenLocalStorage",
"customElement",
"createElement",
"setAttribute",
"body",
"appendChild",
"localStorageKey",
"renderWithPreact",
"mergeImportMap",
"originalMap",
"newMap",
"outMap",
"getDefaultMap",
"prototype",
"reduce",
"call",
"querySelectorAll",
"promise",
"scriptEl",
"nextPromise",
"src",
"fetchExternalMap",
"Promise",
"resolve",
"textContent",
"all",
"then",
"getCurrentPageMap",
"getExternalOverrideMap",
"getCurrentPageExternalOverrides",
"defaultMap",
"externalOverridesMap",
"initialOverrideMap",
"currentPageExternalOverrides",
"externalOverrideEl",
"push",
"getNextPageMap",
"disableOverride",
"stringify",
"concat",
"index",
"splice",
"getExternalOverrides",
"localStorageValue",
"sort",
"addExternalOverride",
"URL",
"baseURI",
"removeExternalOverride",
"filter",
"override",
"result",
"externalOverride",
"fetchPromise",
"firstMap",
"secondMap",
"isExternalMapValid",
"importMapUrl",
"invalidExternalMaps",
"canFireCustomEvents",
"CustomEvent",
"err",
"fireEvent",
"type",
"setTimeout",
"eventType",
"event",
"createEvent",
"initCustomEvent",
"dispatchEvent",
"referenceNode",
"initialExternalOverrideMaps",
"overridableImportMap",
"importMaps",
"insertOverrideMap",
"insertAllExternalOverrideMaps",
"map",
"id",
"overrideMapElement",
"insertAdjacentElement",
"head",
"fetch",
"r",
"ok",
"json",
"catch",
"status",
"mapUrl",
"init",
"css",
"ref",
"insertAt",
"getElementsByTagName",
"style",
"firstChild",
"insertBefore",
"styleSheet",
"cssText",
"createTextNode",
"n",
"l",
"u",
"t",
"o",
"c",
"s",
"a",
"h",
"parentNode",
"removeChild",
"v",
"f",
"arguments",
"children",
"defaultProps",
"y",
"props",
"__k",
"__",
"__b",
"__e",
"__d",
"__c",
"__h",
"constructor",
"__v",
"vnode",
"d",
"_",
"this",
"context",
"k",
"b",
"base",
"m",
"g",
"__r",
"debounceRendering",
"__P",
"j",
"__n",
"ownerSVGElement",
"z",
"w",
"p",
"A",
"x",
"P",
"value",
"N",
"M",
"nextSibling",
"$",
"setProperty",
"H",
"toLowerCase",
"addEventListener",
"T",
"I",
"removeEventListener",
"removeAttribute",
"contextType",
"__E",
"render",
"O",
"sub",
"state",
"__s",
"getDerivedStateFromProps",
"componentWillMount",
"componentDidMount",
"componentWillReceiveProps",
"shouldComponentUpdate",
"componentWillUpdate",
"componentDidUpdate",
"getChildContext",
"getSnapshotBeforeUpdate",
"L",
"diffed",
"localName",
"nodeType",
"createElementNS",
"is",
"data",
"childNodes",
"dangerouslySetInnerHTML",
"attributes",
"__html",
"innerHTML",
"C",
"checked",
"current",
"unmount",
"componentWillUnmount",
"S",
"getDerivedStateFromError",
"setState",
"componentDidCatch",
"forceUpdate",
"bind",
"ModuleDialog",
"match",
"_this",
"module",
"overrideUrl",
"getInitialOverrideUrl",
"el",
"inputEl",
"moduleNameEl",
"dialogEl",
"evt",
"preventDefault",
"isNew",
"addNewModule",
"updateModuleUrl",
"portRegex",
"stopPropagation",
"cancel",
"select",
"focusFirstInput",
"keyDown",
"prevProps",
"prevState",
"_this2",
"className",
"open",
"dialogRef",
"method",
"onSubmit",
"handleSubmit",
"marginTop",
"defaultUrl",
"position",
"tabIndex",
"onInput",
"_this3",
"target",
"handleModuleNameRef",
"required",
"role",
"onClick",
"clearModuleName",
"handleInputRef",
"clearInput",
"getDerivedUrl",
"marginRight",
"disabled",
"Component",
"ExternalImportMap",
"dialogExternalMap",
"focus",
"marginBottom",
"htmlFor",
"DevLibOverrides",
"addDevLibOverrides",
"removeMin",
"devLibs",
"react",
"vue",
"notOverriddenMap",
"libName",
"overridesBesidesDevLibs",
"List",
"currentPageMap",
"nextPageMap",
"dialogModule",
"searchVal",
"reload",
"newUrl",
"trim",
"doUpdate",
"inputRef",
"dialogContainer",
"remove",
"overriddenModules",
"nextOverriddenModules",
"defaultModules",
"externalOverrideModules",
"pendingRefreshDefaultModules",
"devLibModules",
"overrideMap",
"notOverriddenKeys",
"disabledModules",
"filterModuleNames",
"mod",
"sorter",
"allExternalMaps",
"allCurrentPageMaps",
"brokenMaps",
"workingCurrentPageMaps",
"workingNextPageMaps",
"externalMap",
"getExternalMaps",
"placeholder",
"toDomain",
"toFileName",
"title",
"first",
"second",
"currentBase",
"origin",
"urlStr",
"toUrlStr",
"toURL",
"host",
"pathname",
"lastIndexOf",
"Popup",
"close",
"keydownListener",
"importMapChanged",
"FullUI",
"showingPopup",
"useDevLibs",
"toggleTrigger",
"atLeastOneOverride",
"preactCustomElement",
"Comp",
"observedAttributes",
"renderedEl",
"shadow",
"attachShadow",
"mode",
"styles",
"toString",
"HTMLElement",
"customElements",
"define"
],
mappings: "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"
}






